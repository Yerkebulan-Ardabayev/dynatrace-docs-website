
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Dynatrace Managed —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º">
      
      
        <meta name="author" content="Yerkebulan Ardabayev">
      
      
        <link rel="canonical" href="https://yerkebulan-ardabayev.github.io/dynatrace-docs-website/notebooklm/ingest-from__setup-on-k8s/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Dynatrace Documentation: ingest-from/setup-on-k8s - Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dynatrace-documentation-ingest-fromsetup-on-k8s" class="md-skip">
          –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="–í–µ—Ä—Ö–Ω–∏–π –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª">
    <a href="../.." title="Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" class="md-header__button md-logo" aria-label="Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dynatrace Documentation: ingest-from/setup-on-k8s
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="cyan"  aria-label="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="cyan"  aria-label="–¢—ë–º–Ω–∞—è —Ç–µ–º–∞"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="–¢—ë–º–Ω–∞—è —Ç–µ–º–∞" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="–ü–æ–∏—Å–∫" placeholder="–ü–æ–∏—Å–∫" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="–ü–æ–∏—Å–∫">
        
        <button type="reset" class="md-search__icon md-icon" title="–û—á–∏—Å—Ç–∏—Ç—å" aria-label="–û—á–∏—Å—Ç–∏—Ç—å" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Yerkebulan-Ardabayev/dynatrace-docs-website" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dynatrace-docs-website
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="–í–∫–ª–∞–¥–∫–∏" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  üè† –ì–ª–∞–≤–Ω–∞—è

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../managed/" class="md-tabs__link">
          
  
  
  üéØ Managed

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../common/" class="md-tabs__link">
          
  
  
  üìä –û–±—â–µ–µ

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../saas-reference/" class="md-tabs__link">
        
  
  
    
  
  üìñ SaaS

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../ai/groq/" class="md-tabs__link">
        
  
  
    
  
  ü§ñ AI

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" class="md-nav__button md-logo" aria-label="Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg>

    </a>
    Dynatrace Managed - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Yerkebulan-Ardabayev/dynatrace-docs-website" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dynatrace-docs-website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üè† –ì–ª–∞–≤–Ω–∞—è
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    üéØ Managed
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    üéØ Managed
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –û–±–∑–æ—Ä
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –£—Å—Ç–∞–Ω–æ–≤–∫–∞
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ù–∞—Å—Ç—Ä–æ–π–∫–∞
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ë—ç–∫–∞–ø
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/managed-cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ö–ª–∞—Å—Ç–µ—Ä
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –õ–∏—Ü–µ–Ω–∑–∏—è
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/dynatrace-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/observe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../managed/ingest-from/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    üìä –û–±—â–µ–µ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    üìä –û–±—â–µ–µ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    –û–±–∑–æ—Ä
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../saas-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üìñ SaaS
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/groq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ü§ñ AI
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-application-observabilitymd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Source: application-observability.md
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="dynatrace-documentation-ingest-fromsetup-on-k8s">Dynatrace Documentation: ingest-from/setup-on-k8s<a class="headerlink" href="#dynatrace-documentation-ingest-fromsetup-on-k8s" title="Permanent link">&para;</a></h1>
<p>Generated: 2026-02-17</p>
<p>Files combined: 45</p>
<hr />
<h2 id="source-application-observabilitymd">Source: application-observability.md<a class="headerlink" href="#source-application-observabilitymd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Get started with Kubernetes platform monitoring + Application observability
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/application-observability
scraped: 2026-02-17T04:51:32.162309</p>
<hr />
<h1 id="get-started-with-kubernetes-platform-monitoring-application-observability">Get started with Kubernetes platform monitoring + Application observability<a class="headerlink" href="#get-started-with-kubernetes-platform-monitoring-application-observability" title="Permanent link">&para;</a></h1>
<h1 id="get-started-with-kubernetes-platform-monitoring-application-observability_1">Get started with Kubernetes platform monitoring + Application observability<a class="headerlink" href="#get-started-with-kubernetes-platform-monitoring-application-observability_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>7-min read</li>
<li>Updated on Dec 09, 2025</li>
</ul>
<p>This page provides instructions for deploying Dynatrace Operator to enable Kubernetes platform monitoring and Application observability. This configuration is ideal for monitoring Kubernetes environments and containerized applications.</p>
<h2 id="use-cases">Use cases<a class="headerlink" href="#use-cases" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases/cluster-health" title="Understand and manage the health of your Kubernetes clusters with Dynatrace.">Assess and troubleshoot Kubernetes cluster and workload health</a></li>
<li><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases/resource-optimization" title="Efficiently utilize your cluster's resources by identifying workloads that don't fully utilize their allocated resources.">Optimize Kubernetes workload resource usage</a></li>
<li><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases/alert-use-case" title="Proactively address Kubernetes issues using out-of-the-box alerting mechanisms.">Receive alerts and events to detect and respond to cluster anomalies</a></li>
<li><a href="/docs/observe/infrastructure-observability/kubernetes-app" title="Monitor and optimize Kubernetes with Dynatrace. Get real-time insights and health for clusters and workloads.">Explore metrics, events, and logs your Pods and nodes in a single interface</a></li>
<li><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases/troubleshoot-health-problems" title="Identify and resolve health problems in Kubernetes workloads.">Troubleshoot common health problems of Kubernetes workloads</a></li>
<li><a href="/docs/observe/application-observability/distributed-tracing/distributed-tracing-app" title="Discover the functionalities of the new Distributed Tracing app.">Automatic distributed tracing across containers</a></li>
<li><a href="/docs/observe/application-observability/services/services-app" title="Maintain centralized control over service health, performance, and resources with the Services app.">Code-level and service insights</a> in application containers</li>
<li><a href="/docs/observe/application-observability/profiling-and-optimization" title="Learn how to use Dynatrace diagnostic tools for crash analysis, memory dump analysis, and more.">Profiling and thread analysis</a></li>
</ul>
<p>If you√¢¬Ä¬ôre looking to gain a complete view of your Kubernetes environment, check out the <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">deployment overview</a> to learn about <a href="/docs/ingest-from/setup-on-k8s/deployment/full-stack-observability" title="Deploy Dynatrace Operator in cloud-native full-stack mode to Kubernetes">Full-Stack observability</a>. You can further expand your Kubernetes observability on <a href="/docs/ingest-from/setup-on-k8s/deployment/k8s-log-monitoring" title="Manage your Kubernetes logs with Dynatrace.">Log Analytics</a>, <a href="/docs/observe/digital-experience" title="Optimize end-user experience with Digital Experience Monitoring to ensure application performance and availability across all channels.">Digital Experience</a>, and <a href="/docs/secure/application-security" title="Access the Dynatrace Application Security functionalities.">Application Security</a>.</p>
<p>Prerequisites</p>
<h3 id="before-you-begin">Before you begin<a class="headerlink" href="#before-you-begin" title="Permanent link">&para;</a></h3>
<p>Before installing Dynatrace on your Kubernetes cluster, ensure that you meet the following requirements:</p>
<ul>
<li>Your <code>kubectl</code> CLI is connected to the Kubernetes cluster that you want to monitor.</li>
<li>You have sufficient privileges on the monitored cluster to run <code>kubectl</code> or <code>oc</code> commands.</li>
</ul>
<h3 id="cluster-setup-and-configuration">Cluster setup and configuration<a class="headerlink" href="#cluster-setup-and-configuration" title="Permanent link">&para;</a></h3>
<ul>
<li>You must allow egress for Dynatrace pods (default: Dynatrace namespace) to your Dynatrace environment URL.</li>
<li>For OpenShift Dedicated, you need the <a href="https://docs.openshift.com/dedicated/osd_cluster_admin/osd-admin-roles.html">cluster-admin role√Ø¬ª¬ø</a>.</li>
<li>Helm installation Use <a href="https://dt-url.net/n5036j1">Helm version 3√Ø¬ª¬ø</a>.</li>
</ul>
<h3 id="supported-versions">Supported versions<a class="headerlink" href="#supported-versions" title="Permanent link">&para;</a></h3>
<p>See supported Kubernetes/OpenShift <a href="/docs/ingest-from/technology-support/support-model-and-issues" title="How Dynatrace supports Kubernetes and Red Hat OpenShift versions and known issues">platform versions</a> and <a href="/docs/ingest-from/setup-on-k8s/deployment/supported-technologies" title="Overview of different configurations for all major Kubernetes distributions.">distributions</a>.</p>
<p><a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/security-configurations/openshift-configuration" title="Configure Dynatrace Operator in OpenShift environments.">Configuring SCC</a> is required for OpenShift for <code>cloudNativeFullStack</code> and <code>applicationMonitoring</code> with Dynatrace Operator CSI driver deployments.</p>
<p>The combination of <code>hostMonitoring</code> and <code>applicationMonitoring</code> in a Kubernetes cluster in the same environment is not supported.</p>
<h2 id="installation-options">Installation options<a class="headerlink" href="#installation-options" title="Permanent link">&para;</a></h2>
<p>Choose <strong>one of the installation methods</strong> that best suits your needs.</p>
<p>[<img alt="Helm" src="https://dt-cdn.net/images/helm-1-f86d0c89ed.svg" title="Helm" /></p>
<p><strong>Helm</strong>](#helm)<a href="#manifest"><strong>Manifest</strong></a></p>
<h2 id="helm">Helm<a class="headerlink" href="#helm" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 0.8.0+</p>
<p>New Helm installation and upgrade instructions use our Helm chart available from an OCI registry. Therefore, if the Dynatrace repository is currently added to your local Helm repositories, it can be safely removed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>helm repo remove dynatrace
</code></pre></div>
<p>The installation process is independent of whether you are using Kubernetes or OpenShift. The platform is auto-detected during the installation.</p>
<ol>
<li>Install Dynatrace Operator</li>
</ol>
<p>You have two options:</p>
<p>Default installation / OCI registry installation</p>
<p>The following command works for both default installations and installations using an OCI registry.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>helm install dynatrace-operator oci://public.ecr.aws/dynatrace/dynatrace-operator \
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>--create-namespace \
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>--namespace dynatrace \
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>--atomic
</code></pre></div>
<p>Installation with additional configuration of the Helm chart</p>
<p>Edit the <a href="https://github.com/Dynatrace/dynatrace-operator/blob/v1.8.1/config/helm/chart/default/values.yaml"><code>values.yaml</code>√Ø¬ª¬ø</a> sample from GitHub, and then run the install command, passing the YAML file as an argument:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>helm install dynatrace-operator oci://public.ecr.aws/dynatrace/dynatrace-operator \
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>--create-namespace \
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>--namespace dynatrace \
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>--atomic \
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>-f values.yaml
</code></pre></div>
<p>If <code>installCRD</code> is set to <code>false</code>, you need to create the custom resource definition manually before starting the Helm installation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>kubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/dynatrace-operator-crd.yaml
</code></pre></div>
<p>VMware Tanzu Kubernetes (TKGI) and IBM Kubernetes Service (IKS) require <a href="/docs/ingest-from/setup-on-k8s/deployment/supported-technologies" title="Overview of different configurations for all major Kubernetes distributions.">additional configuration</a>.
2. Create secret for access tokens</p>
<p>Create a secret named <code>dynakube</code> for the Dynatrace Operator token and data ingest token obtained in <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Tokens and permissions required</a>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>kubectl -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
3. Create your DynaKube custom resource YAML file.</p>
<p>DynaKube custom resource sample for application monitoring</p>
<p>You can review the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">available parameters</a> or <a href="/docs/ingest-from/setup-on-k8s/guides" title="Detailed description of installation and configuration options for specific use-cases">how-to guides</a>, and adapt the DynaKube custom resource according to your requirements.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>kind: DynaKube
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>metadata:
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>name: dynakube
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>namespace: dynatrace
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>annotations:
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>feature.dynatrace.com/k8s-app-enabled: &quot;true&quot;
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>feature.dynatrace.com/injection-readonly-volume: &quot;true&quot;
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>spec:
<a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>
<a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>
<a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a># For detailed instructions on DynaKube parameters in the spec section, visit https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
<a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>
<a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>
<a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>
<a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a># Dynatrace apiUrl including the /api path at the end.
<a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>
<a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>
<a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>
<a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a># Replace &#39;ENVIRONMENTID&#39; with your environment ID.
<a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>
<a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>
<a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>
<a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a># For instructions on how to determine the environment ID and how to configure the apiUrl address, see https://www.dynatrace.com/support/help/reference/dynatrace-concepts/environment-id/.
<a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>
<a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>
<a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>
<a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a>
<a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a>
<a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a>
<a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a>metadataEnrichment:
<a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a>
<a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a>
<a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a>enabled: true
<a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a>
<a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>
<a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a>
<a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a>oneAgent:
<a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a>
<a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a>
<a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a>
<a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a>applicationMonitoring: {}
<a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a>
<a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a>
<a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a>
<a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a>activeGate:
<a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a>
<a id="__codelineno-5-75" name="__codelineno-5-75" href="#__codelineno-5-75"></a>
<a id="__codelineno-5-76" name="__codelineno-5-76" href="#__codelineno-5-76"></a>
<a id="__codelineno-5-77" name="__codelineno-5-77" href="#__codelineno-5-77"></a>capabilities:
<a id="__codelineno-5-78" name="__codelineno-5-78" href="#__codelineno-5-78"></a>
<a id="__codelineno-5-79" name="__codelineno-5-79" href="#__codelineno-5-79"></a>
<a id="__codelineno-5-80" name="__codelineno-5-80" href="#__codelineno-5-80"></a>
<a id="__codelineno-5-81" name="__codelineno-5-81" href="#__codelineno-5-81"></a>- routing
<a id="__codelineno-5-82" name="__codelineno-5-82" href="#__codelineno-5-82"></a>
<a id="__codelineno-5-83" name="__codelineno-5-83" href="#__codelineno-5-83"></a>
<a id="__codelineno-5-84" name="__codelineno-5-84" href="#__codelineno-5-84"></a>
<a id="__codelineno-5-85" name="__codelineno-5-85" href="#__codelineno-5-85"></a>- kubernetes-monitoring
<a id="__codelineno-5-86" name="__codelineno-5-86" href="#__codelineno-5-86"></a>
<a id="__codelineno-5-87" name="__codelineno-5-87" href="#__codelineno-5-87"></a>
<a id="__codelineno-5-88" name="__codelineno-5-88" href="#__codelineno-5-88"></a>
<a id="__codelineno-5-89" name="__codelineno-5-89" href="#__codelineno-5-89"></a>resources:
<a id="__codelineno-5-90" name="__codelineno-5-90" href="#__codelineno-5-90"></a>
<a id="__codelineno-5-91" name="__codelineno-5-91" href="#__codelineno-5-91"></a>
<a id="__codelineno-5-92" name="__codelineno-5-92" href="#__codelineno-5-92"></a>
<a id="__codelineno-5-93" name="__codelineno-5-93" href="#__codelineno-5-93"></a>requests:
<a id="__codelineno-5-94" name="__codelineno-5-94" href="#__codelineno-5-94"></a>
<a id="__codelineno-5-95" name="__codelineno-5-95" href="#__codelineno-5-95"></a>
<a id="__codelineno-5-96" name="__codelineno-5-96" href="#__codelineno-5-96"></a>
<a id="__codelineno-5-97" name="__codelineno-5-97" href="#__codelineno-5-97"></a>cpu: 500m
<a id="__codelineno-5-98" name="__codelineno-5-98" href="#__codelineno-5-98"></a>
<a id="__codelineno-5-99" name="__codelineno-5-99" href="#__codelineno-5-99"></a>
<a id="__codelineno-5-100" name="__codelineno-5-100" href="#__codelineno-5-100"></a>
<a id="__codelineno-5-101" name="__codelineno-5-101" href="#__codelineno-5-101"></a>memory: 512Mi
<a id="__codelineno-5-102" name="__codelineno-5-102" href="#__codelineno-5-102"></a>
<a id="__codelineno-5-103" name="__codelineno-5-103" href="#__codelineno-5-103"></a>
<a id="__codelineno-5-104" name="__codelineno-5-104" href="#__codelineno-5-104"></a>
<a id="__codelineno-5-105" name="__codelineno-5-105" href="#__codelineno-5-105"></a>limits:
<a id="__codelineno-5-106" name="__codelineno-5-106" href="#__codelineno-5-106"></a>
<a id="__codelineno-5-107" name="__codelineno-5-107" href="#__codelineno-5-107"></a>
<a id="__codelineno-5-108" name="__codelineno-5-108" href="#__codelineno-5-108"></a>
<a id="__codelineno-5-109" name="__codelineno-5-109" href="#__codelineno-5-109"></a>cpu: 1000m
<a id="__codelineno-5-110" name="__codelineno-5-110" href="#__codelineno-5-110"></a>
<a id="__codelineno-5-111" name="__codelineno-5-111" href="#__codelineno-5-111"></a>
<a id="__codelineno-5-112" name="__codelineno-5-112" href="#__codelineno-5-112"></a>
<a id="__codelineno-5-113" name="__codelineno-5-113" href="#__codelineno-5-113"></a>memory: 1.5Gi
</code></pre></div>
4. Optional Monitor potentially sensitive data</p>
<p>To monitor potentially sensitive data such as Secrets (values are masked before ingest) and ConfigMaps, you need to create a ClusterRole that allows access to these resources. Add the following snippet at the end of your DynaKube custom resource YAML file.</p>
<p>Installation with sensitive data monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>---
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>kind: ClusterRole
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>metadata:
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>labels:
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>rbac.dynatrace.com/aggregate-to-monitoring: &quot;true&quot;
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>name: dynatrace-kubernetes-monitoring-sensitive
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>rules:
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>- apiGroups:
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>- &quot;&quot;
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>resources:
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>- configmaps
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>- secrets
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>verbs:
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>- list
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a>
<a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a>
<a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a>- watch
<a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>
<a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>
<a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a>
<a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a>- get
</code></pre></div>
<p>The role will be automatically bound to the <code>dynatrace-kubernetes-monitoring</code> ClusterRole via aggregation rules. For more information about ClusterRole aggregation, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation" title="Understanding how the Dynatrace Operator uses ClusterRole aggregation to manage permissions for Kubernetes monitoring.">ClusterRole aggregation documentation</a>.
5. Apply the DynaKube custom resource</p>
<p>Run the command below to apply the DynaKube custom resource, making sure to replace <code>&lt;your-DynaKube-CR&gt;</code> with your actual DynaKube custom resource file name. A validation webhook will provide helpful error messages if there's a problem.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>kubectl apply -f &lt;your-DynaKube-CR&gt;.yaml
</code></pre></div>
6. Optional Verify deployment</p>
<p>Verify that your DynaKube is running and all Pods in your Dynatrace namespace are running and ready.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>&gt; kubectl get dynakube -n dynatrace
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>NAME         APIURL                                          STATUS     AGE
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>dynakube     https://&lt;ENVIRONMENTID&gt;.live.dynatrace.com/api  Running    45s
</code></pre></div>
<p>In a default DynaKube configuration with CSI driver, you should see the following Pods:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>&gt; kubectl get pods -n dynatrace
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>NAME                                  READY   STATUS    RESTARTS        AGE
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>dynakube-activegate-0                 1/1     Running   0               50s
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>dynatrace-oneagent-csi-driver-qxfwx   4/4     Running   0               2m49s
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>dynatrace-oneagent-csi-driver-xk5c4   4/4     Running   0               2m49s
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>dynatrace-oneagent-csi-driver-mz6ch   4/4     Running   0               2m49s
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>dynatrace-operator-7dc8dc7d8c-wmh4z   1/1     Running   0               2m59s
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>dynatrace-webhook-7bb6957fb5-l8fsq    1/1     Running   0               2m59s
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>dynatrace-webhook-7bb6957fb5-rqnqk    1/1     Running   0               2m59s
</code></pre></div>
<p>CSI driver is optional (see Step 2). If enabled, it gets deployed as DaemonSet and results in a CSI driver Pod on each node.</p>
<h2 id="manifest">Manifest<a class="headerlink" href="#manifest" title="Permanent link">&para;</a></h2>
<p>Kubernetes</p>
<p>OpenShift</p>
<ol>
<li>Create a <code>dynatrace</code> namespace</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>kubectl create namespace dynatrace
</code></pre></div>
2. Install Dynatrace Operator</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>kubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/kubernetes-csi.yaml
</code></pre></div>
<p>Without CSI driver</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>kubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/kubernetes.yaml
</code></pre></div>
<p>VMware Tanzu Kubernetes (TKGI) and IBM Kubernetes Service (IKS) require <a href="/docs/ingest-from/setup-on-k8s/deployment/supported-technologies" title="Overview of different configurations for all major Kubernetes distributions.">additional configuration</a>.</p>
<p>Run the following command to see when Dynatrace Operator components finish initialization:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>kubectl -n dynatrace wait pod --for=condition=ready --selector=app.kubernetes.io/name=dynatrace-operator,app.kubernetes.io/component=webhook --timeout=300s
</code></pre></div>
3. Create secret for Access tokens</p>
<p>Create a secret named <code>dynakube</code> for the Dynatrace Operator token and data ingest token obtained in <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Tokens and permissions required</a>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>kubectl -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
4. Create your DynaKube custom resource YAML file.</p>
<p>DynaKube custom resource sample for application monitoring</p>
<p>You can review the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">available parameters</a> or <a href="/docs/ingest-from/setup-on-k8s/guides" title="Detailed description of installation and configuration options for specific use-cases">how-to guides</a>, and adapt the DynaKube custom resource according to your requirements.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>kind: DynaKube
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>metadata:
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>name: dynakube
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>namespace: dynatrace
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>annotations:
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>feature.dynatrace.com/k8s-app-enabled: &quot;true&quot;
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>feature.dynatrace.com/injection-readonly-volume: &quot;true&quot;
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a>spec:
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a>
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a># For detailed instructions on DynaKube parameters in the spec section, visit https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a>
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a>
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a># Dynatrace apiUrl including the /api path at the end.
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a>
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a>
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a># Replace &#39;ENVIRONMENTID&#39; with your environment ID.
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a>
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a>
<a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a># For instructions on how to determine the environment ID and how to configure the apiUrl address, see https://www.dynatrace.com/support/help/reference/dynatrace-concepts/environment-id/.
<a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a>
<a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a>
<a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a>
<a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a>
<a id="__codelineno-15-55" name="__codelineno-15-55" href="#__codelineno-15-55"></a>
<a id="__codelineno-15-56" name="__codelineno-15-56" href="#__codelineno-15-56"></a>
<a id="__codelineno-15-57" name="__codelineno-15-57" href="#__codelineno-15-57"></a>metadataEnrichment:
<a id="__codelineno-15-58" name="__codelineno-15-58" href="#__codelineno-15-58"></a>
<a id="__codelineno-15-59" name="__codelineno-15-59" href="#__codelineno-15-59"></a>
<a id="__codelineno-15-60" name="__codelineno-15-60" href="#__codelineno-15-60"></a>
<a id="__codelineno-15-61" name="__codelineno-15-61" href="#__codelineno-15-61"></a>enabled: true
<a id="__codelineno-15-62" name="__codelineno-15-62" href="#__codelineno-15-62"></a>
<a id="__codelineno-15-63" name="__codelineno-15-63" href="#__codelineno-15-63"></a>
<a id="__codelineno-15-64" name="__codelineno-15-64" href="#__codelineno-15-64"></a>
<a id="__codelineno-15-65" name="__codelineno-15-65" href="#__codelineno-15-65"></a>oneAgent:
<a id="__codelineno-15-66" name="__codelineno-15-66" href="#__codelineno-15-66"></a>
<a id="__codelineno-15-67" name="__codelineno-15-67" href="#__codelineno-15-67"></a>
<a id="__codelineno-15-68" name="__codelineno-15-68" href="#__codelineno-15-68"></a>
<a id="__codelineno-15-69" name="__codelineno-15-69" href="#__codelineno-15-69"></a>applicationMonitoring: {}
<a id="__codelineno-15-70" name="__codelineno-15-70" href="#__codelineno-15-70"></a>
<a id="__codelineno-15-71" name="__codelineno-15-71" href="#__codelineno-15-71"></a>
<a id="__codelineno-15-72" name="__codelineno-15-72" href="#__codelineno-15-72"></a>
<a id="__codelineno-15-73" name="__codelineno-15-73" href="#__codelineno-15-73"></a>activeGate:
<a id="__codelineno-15-74" name="__codelineno-15-74" href="#__codelineno-15-74"></a>
<a id="__codelineno-15-75" name="__codelineno-15-75" href="#__codelineno-15-75"></a>
<a id="__codelineno-15-76" name="__codelineno-15-76" href="#__codelineno-15-76"></a>
<a id="__codelineno-15-77" name="__codelineno-15-77" href="#__codelineno-15-77"></a>capabilities:
<a id="__codelineno-15-78" name="__codelineno-15-78" href="#__codelineno-15-78"></a>
<a id="__codelineno-15-79" name="__codelineno-15-79" href="#__codelineno-15-79"></a>
<a id="__codelineno-15-80" name="__codelineno-15-80" href="#__codelineno-15-80"></a>
<a id="__codelineno-15-81" name="__codelineno-15-81" href="#__codelineno-15-81"></a>- routing
<a id="__codelineno-15-82" name="__codelineno-15-82" href="#__codelineno-15-82"></a>
<a id="__codelineno-15-83" name="__codelineno-15-83" href="#__codelineno-15-83"></a>
<a id="__codelineno-15-84" name="__codelineno-15-84" href="#__codelineno-15-84"></a>
<a id="__codelineno-15-85" name="__codelineno-15-85" href="#__codelineno-15-85"></a>- kubernetes-monitoring
<a id="__codelineno-15-86" name="__codelineno-15-86" href="#__codelineno-15-86"></a>
<a id="__codelineno-15-87" name="__codelineno-15-87" href="#__codelineno-15-87"></a>
<a id="__codelineno-15-88" name="__codelineno-15-88" href="#__codelineno-15-88"></a>
<a id="__codelineno-15-89" name="__codelineno-15-89" href="#__codelineno-15-89"></a>resources:
<a id="__codelineno-15-90" name="__codelineno-15-90" href="#__codelineno-15-90"></a>
<a id="__codelineno-15-91" name="__codelineno-15-91" href="#__codelineno-15-91"></a>
<a id="__codelineno-15-92" name="__codelineno-15-92" href="#__codelineno-15-92"></a>
<a id="__codelineno-15-93" name="__codelineno-15-93" href="#__codelineno-15-93"></a>requests:
<a id="__codelineno-15-94" name="__codelineno-15-94" href="#__codelineno-15-94"></a>
<a id="__codelineno-15-95" name="__codelineno-15-95" href="#__codelineno-15-95"></a>
<a id="__codelineno-15-96" name="__codelineno-15-96" href="#__codelineno-15-96"></a>
<a id="__codelineno-15-97" name="__codelineno-15-97" href="#__codelineno-15-97"></a>cpu: 500m
<a id="__codelineno-15-98" name="__codelineno-15-98" href="#__codelineno-15-98"></a>
<a id="__codelineno-15-99" name="__codelineno-15-99" href="#__codelineno-15-99"></a>
<a id="__codelineno-15-100" name="__codelineno-15-100" href="#__codelineno-15-100"></a>
<a id="__codelineno-15-101" name="__codelineno-15-101" href="#__codelineno-15-101"></a>memory: 512Mi
<a id="__codelineno-15-102" name="__codelineno-15-102" href="#__codelineno-15-102"></a>
<a id="__codelineno-15-103" name="__codelineno-15-103" href="#__codelineno-15-103"></a>
<a id="__codelineno-15-104" name="__codelineno-15-104" href="#__codelineno-15-104"></a>
<a id="__codelineno-15-105" name="__codelineno-15-105" href="#__codelineno-15-105"></a>limits:
<a id="__codelineno-15-106" name="__codelineno-15-106" href="#__codelineno-15-106"></a>
<a id="__codelineno-15-107" name="__codelineno-15-107" href="#__codelineno-15-107"></a>
<a id="__codelineno-15-108" name="__codelineno-15-108" href="#__codelineno-15-108"></a>
<a id="__codelineno-15-109" name="__codelineno-15-109" href="#__codelineno-15-109"></a>cpu: 1000m
<a id="__codelineno-15-110" name="__codelineno-15-110" href="#__codelineno-15-110"></a>
<a id="__codelineno-15-111" name="__codelineno-15-111" href="#__codelineno-15-111"></a>
<a id="__codelineno-15-112" name="__codelineno-15-112" href="#__codelineno-15-112"></a>
<a id="__codelineno-15-113" name="__codelineno-15-113" href="#__codelineno-15-113"></a>memory: 1.5Gi
</code></pre></div>
5. Optional Monitor potentially sensitive data</p>
<p>To monitor potentially sensitive data such as Secrets (values are masked before ingest) and ConfigMaps, you need to create a ClusterRole that allows access to these resources. Add the following snippet at the end of your DynaKube custom resource YAML file.</p>
<p>Installation with sensitive data monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>---
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>kind: ClusterRole
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>metadata:
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>labels:
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>rbac.dynatrace.com/aggregate-to-monitoring: &quot;true&quot;
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>name: dynatrace-kubernetes-monitoring-sensitive
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>
<a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>
<a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>
<a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>rules:
<a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>
<a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>
<a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>
<a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>- apiGroups:
<a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a>
<a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>
<a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a>
<a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a>- &quot;&quot;
<a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>
<a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a>
<a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a>
<a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>resources:
<a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a>
<a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a>
<a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a>
<a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a>- configmaps
<a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a>
<a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a>
<a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a>
<a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a>- secrets
<a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a>
<a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a>
<a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a>
<a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a>verbs:
<a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a>
<a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a>
<a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a>
<a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a>- list
<a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a>
<a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a>
<a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a>
<a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a>- watch
<a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a>
<a id="__codelineno-16-63" name="__codelineno-16-63" href="#__codelineno-16-63"></a>
<a id="__codelineno-16-64" name="__codelineno-16-64" href="#__codelineno-16-64"></a>
<a id="__codelineno-16-65" name="__codelineno-16-65" href="#__codelineno-16-65"></a>- get
</code></pre></div>
<p>The role will be automatically bound to the <code>dynatrace-kubernetes-monitoring</code> ClusterRole via aggregation rules. For more information about ClusterRole aggregation, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation" title="Understanding how the Dynatrace Operator uses ClusterRole aggregation to manage permissions for Kubernetes monitoring.">ClusterRole aggregation documentation</a>.
6. Apply the DynaKube custom resource</p>
<p>Run the command below to apply the DynaKube custom resource, making sure to replace <code>&lt;your-DynaKube-CR&gt;</code> with your actual DynaKube custom resource file name. A validation webhook will provide helpful error messages if there's a problem.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>kubectl apply -f &lt;your-DynaKube-CR&gt;.yaml
</code></pre></div>
7. Optional Verify deployment</p>
<p>Verify that your DynaKube is running and all Pods in your Dynatrace namespace are running and ready.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>&gt; kubectl get dynakube -n dynatrace
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>NAME         APIURL                                          STATUS     AGE
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>dynakube     https://&lt;ENVIRONMENTID&gt;.live.dynatrace.com/api  Running    45s
</code></pre></div>
<p>In a default DynaKube configuration with CSI driver, you should see the following Pods:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>&gt; kubectl get pods -n dynatrace
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>NAME                                  READY   STATUS    RESTARTS        AGE
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>dynakube-activegate-0                 1/1     Running   0               50s
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>dynatrace-oneagent-csi-driver-qxfwx   4/4     Running   0               2m49s
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>dynatrace-oneagent-csi-driver-xk5c4   4/4     Running   0               2m49s
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>dynatrace-oneagent-csi-driver-mz6ch   4/4     Running   0               2m49s
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>dynatrace-operator-7dc8dc7d8c-wmh4z   1/1     Running   0               2m59s
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>dynatrace-webhook-7bb6957fb5-l8fsq    1/1     Running   0               2m59s
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a>dynatrace-webhook-7bb6957fb5-rqnqk    1/1     Running   0               2m59s
</code></pre></div>
<p>CSI driver is optional (see Step 2). If enabled, it gets deployed as DaemonSet and results in a CSI driver Pod on each node.</p>
<ol>
<li>Add a <code>dynatrace</code> project</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>oc adm new-project --node-selector=&quot;&quot; dynatrace
</code></pre></div>
2. Install Dynatrace Operator</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>oc apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/openshift-csi.yaml
</code></pre></div>
<p>Without CSI driver</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>oc apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/openshift.yaml
</code></pre></div>
<p>Run the following command to see when Dynatrace Operator components finish initialization:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>oc -n dynatrace wait pod --for=condition=ready --selector=app.kubernetes.io/name=dynatrace-operator,app.kubernetes.io/component=webhook --timeout=300s
</code></pre></div>
3. Create secret for Access tokens</p>
<p>Create a secret named <code>dynakube</code> for the Dynatrace Operator token and data ingest token obtained in <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Tokens and permissions required</a>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>oc -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
4. Create your DynaKube custom resource YAML file.</p>
<p>DynaKube custom resource sample for application monitoring</p>
<p>You can review the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">available parameters</a> or <a href="/docs/ingest-from/setup-on-k8s/guides" title="Detailed description of installation and configuration options for specific use-cases">how-to guides</a>, and adapt the DynaKube custom resource according to your requirements.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>kind: DynaKube
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>metadata:
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>name: dynakube
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>namespace: dynatrace
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>annotations:
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a>
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>feature.dynatrace.com/k8s-app-enabled: &quot;true&quot;
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a>
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a>feature.dynatrace.com/injection-readonly-volume: &quot;true&quot;
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a>
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a>
<a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a>
<a id="__codelineno-25-33" name="__codelineno-25-33" href="#__codelineno-25-33"></a>spec:
<a id="__codelineno-25-34" name="__codelineno-25-34" href="#__codelineno-25-34"></a>
<a id="__codelineno-25-35" name="__codelineno-25-35" href="#__codelineno-25-35"></a>
<a id="__codelineno-25-36" name="__codelineno-25-36" href="#__codelineno-25-36"></a>
<a id="__codelineno-25-37" name="__codelineno-25-37" href="#__codelineno-25-37"></a># For detailed instructions on DynaKube parameters in the spec section, visit https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
<a id="__codelineno-25-38" name="__codelineno-25-38" href="#__codelineno-25-38"></a>
<a id="__codelineno-25-39" name="__codelineno-25-39" href="#__codelineno-25-39"></a>
<a id="__codelineno-25-40" name="__codelineno-25-40" href="#__codelineno-25-40"></a>
<a id="__codelineno-25-41" name="__codelineno-25-41" href="#__codelineno-25-41"></a># Dynatrace apiUrl including the /api path at the end.
<a id="__codelineno-25-42" name="__codelineno-25-42" href="#__codelineno-25-42"></a>
<a id="__codelineno-25-43" name="__codelineno-25-43" href="#__codelineno-25-43"></a>
<a id="__codelineno-25-44" name="__codelineno-25-44" href="#__codelineno-25-44"></a>
<a id="__codelineno-25-45" name="__codelineno-25-45" href="#__codelineno-25-45"></a># Replace &#39;ENVIRONMENTID&#39; with your environment ID.
<a id="__codelineno-25-46" name="__codelineno-25-46" href="#__codelineno-25-46"></a>
<a id="__codelineno-25-47" name="__codelineno-25-47" href="#__codelineno-25-47"></a>
<a id="__codelineno-25-48" name="__codelineno-25-48" href="#__codelineno-25-48"></a>
<a id="__codelineno-25-49" name="__codelineno-25-49" href="#__codelineno-25-49"></a># For instructions on how to determine the environment ID and how to configure the apiUrl address, see https://www.dynatrace.com/support/help/reference/dynatrace-concepts/environment-id/.
<a id="__codelineno-25-50" name="__codelineno-25-50" href="#__codelineno-25-50"></a>
<a id="__codelineno-25-51" name="__codelineno-25-51" href="#__codelineno-25-51"></a>
<a id="__codelineno-25-52" name="__codelineno-25-52" href="#__codelineno-25-52"></a>
<a id="__codelineno-25-53" name="__codelineno-25-53" href="#__codelineno-25-53"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-25-54" name="__codelineno-25-54" href="#__codelineno-25-54"></a>
<a id="__codelineno-25-55" name="__codelineno-25-55" href="#__codelineno-25-55"></a>
<a id="__codelineno-25-56" name="__codelineno-25-56" href="#__codelineno-25-56"></a>
<a id="__codelineno-25-57" name="__codelineno-25-57" href="#__codelineno-25-57"></a>metadataEnrichment:
<a id="__codelineno-25-58" name="__codelineno-25-58" href="#__codelineno-25-58"></a>
<a id="__codelineno-25-59" name="__codelineno-25-59" href="#__codelineno-25-59"></a>
<a id="__codelineno-25-60" name="__codelineno-25-60" href="#__codelineno-25-60"></a>
<a id="__codelineno-25-61" name="__codelineno-25-61" href="#__codelineno-25-61"></a>enabled: true
<a id="__codelineno-25-62" name="__codelineno-25-62" href="#__codelineno-25-62"></a>
<a id="__codelineno-25-63" name="__codelineno-25-63" href="#__codelineno-25-63"></a>
<a id="__codelineno-25-64" name="__codelineno-25-64" href="#__codelineno-25-64"></a>
<a id="__codelineno-25-65" name="__codelineno-25-65" href="#__codelineno-25-65"></a>oneAgent:
<a id="__codelineno-25-66" name="__codelineno-25-66" href="#__codelineno-25-66"></a>
<a id="__codelineno-25-67" name="__codelineno-25-67" href="#__codelineno-25-67"></a>
<a id="__codelineno-25-68" name="__codelineno-25-68" href="#__codelineno-25-68"></a>
<a id="__codelineno-25-69" name="__codelineno-25-69" href="#__codelineno-25-69"></a>applicationMonitoring: {}
<a id="__codelineno-25-70" name="__codelineno-25-70" href="#__codelineno-25-70"></a>
<a id="__codelineno-25-71" name="__codelineno-25-71" href="#__codelineno-25-71"></a>
<a id="__codelineno-25-72" name="__codelineno-25-72" href="#__codelineno-25-72"></a>
<a id="__codelineno-25-73" name="__codelineno-25-73" href="#__codelineno-25-73"></a>activeGate:
<a id="__codelineno-25-74" name="__codelineno-25-74" href="#__codelineno-25-74"></a>
<a id="__codelineno-25-75" name="__codelineno-25-75" href="#__codelineno-25-75"></a>
<a id="__codelineno-25-76" name="__codelineno-25-76" href="#__codelineno-25-76"></a>
<a id="__codelineno-25-77" name="__codelineno-25-77" href="#__codelineno-25-77"></a>capabilities:
<a id="__codelineno-25-78" name="__codelineno-25-78" href="#__codelineno-25-78"></a>
<a id="__codelineno-25-79" name="__codelineno-25-79" href="#__codelineno-25-79"></a>
<a id="__codelineno-25-80" name="__codelineno-25-80" href="#__codelineno-25-80"></a>
<a id="__codelineno-25-81" name="__codelineno-25-81" href="#__codelineno-25-81"></a>- routing
<a id="__codelineno-25-82" name="__codelineno-25-82" href="#__codelineno-25-82"></a>
<a id="__codelineno-25-83" name="__codelineno-25-83" href="#__codelineno-25-83"></a>
<a id="__codelineno-25-84" name="__codelineno-25-84" href="#__codelineno-25-84"></a>
<a id="__codelineno-25-85" name="__codelineno-25-85" href="#__codelineno-25-85"></a>- kubernetes-monitoring
<a id="__codelineno-25-86" name="__codelineno-25-86" href="#__codelineno-25-86"></a>
<a id="__codelineno-25-87" name="__codelineno-25-87" href="#__codelineno-25-87"></a>
<a id="__codelineno-25-88" name="__codelineno-25-88" href="#__codelineno-25-88"></a>
<a id="__codelineno-25-89" name="__codelineno-25-89" href="#__codelineno-25-89"></a>resources:
<a id="__codelineno-25-90" name="__codelineno-25-90" href="#__codelineno-25-90"></a>
<a id="__codelineno-25-91" name="__codelineno-25-91" href="#__codelineno-25-91"></a>
<a id="__codelineno-25-92" name="__codelineno-25-92" href="#__codelineno-25-92"></a>
<a id="__codelineno-25-93" name="__codelineno-25-93" href="#__codelineno-25-93"></a>requests:
<a id="__codelineno-25-94" name="__codelineno-25-94" href="#__codelineno-25-94"></a>
<a id="__codelineno-25-95" name="__codelineno-25-95" href="#__codelineno-25-95"></a>
<a id="__codelineno-25-96" name="__codelineno-25-96" href="#__codelineno-25-96"></a>
<a id="__codelineno-25-97" name="__codelineno-25-97" href="#__codelineno-25-97"></a>cpu: 500m
<a id="__codelineno-25-98" name="__codelineno-25-98" href="#__codelineno-25-98"></a>
<a id="__codelineno-25-99" name="__codelineno-25-99" href="#__codelineno-25-99"></a>
<a id="__codelineno-25-100" name="__codelineno-25-100" href="#__codelineno-25-100"></a>
<a id="__codelineno-25-101" name="__codelineno-25-101" href="#__codelineno-25-101"></a>memory: 512Mi
<a id="__codelineno-25-102" name="__codelineno-25-102" href="#__codelineno-25-102"></a>
<a id="__codelineno-25-103" name="__codelineno-25-103" href="#__codelineno-25-103"></a>
<a id="__codelineno-25-104" name="__codelineno-25-104" href="#__codelineno-25-104"></a>
<a id="__codelineno-25-105" name="__codelineno-25-105" href="#__codelineno-25-105"></a>limits:
<a id="__codelineno-25-106" name="__codelineno-25-106" href="#__codelineno-25-106"></a>
<a id="__codelineno-25-107" name="__codelineno-25-107" href="#__codelineno-25-107"></a>
<a id="__codelineno-25-108" name="__codelineno-25-108" href="#__codelineno-25-108"></a>
<a id="__codelineno-25-109" name="__codelineno-25-109" href="#__codelineno-25-109"></a>cpu: 1000m
<a id="__codelineno-25-110" name="__codelineno-25-110" href="#__codelineno-25-110"></a>
<a id="__codelineno-25-111" name="__codelineno-25-111" href="#__codelineno-25-111"></a>
<a id="__codelineno-25-112" name="__codelineno-25-112" href="#__codelineno-25-112"></a>
<a id="__codelineno-25-113" name="__codelineno-25-113" href="#__codelineno-25-113"></a>memory: 1.5Gi
</code></pre></div>
5. Optional Monitor potentially sensitive data</p>
<p>To monitor potentially sensitive data such as Secrets (values are masked before ingest) and ConfigMaps, you need to create a ClusterRole that allows access to these resources. Add the following snippet at the end of your DynaKube custom resource YAML file.</p>
<p>Installation with sensitive data monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>---
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>kind: ClusterRole
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>metadata:
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>labels:
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a>rbac.dynatrace.com/aggregate-to-monitoring: &quot;true&quot;
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a>
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a>name: dynatrace-kubernetes-monitoring-sensitive
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a>
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a>rules:
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a>
<a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a>
<a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a>- apiGroups:
<a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a>
<a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>
<a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a>
<a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a>- &quot;&quot;
<a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a>
<a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a>
<a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a>
<a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a>resources:
<a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a>
<a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a>
<a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a>
<a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a>- configmaps
<a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a>
<a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a>
<a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a>
<a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a>- secrets
<a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a>
<a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a>
<a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a>
<a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a>verbs:
<a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a>
<a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a>
<a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a>
<a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a>- list
<a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a>
<a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a>
<a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a>
<a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a>- watch
<a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a>
<a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a>
<a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a>
<a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a>- get
</code></pre></div>
<p>The role will be automatically bound to the <code>dynatrace-kubernetes-monitoring</code> ClusterRole via aggregation rules. For more information about ClusterRole aggregation, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation" title="Understanding how the Dynatrace Operator uses ClusterRole aggregation to manage permissions for Kubernetes monitoring.">ClusterRole aggregation documentation</a>.
6. Apply the DynaKube custom resource
   Run the command below to apply the DynaKube custom resource, making sure to replace <code>&lt;your-DynaKube-CR&gt;</code> with your actual DynaKube custom resource file name. A validation webhook will provide helpful error messages if there's a problem.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>oc apply -f &lt;your-DynaKube-CR&gt;.yaml
</code></pre></div>
7. Optional Verify deployment</p>
<p>Verify that your DynaKube is running and all Pods in your Dynatrace namespace are running and ready.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>&gt; oc get dynakube -n dynatrace
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>NAME         APIURL                                          STATUS     AGE
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>dynakube     https://&lt;ENVIRONMENTID&gt;.live.dynatrace.com/api  Running    45s
</code></pre></div>
<p>In a default DynaKube configuration with CSI driver, you should see the following Pods:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>&gt; oc get pods -n dynatrace
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>NAME                                  READY   STATUS    RESTARTS        AGE
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>dynakube-activegate-0                 1/1     Running   0               50s
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>dynatrace-oneagent-csi-driver-qxfwx   4/4     Running   0               2m49s
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>dynatrace-oneagent-csi-driver-xk5c4   4/4     Running   0               2m49s
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>dynatrace-oneagent-csi-driver-mz6ch   4/4     Running   0               2m49s
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>dynatrace-operator-7dc8dc7d8c-wmh4z   1/1     Running   0               2m59s
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a>dynatrace-webhook-7bb6957fb5-l8fsq    1/1     Running   0               2m59s
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>dynatrace-webhook-7bb6957fb5-rqnqk    1/1     Running   0               2m59s
</code></pre></div>
<p>CSI driver is optional (see Step 2). If enabled, it gets deployed as DaemonSet and results in a CSI driver Pod on each node.</p>
<h2 id="licensing">Licensing<a class="headerlink" href="#licensing" title="Permanent link">&para;</a></h2>
<p>Kubernetes platform monitoring + Application observability requires <a href="/docs/license" title="About Dynatrace Platform Subscription (DPS), the licensing model for all Dynatrace capabilities.">Dynatrace Platform Subscription (DPS)</a>. Kubernetes platform monitoring is licensed by number of Pods per hour (<a href="/docs/license/capabilities/container-monitoring/kubernetes-platform-monitoring" title="Learn how your consumption of the Dynatrace Kubernetes Platform Monitoring DPS capability is billed and charged.">pod-hours</a>) and Application observability by the sum of container memory (<a href="/docs/license/capabilities/app-infra-observability/full-stack-monitoring#gib-hour" title="Learn how your consumption of the Dynatrace Full-Stack Monitoring DPS capability is billed and charged.">GiB-hours</a>).</p>
<h2 id="learn-more">Learn more<a class="headerlink" href="#learn-more" title="Permanent link">&para;</a></h2>
<p>After you've successfully installed the Dynatrace Operator, you may find the following resources helpful for further learning and troubleshooting.</p>
<p>[### Get actionable answers</p>
<p>Start to analyze your Kubernetes clusters and containerized Apps with Dynatrace and benefit from actionable answers.](/docs/observe/infrastructure-observability/container-platform-monitoring/kubernetes-monitoring "Monitor Kubernetes/OpenShift with Dynatrace.")[### Guides</p>
<p>Learn how you can configure Dynatrace Operator to support specific use cases.](/docs/ingest-from/setup-on-k8s/guides "Detailed description of installation and configuration options for specific use-cases")[### Troubleshooting</p>
<p>Troubleshoot any challenges you may encounter while working with the Dynatrace Operator and its various components.](/docs/ingest-from/setup-on-k8s/deployment/troubleshooting "This page will assist you in navigating any challenges you may encounter while working with the Dynatrace Operator and its various components.")</p>
<p>[### How it works</p>
<p>Want to learn more about the Dynatrace components in your Kubernetes cluster?](/docs/ingest-from/setup-on-k8s/how-it-works "In-depth description on how the deployment on Kubernetes works.")[### Reference</p>
<p>API reference and configuration options for all Dynatrace components within your Kubernetes cluster.](/docs/ingest-from/setup-on-k8s/reference "Contains a reference page with configuration options for each Dynatrace component")[### Dynatrace Operator release notes</p>
<p>See release notes for Dynatrace Operator.](/docs/whats-new/dynatrace-operator "Release notes for Dynatrace Operator")[### Update or uninstall</p>
<p>This page provides a detailed instructions on how to update and uninstall Dynatrace Operator.](/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/update-uninstall-operator "Upgrade and uninstallation procedures for Dynatrace Operator")[### Dynatrace ActiveGate sizing guide</p>
<p>Sizing guide for Dynatrace ActiveGate components](/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/resource-management/ag-resource-limits "Set resource limits for Dynatrace ActiveGates")</p>
<h2 id="related-topics">Related topics<a class="headerlink" href="#related-topics" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/observe/infrastructure-observability/container-platform-monitoring/kubernetes-monitoring" title="Monitor Kubernetes/OpenShift with Dynatrace.">Kubernetes Classic</a></li>
</ul>
<hr />
<h2 id="source-eks-dtomd">Source: eks-dto.md<a class="headerlink" href="#source-eks-dtomd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Install Dynatrace Operator add-on for AWS Elastic Kubernetes Service (AWS EKS)
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/marketplaces/eks-dto
scraped: 2026-02-17T05:01:01.552864</p>
<hr />
<h1 id="install-dynatrace-operator-add-on-for-aws-elastic-kubernetes-service-aws-eks">Install Dynatrace Operator add-on for AWS Elastic Kubernetes Service (AWS EKS)<a class="headerlink" href="#install-dynatrace-operator-add-on-for-aws-elastic-kubernetes-service-aws-eks" title="Permanent link">&para;</a></h1>
<h1 id="install-dynatrace-operator-add-on-for-aws-elastic-kubernetes-service-aws-eks_1">Install Dynatrace Operator add-on for AWS Elastic Kubernetes Service (AWS EKS)<a class="headerlink" href="#install-dynatrace-operator-add-on-for-aws-elastic-kubernetes-service-aws-eks_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>3-min read</li>
<li>Published Jan 16, 2024</li>
</ul>
<p>To use the Dynatrace Operator add-on for AWS Elastic Kubernetes Service (AWS EKS), you need to install the add-on and then connect EKS with your environment.</p>
<p>[<img alt="Step 1" src="https://dt-cdn.net/images/step-1-086e22066c.svg" title="Step 1" /></p>
<p><strong>Install Dynatrace Operator add-on EKS</strong>](#install-dto)[<img alt="Step 2" src="https://dt-cdn.net/images/step-2-1a1384627e.svg" title="Step 2" /></p>
<p><strong>Connect EKS with your environment</strong>](#connect-eks)</p>
<h2 id="step-1-install-dynatrace-operator-add-on-for-eks">Step 1 Install Dynatrace Operator add-on for EKS<a class="headerlink" href="#step-1-install-dynatrace-operator-add-on-for-eks" title="Permanent link">&para;</a></h2>
<p>You can install the Dynatrace Operator add-on for AWS EKS through the AWS console or the CLI.</p>
<h3 id="install-through-aws-console">Install through AWS console<a class="headerlink" href="#install-through-aws-console" title="Permanent link">&para;</a></h3>
<p>To install the Dynatrace Operator add-on for AWS EKS through the AWS console</p>
<ol>
<li>Go to your EKS cluster.</li>
<li>In the <strong>Add-ons</strong> section, select <strong>Get more add-ons</strong> &gt; <strong>AWS Marketplace add-ons</strong>.</li>
<li>Filter for category <strong>Monitoring</strong> or search for <strong>Dynatrace</strong> to find the Dynatrace Operator add-on.</li>
<li>Select the checkbox in the upper-right corner of the card and then select <strong>Next</strong>.</li>
<li>Optional Select the version for this add-on and IAM role.</li>
<li>Select <strong>Next</strong> and review the configuration before applying.</li>
<li>
<p>Select <strong>Create</strong> and wait for the operation to finish.</p>
</li>
<li>
<p>The cluster overview page displays a confirmation banner.</p>
</li>
<li>A new <code>dynatrace</code> namespace is created</li>
<li>Several resources are automatically deployed by rendering the underlying helm chart.</li>
</ol>
<h3 id="installation-through-the-cli">Installation through the CLI<a class="headerlink" href="#installation-through-the-cli" title="Permanent link">&para;</a></h3>
<p>To install the Dynatrace Operator add-on for AWS EKS through the CLI</p>
<ol>
<li>Check the availability of the add-on and its versions.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>aws eks describe-addon-versions --addon-name dynatrace_dynatrace-operator
</code></pre></div>
2. Deploy the add-on, specifying the version if necessary.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>aws eks create-addon --cluster-name &lt;your_cluster_name&gt; --addon-name dynatrace_dynatrace-operator --addon-version &lt;version&gt;
</code></pre></div>
3. Verify the successful installation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>aws eks describe-addon --cluster-name &lt;your_cluster_name&gt; --addon-name dynatrace_dynatrace-operator
</code></pre></div>
<h2 id="step-2-connect-eks-with-your-environment">Step 2 Connect EKS with your environment<a class="headerlink" href="#step-2-connect-eks-with-your-environment" title="Permanent link">&para;</a></h2>
<ol>
<li>Create secret for access tokens.</li>
</ol>
<p>Create a secret named <code>dynakube</code> for the Dynatrace Operator token and data ingest token obtained in <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Tokens and permissions required</a>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>kubectl -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
2. Apply the DynaKube custom resource</p>
<p>Monitoring with <code>cloudNativeFullStack</code> or <code>appOnly</code> (with CSI driver) is only supported for Dynatrace Operator version 0.15.0+.</p>
<p>Download the <a href="https://dt-url.net/9n636jg">DynaKube custom resource sample for cloud-native full-stack mode on GitHub√Ø¬ª¬ø</a>. In addition, you can review the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">available parameters</a> or <a href="/docs/ingest-from/setup-on-k8s/guides" title="Detailed description of installation and configuration options for specific use-cases">how-to-guides</a>, and adapt the DynaKube custom resource according to your requirements.</p>
<p>Run the command below to apply the DynaKube custom resource, making sure to replace <code>&lt;your-DynaKube-CR&gt;</code> with your actual DynaKube custom resource file name. A validation webhook will provide helpful error messages if there's a problem.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>kubectl apply -f &lt;your-DynaKube-CR&gt;.yaml
</code></pre></div>
3. Optional Verify deployment</p>
<p>Verify that your DynaKube is running and all Pods in your Dynatrace namespace are running and ready.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>&gt; kubectl get dynakube -n dynatrace
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>NAME         APIURL                                          STATUS     AGE
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>dynakube     https://&lt;ENVIRONMENTID&gt;.live.dynatrace.com/api  Running    45s
</code></pre></div>
<p>In a default DynaKube configuration, you should see the following Pods:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>&gt; kubectl get pods -n dynatrace
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>NAME                                  READY   STATUS    RESTARTS        AGE
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>dynakube-activegate-0                 1/1     Running   0               50s
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>dynakube-oneagent-b88rn               1/1     Running   0               50s
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>dynakube-oneagent-m5jm4               1/1     Running   0               50s
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>dynakube-oneagent-qhd9u               1/1     Running   0               50s
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a>dynatrace-oneagent-csi-driver-qxfwx   4/4     Running   0               2m49s
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a>dynatrace-oneagent-csi-driver-xk5c4   4/4     Running   0               2m49s
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a>
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a>
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a>
<a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a>dynatrace-oneagent-csi-driver-mz6ch   4/4     Running   0               2m49s
<a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a>
<a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a>
<a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a>
<a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a>dynatrace-operator-7dc8dc7d8c-wmh4z   1/1     Running   0               2m59s
<a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a>
<a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a>
<a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a>
<a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a>dynatrace-webhook-7bb6957fb5-l8fsq    1/1     Running   0               2m59s
<a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a>
<a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a>
<a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a>
<a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a>dynatrace-webhook-7bb6957fb5-rqnqk    1/1     Running   0               2m59s
</code></pre></div>
<hr />
<h2 id="source-ag-in-vmmd">Source: ag-in-vm.md<a class="headerlink" href="#source-ag-in-vmmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Deploy ActiveGate in a VM
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm
scraped: 2026-02-17T05:08:47.258365</p>
<hr />
<h1 id="deploy-activegate-in-a-vm">Deploy ActiveGate in a VM<a class="headerlink" href="#deploy-activegate-in-a-vm" title="Permanent link">&para;</a></h1>
<h1 id="deploy-activegate-in-a-vm_1">Deploy ActiveGate in a VM<a class="headerlink" href="#deploy-activegate-in-a-vm_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>5-min read</li>
<li>Updated on Jan 22, 2026</li>
</ul>
<p>If you want to monitor several Kubernetes clusters with one ActiveGate and don't need to separate networks for administrative or operational traffic, you can install an ActiveGate on a virtual machine using a conventional installer to connect your clusters to Dynatrace as described below.</p>
<p>[<img alt="Step 1" src="https://dt-cdn.net/images/step-1-086e22066c.svg" title="Step 1" /></p>
<p><strong>Start installation</strong>](/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm#start-installation "Set up and configure an ActiveGate for Kubernetes platform monitoring in a virtual machine.")[<img alt="Step 2" src="https://dt-cdn.net/images/step-2-1a1384627e.svg" title="Step 2" /></p>
<p><strong>Download the installer</strong>](/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm#download-installer "Set up and configure an ActiveGate for Kubernetes platform monitoring in a virtual machine.")[<img alt="Step 3" src="https://dt-cdn.net/images/step-3-350cf6c19a.svg" title="Step 3" /></p>
<p><strong>Run the installer</strong>](/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm#run-installer "Set up and configure an ActiveGate for Kubernetes platform monitoring in a virtual machine.")[<img alt="Step 4" src="https://dt-cdn.net/images/step-4-3f89d67d41.svg" title="Step 4" /></p>
<p><strong>Connect your Kubernetes clusters to Dynatrace</strong>](/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm#connect-clusters-to-dynatrace "Set up and configure an ActiveGate for Kubernetes platform monitoring in a virtual machine.")</p>
<h2 id="step-1-start-installation">Step 1 Start installation<a class="headerlink" href="#step-1-start-installation" title="Permanent link">&para;</a></h2>
<ol>
<li>In Dynatrace Hub, select <strong>ActiveGate</strong>.</li>
<li>
<p>Select <strong>Set up</strong>.</p>
</li>
<li>
<p>On the <strong>Install Environment ActiveGate</strong> page, select <strong>Linux</strong>.</p>
</li>
</ol>
<h2 id="step-2-download-the-installer">Step 2 Download the installer<a class="headerlink" href="#step-2-download-the-installer" title="Permanent link">&para;</a></h2>
<p>How you download your installer depends on your setup and needs. You can choose to download an installer directly to the server where you plan to install Environment ActiveGate or you can download an installer to a different machine and then transfer the installer to the server.</p>
<ol>
<li>Select <a href="/docs/ingest-from/dynatrace-activegate/capabilities/routing-monitoring-purpose" title="Learn about the routing and monitoring capabilities and uses of ActiveGate.">Route OneAgent traffic</a> as an <a href="/docs/ingest-from/dynatrace-activegate#purposes" title="Understand the basic concepts related to ActiveGate.">ActiveGate purpose</a>.</li>
<li>Provide an access token with <a href="/docs/manage/identity-access-management/access-tokens-and-oauth-clients/access-tokens#paas-token" title="Learn the concept of an access token and its scopes."><code>PaaS Integration - InstallerDownload</code></a> scope. This token is required to download the ActiveGate installer from your environment. If you don't have an access token, you can create one right in the UI. The token is automatically appended to the download and installation commands you'll use later.</li>
<li>
<p>Select <strong>Download installer</strong>. There are two options:</p>
</li>
<li>
<p>Download via shell command. Copy and run the <code>wget</code> command.</p>
</li>
<li>Select the link to download the ActiveGate installer.</li>
<li>Verify the signature.
   Wait for the download to complete, and then verify the signature by copying the command from the second <strong>Verify signature</strong> text box and pasting the command into your terminal window.</li>
</ol>
<h2 id="step-3-run-the-installer">Step 3 Run the installer<a class="headerlink" href="#step-3-run-the-installer" title="Permanent link">&para;</a></h2>
<p>An install parameter (determined by the ActiveGate purpose you selected) is automatically set for the command to run the installer. Make sure you use the command displayed in Dynatrace that reflects the ActiveGate purpose.
Copy the installation script command from the <strong>Run the installer with root rights</strong> step and paste it into your terminal.</p>
<h3 id="add-the-kubernetes-ca-certificate-to-the-truststore-recommended">Add the Kubernetes CA certificate to the truststore Recommended<a class="headerlink" href="#add-the-kubernetes-ca-certificate-to-the-truststore-recommended" title="Permanent link">&para;</a></h3>
<p>For instructions on how to add the certificate to the truststore file, see <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-trusted-root-certificates-on-activegate" title="Learn how to specify a custom truststore file that is merged with Java's root certificates and used as a default on all connections.">Trusted root certificates for ActiveGate</a>.</p>
<h3 id="customize-installation">Customize installation<a class="headerlink" href="#customize-installation" title="Permanent link">&para;</a></h3>
<p>You can add additional <a href="/docs/ingest-from/dynatrace-activegate/installation/linux/linux-customize-installation-for-activegate" title="Learn about the command-line parameters that you can use with ActiveGate on Linux.">parameters</a> to the installation command to customize your installation. For example, to install ActiveGate in a different directory, use the <code>INSTALL=&lt;path&gt;</code> parameter:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>[root@host]# /bin/bash Dynatrace-ActiveGate-Linux-x86-1.0.0.sh INSTALL=/hosted_app/dynatrace
</code></pre></div>
<h3 id="default-installation-settings">Default installation settings<a class="headerlink" href="#default-installation-settings" title="Permanent link">&para;</a></h3>
<p>For installation defaults, including default directories, see <a href="/docs/ingest-from/dynatrace-activegate/installation/linux/linux-default-settings" title="Learn about the default settings with which ActiveGate is installed on Linux">ActiveGate default settings for Linux</a>.</p>
<h2 id="step-4-connect-your-kubernetes-clusters-to-dynatrace">Step 4 Connect your Kubernetes clusters to Dynatrace<a class="headerlink" href="#step-4-connect-your-kubernetes-clusters-to-dynatrace" title="Permanent link">&para;</a></h2>
<p>To connect the Kubernetes API to Dynatrace, follow the instructions that apply to your Kubernetes version.</p>
<ol>
<li>Create a service account and cluster role.</li>
</ol>
<p>Create a <code>kubernetes-monitoring-service-account.yaml</code> file with the following content.</p>
<p>kubernetes-monitoring-service-account.yaml</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>apiVersion: v1
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>kind: ServiceAccount
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>metadata:
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>name: dynatrace-monitoring
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a>namespace: dynatrace
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a>---
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a>kind: ClusterRole
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a>
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a>metadata:
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a>name: dynatrace-monitoring-cluster
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a>
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a>rules:
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a>
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a>- apiGroups:
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a>
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a>
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a>- &quot;&quot;
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a>
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a>
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a>resources:
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a>
<a id="__codelineno-38-55" name="__codelineno-38-55" href="#__codelineno-38-55"></a>
<a id="__codelineno-38-56" name="__codelineno-38-56" href="#__codelineno-38-56"></a>
<a id="__codelineno-38-57" name="__codelineno-38-57" href="#__codelineno-38-57"></a>- nodes
<a id="__codelineno-38-58" name="__codelineno-38-58" href="#__codelineno-38-58"></a>
<a id="__codelineno-38-59" name="__codelineno-38-59" href="#__codelineno-38-59"></a>
<a id="__codelineno-38-60" name="__codelineno-38-60" href="#__codelineno-38-60"></a>
<a id="__codelineno-38-61" name="__codelineno-38-61" href="#__codelineno-38-61"></a>- pods
<a id="__codelineno-38-62" name="__codelineno-38-62" href="#__codelineno-38-62"></a>
<a id="__codelineno-38-63" name="__codelineno-38-63" href="#__codelineno-38-63"></a>
<a id="__codelineno-38-64" name="__codelineno-38-64" href="#__codelineno-38-64"></a>
<a id="__codelineno-38-65" name="__codelineno-38-65" href="#__codelineno-38-65"></a>- namespaces
<a id="__codelineno-38-66" name="__codelineno-38-66" href="#__codelineno-38-66"></a>
<a id="__codelineno-38-67" name="__codelineno-38-67" href="#__codelineno-38-67"></a>
<a id="__codelineno-38-68" name="__codelineno-38-68" href="#__codelineno-38-68"></a>
<a id="__codelineno-38-69" name="__codelineno-38-69" href="#__codelineno-38-69"></a>- replicationcontrollers
<a id="__codelineno-38-70" name="__codelineno-38-70" href="#__codelineno-38-70"></a>
<a id="__codelineno-38-71" name="__codelineno-38-71" href="#__codelineno-38-71"></a>
<a id="__codelineno-38-72" name="__codelineno-38-72" href="#__codelineno-38-72"></a>
<a id="__codelineno-38-73" name="__codelineno-38-73" href="#__codelineno-38-73"></a>- events
<a id="__codelineno-38-74" name="__codelineno-38-74" href="#__codelineno-38-74"></a>
<a id="__codelineno-38-75" name="__codelineno-38-75" href="#__codelineno-38-75"></a>
<a id="__codelineno-38-76" name="__codelineno-38-76" href="#__codelineno-38-76"></a>
<a id="__codelineno-38-77" name="__codelineno-38-77" href="#__codelineno-38-77"></a>- resourcequotas
<a id="__codelineno-38-78" name="__codelineno-38-78" href="#__codelineno-38-78"></a>
<a id="__codelineno-38-79" name="__codelineno-38-79" href="#__codelineno-38-79"></a>
<a id="__codelineno-38-80" name="__codelineno-38-80" href="#__codelineno-38-80"></a>
<a id="__codelineno-38-81" name="__codelineno-38-81" href="#__codelineno-38-81"></a>- pods/proxy
<a id="__codelineno-38-82" name="__codelineno-38-82" href="#__codelineno-38-82"></a>
<a id="__codelineno-38-83" name="__codelineno-38-83" href="#__codelineno-38-83"></a>
<a id="__codelineno-38-84" name="__codelineno-38-84" href="#__codelineno-38-84"></a>
<a id="__codelineno-38-85" name="__codelineno-38-85" href="#__codelineno-38-85"></a>- nodes/proxy
<a id="__codelineno-38-86" name="__codelineno-38-86" href="#__codelineno-38-86"></a>
<a id="__codelineno-38-87" name="__codelineno-38-87" href="#__codelineno-38-87"></a>
<a id="__codelineno-38-88" name="__codelineno-38-88" href="#__codelineno-38-88"></a>
<a id="__codelineno-38-89" name="__codelineno-38-89" href="#__codelineno-38-89"></a>- nodes/metrics
<a id="__codelineno-38-90" name="__codelineno-38-90" href="#__codelineno-38-90"></a>
<a id="__codelineno-38-91" name="__codelineno-38-91" href="#__codelineno-38-91"></a>
<a id="__codelineno-38-92" name="__codelineno-38-92" href="#__codelineno-38-92"></a>
<a id="__codelineno-38-93" name="__codelineno-38-93" href="#__codelineno-38-93"></a>- services
<a id="__codelineno-38-94" name="__codelineno-38-94" href="#__codelineno-38-94"></a>
<a id="__codelineno-38-95" name="__codelineno-38-95" href="#__codelineno-38-95"></a>
<a id="__codelineno-38-96" name="__codelineno-38-96" href="#__codelineno-38-96"></a>
<a id="__codelineno-38-97" name="__codelineno-38-97" href="#__codelineno-38-97"></a>- persistentvolumeclaims
<a id="__codelineno-38-98" name="__codelineno-38-98" href="#__codelineno-38-98"></a>
<a id="__codelineno-38-99" name="__codelineno-38-99" href="#__codelineno-38-99"></a>
<a id="__codelineno-38-100" name="__codelineno-38-100" href="#__codelineno-38-100"></a>
<a id="__codelineno-38-101" name="__codelineno-38-101" href="#__codelineno-38-101"></a>- persistentvolumes
<a id="__codelineno-38-102" name="__codelineno-38-102" href="#__codelineno-38-102"></a>
<a id="__codelineno-38-103" name="__codelineno-38-103" href="#__codelineno-38-103"></a>
<a id="__codelineno-38-104" name="__codelineno-38-104" href="#__codelineno-38-104"></a>
<a id="__codelineno-38-105" name="__codelineno-38-105" href="#__codelineno-38-105"></a>verbs:
<a id="__codelineno-38-106" name="__codelineno-38-106" href="#__codelineno-38-106"></a>
<a id="__codelineno-38-107" name="__codelineno-38-107" href="#__codelineno-38-107"></a>
<a id="__codelineno-38-108" name="__codelineno-38-108" href="#__codelineno-38-108"></a>
<a id="__codelineno-38-109" name="__codelineno-38-109" href="#__codelineno-38-109"></a>- list
<a id="__codelineno-38-110" name="__codelineno-38-110" href="#__codelineno-38-110"></a>
<a id="__codelineno-38-111" name="__codelineno-38-111" href="#__codelineno-38-111"></a>
<a id="__codelineno-38-112" name="__codelineno-38-112" href="#__codelineno-38-112"></a>
<a id="__codelineno-38-113" name="__codelineno-38-113" href="#__codelineno-38-113"></a>- watch
<a id="__codelineno-38-114" name="__codelineno-38-114" href="#__codelineno-38-114"></a>
<a id="__codelineno-38-115" name="__codelineno-38-115" href="#__codelineno-38-115"></a>
<a id="__codelineno-38-116" name="__codelineno-38-116" href="#__codelineno-38-116"></a>
<a id="__codelineno-38-117" name="__codelineno-38-117" href="#__codelineno-38-117"></a>- get
<a id="__codelineno-38-118" name="__codelineno-38-118" href="#__codelineno-38-118"></a>
<a id="__codelineno-38-119" name="__codelineno-38-119" href="#__codelineno-38-119"></a>
<a id="__codelineno-38-120" name="__codelineno-38-120" href="#__codelineno-38-120"></a>
<a id="__codelineno-38-121" name="__codelineno-38-121" href="#__codelineno-38-121"></a>- apiGroups:
<a id="__codelineno-38-122" name="__codelineno-38-122" href="#__codelineno-38-122"></a>
<a id="__codelineno-38-123" name="__codelineno-38-123" href="#__codelineno-38-123"></a>
<a id="__codelineno-38-124" name="__codelineno-38-124" href="#__codelineno-38-124"></a>
<a id="__codelineno-38-125" name="__codelineno-38-125" href="#__codelineno-38-125"></a>- batch
<a id="__codelineno-38-126" name="__codelineno-38-126" href="#__codelineno-38-126"></a>
<a id="__codelineno-38-127" name="__codelineno-38-127" href="#__codelineno-38-127"></a>
<a id="__codelineno-38-128" name="__codelineno-38-128" href="#__codelineno-38-128"></a>
<a id="__codelineno-38-129" name="__codelineno-38-129" href="#__codelineno-38-129"></a>resources:
<a id="__codelineno-38-130" name="__codelineno-38-130" href="#__codelineno-38-130"></a>
<a id="__codelineno-38-131" name="__codelineno-38-131" href="#__codelineno-38-131"></a>
<a id="__codelineno-38-132" name="__codelineno-38-132" href="#__codelineno-38-132"></a>
<a id="__codelineno-38-133" name="__codelineno-38-133" href="#__codelineno-38-133"></a>- jobs
<a id="__codelineno-38-134" name="__codelineno-38-134" href="#__codelineno-38-134"></a>
<a id="__codelineno-38-135" name="__codelineno-38-135" href="#__codelineno-38-135"></a>
<a id="__codelineno-38-136" name="__codelineno-38-136" href="#__codelineno-38-136"></a>
<a id="__codelineno-38-137" name="__codelineno-38-137" href="#__codelineno-38-137"></a>- cronjobs
<a id="__codelineno-38-138" name="__codelineno-38-138" href="#__codelineno-38-138"></a>
<a id="__codelineno-38-139" name="__codelineno-38-139" href="#__codelineno-38-139"></a>
<a id="__codelineno-38-140" name="__codelineno-38-140" href="#__codelineno-38-140"></a>
<a id="__codelineno-38-141" name="__codelineno-38-141" href="#__codelineno-38-141"></a>verbs:
<a id="__codelineno-38-142" name="__codelineno-38-142" href="#__codelineno-38-142"></a>
<a id="__codelineno-38-143" name="__codelineno-38-143" href="#__codelineno-38-143"></a>
<a id="__codelineno-38-144" name="__codelineno-38-144" href="#__codelineno-38-144"></a>
<a id="__codelineno-38-145" name="__codelineno-38-145" href="#__codelineno-38-145"></a>- list
<a id="__codelineno-38-146" name="__codelineno-38-146" href="#__codelineno-38-146"></a>
<a id="__codelineno-38-147" name="__codelineno-38-147" href="#__codelineno-38-147"></a>
<a id="__codelineno-38-148" name="__codelineno-38-148" href="#__codelineno-38-148"></a>
<a id="__codelineno-38-149" name="__codelineno-38-149" href="#__codelineno-38-149"></a>- watch
<a id="__codelineno-38-150" name="__codelineno-38-150" href="#__codelineno-38-150"></a>
<a id="__codelineno-38-151" name="__codelineno-38-151" href="#__codelineno-38-151"></a>
<a id="__codelineno-38-152" name="__codelineno-38-152" href="#__codelineno-38-152"></a>
<a id="__codelineno-38-153" name="__codelineno-38-153" href="#__codelineno-38-153"></a>- get
<a id="__codelineno-38-154" name="__codelineno-38-154" href="#__codelineno-38-154"></a>
<a id="__codelineno-38-155" name="__codelineno-38-155" href="#__codelineno-38-155"></a>
<a id="__codelineno-38-156" name="__codelineno-38-156" href="#__codelineno-38-156"></a>
<a id="__codelineno-38-157" name="__codelineno-38-157" href="#__codelineno-38-157"></a>- apiGroups:
<a id="__codelineno-38-158" name="__codelineno-38-158" href="#__codelineno-38-158"></a>
<a id="__codelineno-38-159" name="__codelineno-38-159" href="#__codelineno-38-159"></a>
<a id="__codelineno-38-160" name="__codelineno-38-160" href="#__codelineno-38-160"></a>
<a id="__codelineno-38-161" name="__codelineno-38-161" href="#__codelineno-38-161"></a>- apps
<a id="__codelineno-38-162" name="__codelineno-38-162" href="#__codelineno-38-162"></a>
<a id="__codelineno-38-163" name="__codelineno-38-163" href="#__codelineno-38-163"></a>
<a id="__codelineno-38-164" name="__codelineno-38-164" href="#__codelineno-38-164"></a>
<a id="__codelineno-38-165" name="__codelineno-38-165" href="#__codelineno-38-165"></a>resources:
<a id="__codelineno-38-166" name="__codelineno-38-166" href="#__codelineno-38-166"></a>
<a id="__codelineno-38-167" name="__codelineno-38-167" href="#__codelineno-38-167"></a>
<a id="__codelineno-38-168" name="__codelineno-38-168" href="#__codelineno-38-168"></a>
<a id="__codelineno-38-169" name="__codelineno-38-169" href="#__codelineno-38-169"></a>- deployments
<a id="__codelineno-38-170" name="__codelineno-38-170" href="#__codelineno-38-170"></a>
<a id="__codelineno-38-171" name="__codelineno-38-171" href="#__codelineno-38-171"></a>
<a id="__codelineno-38-172" name="__codelineno-38-172" href="#__codelineno-38-172"></a>
<a id="__codelineno-38-173" name="__codelineno-38-173" href="#__codelineno-38-173"></a>- replicasets
<a id="__codelineno-38-174" name="__codelineno-38-174" href="#__codelineno-38-174"></a>
<a id="__codelineno-38-175" name="__codelineno-38-175" href="#__codelineno-38-175"></a>
<a id="__codelineno-38-176" name="__codelineno-38-176" href="#__codelineno-38-176"></a>
<a id="__codelineno-38-177" name="__codelineno-38-177" href="#__codelineno-38-177"></a>- statefulsets
<a id="__codelineno-38-178" name="__codelineno-38-178" href="#__codelineno-38-178"></a>
<a id="__codelineno-38-179" name="__codelineno-38-179" href="#__codelineno-38-179"></a>
<a id="__codelineno-38-180" name="__codelineno-38-180" href="#__codelineno-38-180"></a>
<a id="__codelineno-38-181" name="__codelineno-38-181" href="#__codelineno-38-181"></a>- daemonsets
<a id="__codelineno-38-182" name="__codelineno-38-182" href="#__codelineno-38-182"></a>
<a id="__codelineno-38-183" name="__codelineno-38-183" href="#__codelineno-38-183"></a>
<a id="__codelineno-38-184" name="__codelineno-38-184" href="#__codelineno-38-184"></a>
<a id="__codelineno-38-185" name="__codelineno-38-185" href="#__codelineno-38-185"></a>verbs:
<a id="__codelineno-38-186" name="__codelineno-38-186" href="#__codelineno-38-186"></a>
<a id="__codelineno-38-187" name="__codelineno-38-187" href="#__codelineno-38-187"></a>
<a id="__codelineno-38-188" name="__codelineno-38-188" href="#__codelineno-38-188"></a>
<a id="__codelineno-38-189" name="__codelineno-38-189" href="#__codelineno-38-189"></a>- list
<a id="__codelineno-38-190" name="__codelineno-38-190" href="#__codelineno-38-190"></a>
<a id="__codelineno-38-191" name="__codelineno-38-191" href="#__codelineno-38-191"></a>
<a id="__codelineno-38-192" name="__codelineno-38-192" href="#__codelineno-38-192"></a>
<a id="__codelineno-38-193" name="__codelineno-38-193" href="#__codelineno-38-193"></a>- watch
<a id="__codelineno-38-194" name="__codelineno-38-194" href="#__codelineno-38-194"></a>
<a id="__codelineno-38-195" name="__codelineno-38-195" href="#__codelineno-38-195"></a>
<a id="__codelineno-38-196" name="__codelineno-38-196" href="#__codelineno-38-196"></a>
<a id="__codelineno-38-197" name="__codelineno-38-197" href="#__codelineno-38-197"></a>- get
<a id="__codelineno-38-198" name="__codelineno-38-198" href="#__codelineno-38-198"></a>
<a id="__codelineno-38-199" name="__codelineno-38-199" href="#__codelineno-38-199"></a>
<a id="__codelineno-38-200" name="__codelineno-38-200" href="#__codelineno-38-200"></a>
<a id="__codelineno-38-201" name="__codelineno-38-201" href="#__codelineno-38-201"></a>- apiGroups:
<a id="__codelineno-38-202" name="__codelineno-38-202" href="#__codelineno-38-202"></a>
<a id="__codelineno-38-203" name="__codelineno-38-203" href="#__codelineno-38-203"></a>
<a id="__codelineno-38-204" name="__codelineno-38-204" href="#__codelineno-38-204"></a>
<a id="__codelineno-38-205" name="__codelineno-38-205" href="#__codelineno-38-205"></a>- apps.openshift.io
<a id="__codelineno-38-206" name="__codelineno-38-206" href="#__codelineno-38-206"></a>
<a id="__codelineno-38-207" name="__codelineno-38-207" href="#__codelineno-38-207"></a>
<a id="__codelineno-38-208" name="__codelineno-38-208" href="#__codelineno-38-208"></a>
<a id="__codelineno-38-209" name="__codelineno-38-209" href="#__codelineno-38-209"></a>resources:
<a id="__codelineno-38-210" name="__codelineno-38-210" href="#__codelineno-38-210"></a>
<a id="__codelineno-38-211" name="__codelineno-38-211" href="#__codelineno-38-211"></a>
<a id="__codelineno-38-212" name="__codelineno-38-212" href="#__codelineno-38-212"></a>
<a id="__codelineno-38-213" name="__codelineno-38-213" href="#__codelineno-38-213"></a>- deploymentconfigs
<a id="__codelineno-38-214" name="__codelineno-38-214" href="#__codelineno-38-214"></a>
<a id="__codelineno-38-215" name="__codelineno-38-215" href="#__codelineno-38-215"></a>
<a id="__codelineno-38-216" name="__codelineno-38-216" href="#__codelineno-38-216"></a>
<a id="__codelineno-38-217" name="__codelineno-38-217" href="#__codelineno-38-217"></a>verbs:
<a id="__codelineno-38-218" name="__codelineno-38-218" href="#__codelineno-38-218"></a>
<a id="__codelineno-38-219" name="__codelineno-38-219" href="#__codelineno-38-219"></a>
<a id="__codelineno-38-220" name="__codelineno-38-220" href="#__codelineno-38-220"></a>
<a id="__codelineno-38-221" name="__codelineno-38-221" href="#__codelineno-38-221"></a>- list
<a id="__codelineno-38-222" name="__codelineno-38-222" href="#__codelineno-38-222"></a>
<a id="__codelineno-38-223" name="__codelineno-38-223" href="#__codelineno-38-223"></a>
<a id="__codelineno-38-224" name="__codelineno-38-224" href="#__codelineno-38-224"></a>
<a id="__codelineno-38-225" name="__codelineno-38-225" href="#__codelineno-38-225"></a>- watch
<a id="__codelineno-38-226" name="__codelineno-38-226" href="#__codelineno-38-226"></a>
<a id="__codelineno-38-227" name="__codelineno-38-227" href="#__codelineno-38-227"></a>
<a id="__codelineno-38-228" name="__codelineno-38-228" href="#__codelineno-38-228"></a>
<a id="__codelineno-38-229" name="__codelineno-38-229" href="#__codelineno-38-229"></a>- get
<a id="__codelineno-38-230" name="__codelineno-38-230" href="#__codelineno-38-230"></a>
<a id="__codelineno-38-231" name="__codelineno-38-231" href="#__codelineno-38-231"></a>
<a id="__codelineno-38-232" name="__codelineno-38-232" href="#__codelineno-38-232"></a>
<a id="__codelineno-38-233" name="__codelineno-38-233" href="#__codelineno-38-233"></a>- apiGroups:
<a id="__codelineno-38-234" name="__codelineno-38-234" href="#__codelineno-38-234"></a>
<a id="__codelineno-38-235" name="__codelineno-38-235" href="#__codelineno-38-235"></a>
<a id="__codelineno-38-236" name="__codelineno-38-236" href="#__codelineno-38-236"></a>
<a id="__codelineno-38-237" name="__codelineno-38-237" href="#__codelineno-38-237"></a>- config.openshift.io
<a id="__codelineno-38-238" name="__codelineno-38-238" href="#__codelineno-38-238"></a>
<a id="__codelineno-38-239" name="__codelineno-38-239" href="#__codelineno-38-239"></a>
<a id="__codelineno-38-240" name="__codelineno-38-240" href="#__codelineno-38-240"></a>
<a id="__codelineno-38-241" name="__codelineno-38-241" href="#__codelineno-38-241"></a>resources:
<a id="__codelineno-38-242" name="__codelineno-38-242" href="#__codelineno-38-242"></a>
<a id="__codelineno-38-243" name="__codelineno-38-243" href="#__codelineno-38-243"></a>
<a id="__codelineno-38-244" name="__codelineno-38-244" href="#__codelineno-38-244"></a>
<a id="__codelineno-38-245" name="__codelineno-38-245" href="#__codelineno-38-245"></a>- clusterversions
<a id="__codelineno-38-246" name="__codelineno-38-246" href="#__codelineno-38-246"></a>
<a id="__codelineno-38-247" name="__codelineno-38-247" href="#__codelineno-38-247"></a>
<a id="__codelineno-38-248" name="__codelineno-38-248" href="#__codelineno-38-248"></a>
<a id="__codelineno-38-249" name="__codelineno-38-249" href="#__codelineno-38-249"></a>verbs:
<a id="__codelineno-38-250" name="__codelineno-38-250" href="#__codelineno-38-250"></a>
<a id="__codelineno-38-251" name="__codelineno-38-251" href="#__codelineno-38-251"></a>
<a id="__codelineno-38-252" name="__codelineno-38-252" href="#__codelineno-38-252"></a>
<a id="__codelineno-38-253" name="__codelineno-38-253" href="#__codelineno-38-253"></a>- list
<a id="__codelineno-38-254" name="__codelineno-38-254" href="#__codelineno-38-254"></a>
<a id="__codelineno-38-255" name="__codelineno-38-255" href="#__codelineno-38-255"></a>
<a id="__codelineno-38-256" name="__codelineno-38-256" href="#__codelineno-38-256"></a>
<a id="__codelineno-38-257" name="__codelineno-38-257" href="#__codelineno-38-257"></a>- watch
<a id="__codelineno-38-258" name="__codelineno-38-258" href="#__codelineno-38-258"></a>
<a id="__codelineno-38-259" name="__codelineno-38-259" href="#__codelineno-38-259"></a>
<a id="__codelineno-38-260" name="__codelineno-38-260" href="#__codelineno-38-260"></a>
<a id="__codelineno-38-261" name="__codelineno-38-261" href="#__codelineno-38-261"></a>- get
<a id="__codelineno-38-262" name="__codelineno-38-262" href="#__codelineno-38-262"></a>
<a id="__codelineno-38-263" name="__codelineno-38-263" href="#__codelineno-38-263"></a>
<a id="__codelineno-38-264" name="__codelineno-38-264" href="#__codelineno-38-264"></a>
<a id="__codelineno-38-265" name="__codelineno-38-265" href="#__codelineno-38-265"></a>- apiGroups:
<a id="__codelineno-38-266" name="__codelineno-38-266" href="#__codelineno-38-266"></a>
<a id="__codelineno-38-267" name="__codelineno-38-267" href="#__codelineno-38-267"></a>
<a id="__codelineno-38-268" name="__codelineno-38-268" href="#__codelineno-38-268"></a>
<a id="__codelineno-38-269" name="__codelineno-38-269" href="#__codelineno-38-269"></a>- dynatrace.com
<a id="__codelineno-38-270" name="__codelineno-38-270" href="#__codelineno-38-270"></a>
<a id="__codelineno-38-271" name="__codelineno-38-271" href="#__codelineno-38-271"></a>
<a id="__codelineno-38-272" name="__codelineno-38-272" href="#__codelineno-38-272"></a>
<a id="__codelineno-38-273" name="__codelineno-38-273" href="#__codelineno-38-273"></a>resources:
<a id="__codelineno-38-274" name="__codelineno-38-274" href="#__codelineno-38-274"></a>
<a id="__codelineno-38-275" name="__codelineno-38-275" href="#__codelineno-38-275"></a>
<a id="__codelineno-38-276" name="__codelineno-38-276" href="#__codelineno-38-276"></a>
<a id="__codelineno-38-277" name="__codelineno-38-277" href="#__codelineno-38-277"></a>- dynakubes
<a id="__codelineno-38-278" name="__codelineno-38-278" href="#__codelineno-38-278"></a>
<a id="__codelineno-38-279" name="__codelineno-38-279" href="#__codelineno-38-279"></a>
<a id="__codelineno-38-280" name="__codelineno-38-280" href="#__codelineno-38-280"></a>
<a id="__codelineno-38-281" name="__codelineno-38-281" href="#__codelineno-38-281"></a>- edgeconnects
<a id="__codelineno-38-282" name="__codelineno-38-282" href="#__codelineno-38-282"></a>
<a id="__codelineno-38-283" name="__codelineno-38-283" href="#__codelineno-38-283"></a>
<a id="__codelineno-38-284" name="__codelineno-38-284" href="#__codelineno-38-284"></a>
<a id="__codelineno-38-285" name="__codelineno-38-285" href="#__codelineno-38-285"></a>verbs:
<a id="__codelineno-38-286" name="__codelineno-38-286" href="#__codelineno-38-286"></a>
<a id="__codelineno-38-287" name="__codelineno-38-287" href="#__codelineno-38-287"></a>
<a id="__codelineno-38-288" name="__codelineno-38-288" href="#__codelineno-38-288"></a>
<a id="__codelineno-38-289" name="__codelineno-38-289" href="#__codelineno-38-289"></a>- list
<a id="__codelineno-38-290" name="__codelineno-38-290" href="#__codelineno-38-290"></a>
<a id="__codelineno-38-291" name="__codelineno-38-291" href="#__codelineno-38-291"></a>
<a id="__codelineno-38-292" name="__codelineno-38-292" href="#__codelineno-38-292"></a>
<a id="__codelineno-38-293" name="__codelineno-38-293" href="#__codelineno-38-293"></a>- watch
<a id="__codelineno-38-294" name="__codelineno-38-294" href="#__codelineno-38-294"></a>
<a id="__codelineno-38-295" name="__codelineno-38-295" href="#__codelineno-38-295"></a>
<a id="__codelineno-38-296" name="__codelineno-38-296" href="#__codelineno-38-296"></a>
<a id="__codelineno-38-297" name="__codelineno-38-297" href="#__codelineno-38-297"></a>- get
<a id="__codelineno-38-298" name="__codelineno-38-298" href="#__codelineno-38-298"></a>
<a id="__codelineno-38-299" name="__codelineno-38-299" href="#__codelineno-38-299"></a>
<a id="__codelineno-38-300" name="__codelineno-38-300" href="#__codelineno-38-300"></a>
<a id="__codelineno-38-301" name="__codelineno-38-301" href="#__codelineno-38-301"></a>- apiGroups:
<a id="__codelineno-38-302" name="__codelineno-38-302" href="#__codelineno-38-302"></a>
<a id="__codelineno-38-303" name="__codelineno-38-303" href="#__codelineno-38-303"></a>
<a id="__codelineno-38-304" name="__codelineno-38-304" href="#__codelineno-38-304"></a>
<a id="__codelineno-38-305" name="__codelineno-38-305" href="#__codelineno-38-305"></a>- apiextensions.k8s.io
<a id="__codelineno-38-306" name="__codelineno-38-306" href="#__codelineno-38-306"></a>
<a id="__codelineno-38-307" name="__codelineno-38-307" href="#__codelineno-38-307"></a>
<a id="__codelineno-38-308" name="__codelineno-38-308" href="#__codelineno-38-308"></a>
<a id="__codelineno-38-309" name="__codelineno-38-309" href="#__codelineno-38-309"></a>resources:
<a id="__codelineno-38-310" name="__codelineno-38-310" href="#__codelineno-38-310"></a>
<a id="__codelineno-38-311" name="__codelineno-38-311" href="#__codelineno-38-311"></a>
<a id="__codelineno-38-312" name="__codelineno-38-312" href="#__codelineno-38-312"></a>
<a id="__codelineno-38-313" name="__codelineno-38-313" href="#__codelineno-38-313"></a>- customresourcedefinitions
<a id="__codelineno-38-314" name="__codelineno-38-314" href="#__codelineno-38-314"></a>
<a id="__codelineno-38-315" name="__codelineno-38-315" href="#__codelineno-38-315"></a>
<a id="__codelineno-38-316" name="__codelineno-38-316" href="#__codelineno-38-316"></a>
<a id="__codelineno-38-317" name="__codelineno-38-317" href="#__codelineno-38-317"></a>verbs:
<a id="__codelineno-38-318" name="__codelineno-38-318" href="#__codelineno-38-318"></a>
<a id="__codelineno-38-319" name="__codelineno-38-319" href="#__codelineno-38-319"></a>
<a id="__codelineno-38-320" name="__codelineno-38-320" href="#__codelineno-38-320"></a>
<a id="__codelineno-38-321" name="__codelineno-38-321" href="#__codelineno-38-321"></a>- list
<a id="__codelineno-38-322" name="__codelineno-38-322" href="#__codelineno-38-322"></a>
<a id="__codelineno-38-323" name="__codelineno-38-323" href="#__codelineno-38-323"></a>
<a id="__codelineno-38-324" name="__codelineno-38-324" href="#__codelineno-38-324"></a>
<a id="__codelineno-38-325" name="__codelineno-38-325" href="#__codelineno-38-325"></a>- watch
<a id="__codelineno-38-326" name="__codelineno-38-326" href="#__codelineno-38-326"></a>
<a id="__codelineno-38-327" name="__codelineno-38-327" href="#__codelineno-38-327"></a>
<a id="__codelineno-38-328" name="__codelineno-38-328" href="#__codelineno-38-328"></a>
<a id="__codelineno-38-329" name="__codelineno-38-329" href="#__codelineno-38-329"></a>- get
<a id="__codelineno-38-330" name="__codelineno-38-330" href="#__codelineno-38-330"></a>
<a id="__codelineno-38-331" name="__codelineno-38-331" href="#__codelineno-38-331"></a>
<a id="__codelineno-38-332" name="__codelineno-38-332" href="#__codelineno-38-332"></a>
<a id="__codelineno-38-333" name="__codelineno-38-333" href="#__codelineno-38-333"></a>- apiGroups:
<a id="__codelineno-38-334" name="__codelineno-38-334" href="#__codelineno-38-334"></a>
<a id="__codelineno-38-335" name="__codelineno-38-335" href="#__codelineno-38-335"></a>
<a id="__codelineno-38-336" name="__codelineno-38-336" href="#__codelineno-38-336"></a>
<a id="__codelineno-38-337" name="__codelineno-38-337" href="#__codelineno-38-337"></a>- networking.k8s.io
<a id="__codelineno-38-338" name="__codelineno-38-338" href="#__codelineno-38-338"></a>
<a id="__codelineno-38-339" name="__codelineno-38-339" href="#__codelineno-38-339"></a>
<a id="__codelineno-38-340" name="__codelineno-38-340" href="#__codelineno-38-340"></a>
<a id="__codelineno-38-341" name="__codelineno-38-341" href="#__codelineno-38-341"></a>resources:
<a id="__codelineno-38-342" name="__codelineno-38-342" href="#__codelineno-38-342"></a>
<a id="__codelineno-38-343" name="__codelineno-38-343" href="#__codelineno-38-343"></a>
<a id="__codelineno-38-344" name="__codelineno-38-344" href="#__codelineno-38-344"></a>
<a id="__codelineno-38-345" name="__codelineno-38-345" href="#__codelineno-38-345"></a>- ingresses
<a id="__codelineno-38-346" name="__codelineno-38-346" href="#__codelineno-38-346"></a>
<a id="__codelineno-38-347" name="__codelineno-38-347" href="#__codelineno-38-347"></a>
<a id="__codelineno-38-348" name="__codelineno-38-348" href="#__codelineno-38-348"></a>
<a id="__codelineno-38-349" name="__codelineno-38-349" href="#__codelineno-38-349"></a>- networkpolicies
<a id="__codelineno-38-350" name="__codelineno-38-350" href="#__codelineno-38-350"></a>
<a id="__codelineno-38-351" name="__codelineno-38-351" href="#__codelineno-38-351"></a>
<a id="__codelineno-38-352" name="__codelineno-38-352" href="#__codelineno-38-352"></a>
<a id="__codelineno-38-353" name="__codelineno-38-353" href="#__codelineno-38-353"></a>verbs:
<a id="__codelineno-38-354" name="__codelineno-38-354" href="#__codelineno-38-354"></a>
<a id="__codelineno-38-355" name="__codelineno-38-355" href="#__codelineno-38-355"></a>
<a id="__codelineno-38-356" name="__codelineno-38-356" href="#__codelineno-38-356"></a>
<a id="__codelineno-38-357" name="__codelineno-38-357" href="#__codelineno-38-357"></a>- list
<a id="__codelineno-38-358" name="__codelineno-38-358" href="#__codelineno-38-358"></a>
<a id="__codelineno-38-359" name="__codelineno-38-359" href="#__codelineno-38-359"></a>
<a id="__codelineno-38-360" name="__codelineno-38-360" href="#__codelineno-38-360"></a>
<a id="__codelineno-38-361" name="__codelineno-38-361" href="#__codelineno-38-361"></a>- watch
<a id="__codelineno-38-362" name="__codelineno-38-362" href="#__codelineno-38-362"></a>
<a id="__codelineno-38-363" name="__codelineno-38-363" href="#__codelineno-38-363"></a>
<a id="__codelineno-38-364" name="__codelineno-38-364" href="#__codelineno-38-364"></a>
<a id="__codelineno-38-365" name="__codelineno-38-365" href="#__codelineno-38-365"></a>- get
<a id="__codelineno-38-366" name="__codelineno-38-366" href="#__codelineno-38-366"></a>
<a id="__codelineno-38-367" name="__codelineno-38-367" href="#__codelineno-38-367"></a>
<a id="__codelineno-38-368" name="__codelineno-38-368" href="#__codelineno-38-368"></a>
<a id="__codelineno-38-369" name="__codelineno-38-369" href="#__codelineno-38-369"></a>- apiGroups:
<a id="__codelineno-38-370" name="__codelineno-38-370" href="#__codelineno-38-370"></a>
<a id="__codelineno-38-371" name="__codelineno-38-371" href="#__codelineno-38-371"></a>
<a id="__codelineno-38-372" name="__codelineno-38-372" href="#__codelineno-38-372"></a>
<a id="__codelineno-38-373" name="__codelineno-38-373" href="#__codelineno-38-373"></a>- discovery.k8s.io
<a id="__codelineno-38-374" name="__codelineno-38-374" href="#__codelineno-38-374"></a>
<a id="__codelineno-38-375" name="__codelineno-38-375" href="#__codelineno-38-375"></a>
<a id="__codelineno-38-376" name="__codelineno-38-376" href="#__codelineno-38-376"></a>
<a id="__codelineno-38-377" name="__codelineno-38-377" href="#__codelineno-38-377"></a>resources:
<a id="__codelineno-38-378" name="__codelineno-38-378" href="#__codelineno-38-378"></a>
<a id="__codelineno-38-379" name="__codelineno-38-379" href="#__codelineno-38-379"></a>
<a id="__codelineno-38-380" name="__codelineno-38-380" href="#__codelineno-38-380"></a>
<a id="__codelineno-38-381" name="__codelineno-38-381" href="#__codelineno-38-381"></a>- endpointslices
<a id="__codelineno-38-382" name="__codelineno-38-382" href="#__codelineno-38-382"></a>
<a id="__codelineno-38-383" name="__codelineno-38-383" href="#__codelineno-38-383"></a>
<a id="__codelineno-38-384" name="__codelineno-38-384" href="#__codelineno-38-384"></a>
<a id="__codelineno-38-385" name="__codelineno-38-385" href="#__codelineno-38-385"></a>verbs:
<a id="__codelineno-38-386" name="__codelineno-38-386" href="#__codelineno-38-386"></a>
<a id="__codelineno-38-387" name="__codelineno-38-387" href="#__codelineno-38-387"></a>
<a id="__codelineno-38-388" name="__codelineno-38-388" href="#__codelineno-38-388"></a>
<a id="__codelineno-38-389" name="__codelineno-38-389" href="#__codelineno-38-389"></a>- list
<a id="__codelineno-38-390" name="__codelineno-38-390" href="#__codelineno-38-390"></a>
<a id="__codelineno-38-391" name="__codelineno-38-391" href="#__codelineno-38-391"></a>
<a id="__codelineno-38-392" name="__codelineno-38-392" href="#__codelineno-38-392"></a>
<a id="__codelineno-38-393" name="__codelineno-38-393" href="#__codelineno-38-393"></a>- watch
<a id="__codelineno-38-394" name="__codelineno-38-394" href="#__codelineno-38-394"></a>
<a id="__codelineno-38-395" name="__codelineno-38-395" href="#__codelineno-38-395"></a>
<a id="__codelineno-38-396" name="__codelineno-38-396" href="#__codelineno-38-396"></a>
<a id="__codelineno-38-397" name="__codelineno-38-397" href="#__codelineno-38-397"></a>- get
<a id="__codelineno-38-398" name="__codelineno-38-398" href="#__codelineno-38-398"></a>
<a id="__codelineno-38-399" name="__codelineno-38-399" href="#__codelineno-38-399"></a>
<a id="__codelineno-38-400" name="__codelineno-38-400" href="#__codelineno-38-400"></a>
<a id="__codelineno-38-401" name="__codelineno-38-401" href="#__codelineno-38-401"></a>- apiGroups:
<a id="__codelineno-38-402" name="__codelineno-38-402" href="#__codelineno-38-402"></a>
<a id="__codelineno-38-403" name="__codelineno-38-403" href="#__codelineno-38-403"></a>
<a id="__codelineno-38-404" name="__codelineno-38-404" href="#__codelineno-38-404"></a>
<a id="__codelineno-38-405" name="__codelineno-38-405" href="#__codelineno-38-405"></a>- autoscaling
<a id="__codelineno-38-406" name="__codelineno-38-406" href="#__codelineno-38-406"></a>
<a id="__codelineno-38-407" name="__codelineno-38-407" href="#__codelineno-38-407"></a>
<a id="__codelineno-38-408" name="__codelineno-38-408" href="#__codelineno-38-408"></a>
<a id="__codelineno-38-409" name="__codelineno-38-409" href="#__codelineno-38-409"></a>resources:
<a id="__codelineno-38-410" name="__codelineno-38-410" href="#__codelineno-38-410"></a>
<a id="__codelineno-38-411" name="__codelineno-38-411" href="#__codelineno-38-411"></a>
<a id="__codelineno-38-412" name="__codelineno-38-412" href="#__codelineno-38-412"></a>
<a id="__codelineno-38-413" name="__codelineno-38-413" href="#__codelineno-38-413"></a>- horizontalpodautoscalers
<a id="__codelineno-38-414" name="__codelineno-38-414" href="#__codelineno-38-414"></a>
<a id="__codelineno-38-415" name="__codelineno-38-415" href="#__codelineno-38-415"></a>
<a id="__codelineno-38-416" name="__codelineno-38-416" href="#__codelineno-38-416"></a>
<a id="__codelineno-38-417" name="__codelineno-38-417" href="#__codelineno-38-417"></a>verbs:
<a id="__codelineno-38-418" name="__codelineno-38-418" href="#__codelineno-38-418"></a>
<a id="__codelineno-38-419" name="__codelineno-38-419" href="#__codelineno-38-419"></a>
<a id="__codelineno-38-420" name="__codelineno-38-420" href="#__codelineno-38-420"></a>
<a id="__codelineno-38-421" name="__codelineno-38-421" href="#__codelineno-38-421"></a>- list
<a id="__codelineno-38-422" name="__codelineno-38-422" href="#__codelineno-38-422"></a>
<a id="__codelineno-38-423" name="__codelineno-38-423" href="#__codelineno-38-423"></a>
<a id="__codelineno-38-424" name="__codelineno-38-424" href="#__codelineno-38-424"></a>
<a id="__codelineno-38-425" name="__codelineno-38-425" href="#__codelineno-38-425"></a>- watch
<a id="__codelineno-38-426" name="__codelineno-38-426" href="#__codelineno-38-426"></a>
<a id="__codelineno-38-427" name="__codelineno-38-427" href="#__codelineno-38-427"></a>
<a id="__codelineno-38-428" name="__codelineno-38-428" href="#__codelineno-38-428"></a>
<a id="__codelineno-38-429" name="__codelineno-38-429" href="#__codelineno-38-429"></a>- get
<a id="__codelineno-38-430" name="__codelineno-38-430" href="#__codelineno-38-430"></a>
<a id="__codelineno-38-431" name="__codelineno-38-431" href="#__codelineno-38-431"></a>
<a id="__codelineno-38-432" name="__codelineno-38-432" href="#__codelineno-38-432"></a>
<a id="__codelineno-38-433" name="__codelineno-38-433" href="#__codelineno-38-433"></a>- nonResourceURLs:
<a id="__codelineno-38-434" name="__codelineno-38-434" href="#__codelineno-38-434"></a>
<a id="__codelineno-38-435" name="__codelineno-38-435" href="#__codelineno-38-435"></a>
<a id="__codelineno-38-436" name="__codelineno-38-436" href="#__codelineno-38-436"></a>
<a id="__codelineno-38-437" name="__codelineno-38-437" href="#__codelineno-38-437"></a>- /metrics
<a id="__codelineno-38-438" name="__codelineno-38-438" href="#__codelineno-38-438"></a>
<a id="__codelineno-38-439" name="__codelineno-38-439" href="#__codelineno-38-439"></a>
<a id="__codelineno-38-440" name="__codelineno-38-440" href="#__codelineno-38-440"></a>
<a id="__codelineno-38-441" name="__codelineno-38-441" href="#__codelineno-38-441"></a>- /version
<a id="__codelineno-38-442" name="__codelineno-38-442" href="#__codelineno-38-442"></a>
<a id="__codelineno-38-443" name="__codelineno-38-443" href="#__codelineno-38-443"></a>
<a id="__codelineno-38-444" name="__codelineno-38-444" href="#__codelineno-38-444"></a>
<a id="__codelineno-38-445" name="__codelineno-38-445" href="#__codelineno-38-445"></a>- /readyz
<a id="__codelineno-38-446" name="__codelineno-38-446" href="#__codelineno-38-446"></a>
<a id="__codelineno-38-447" name="__codelineno-38-447" href="#__codelineno-38-447"></a>
<a id="__codelineno-38-448" name="__codelineno-38-448" href="#__codelineno-38-448"></a>
<a id="__codelineno-38-449" name="__codelineno-38-449" href="#__codelineno-38-449"></a>- /livez
<a id="__codelineno-38-450" name="__codelineno-38-450" href="#__codelineno-38-450"></a>
<a id="__codelineno-38-451" name="__codelineno-38-451" href="#__codelineno-38-451"></a>
<a id="__codelineno-38-452" name="__codelineno-38-452" href="#__codelineno-38-452"></a>
<a id="__codelineno-38-453" name="__codelineno-38-453" href="#__codelineno-38-453"></a>verbs:
<a id="__codelineno-38-454" name="__codelineno-38-454" href="#__codelineno-38-454"></a>
<a id="__codelineno-38-455" name="__codelineno-38-455" href="#__codelineno-38-455"></a>
<a id="__codelineno-38-456" name="__codelineno-38-456" href="#__codelineno-38-456"></a>
<a id="__codelineno-38-457" name="__codelineno-38-457" href="#__codelineno-38-457"></a>- get
<a id="__codelineno-38-458" name="__codelineno-38-458" href="#__codelineno-38-458"></a>
<a id="__codelineno-38-459" name="__codelineno-38-459" href="#__codelineno-38-459"></a>
<a id="__codelineno-38-460" name="__codelineno-38-460" href="#__codelineno-38-460"></a>
<a id="__codelineno-38-461" name="__codelineno-38-461" href="#__codelineno-38-461"></a>---
<a id="__codelineno-38-462" name="__codelineno-38-462" href="#__codelineno-38-462"></a>
<a id="__codelineno-38-463" name="__codelineno-38-463" href="#__codelineno-38-463"></a>
<a id="__codelineno-38-464" name="__codelineno-38-464" href="#__codelineno-38-464"></a>
<a id="__codelineno-38-465" name="__codelineno-38-465" href="#__codelineno-38-465"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-38-466" name="__codelineno-38-466" href="#__codelineno-38-466"></a>
<a id="__codelineno-38-467" name="__codelineno-38-467" href="#__codelineno-38-467"></a>
<a id="__codelineno-38-468" name="__codelineno-38-468" href="#__codelineno-38-468"></a>
<a id="__codelineno-38-469" name="__codelineno-38-469" href="#__codelineno-38-469"></a>kind: ClusterRoleBinding
<a id="__codelineno-38-470" name="__codelineno-38-470" href="#__codelineno-38-470"></a>
<a id="__codelineno-38-471" name="__codelineno-38-471" href="#__codelineno-38-471"></a>
<a id="__codelineno-38-472" name="__codelineno-38-472" href="#__codelineno-38-472"></a>
<a id="__codelineno-38-473" name="__codelineno-38-473" href="#__codelineno-38-473"></a>metadata:
<a id="__codelineno-38-474" name="__codelineno-38-474" href="#__codelineno-38-474"></a>
<a id="__codelineno-38-475" name="__codelineno-38-475" href="#__codelineno-38-475"></a>
<a id="__codelineno-38-476" name="__codelineno-38-476" href="#__codelineno-38-476"></a>
<a id="__codelineno-38-477" name="__codelineno-38-477" href="#__codelineno-38-477"></a>name: dynatrace-monitoring-cluster
<a id="__codelineno-38-478" name="__codelineno-38-478" href="#__codelineno-38-478"></a>
<a id="__codelineno-38-479" name="__codelineno-38-479" href="#__codelineno-38-479"></a>
<a id="__codelineno-38-480" name="__codelineno-38-480" href="#__codelineno-38-480"></a>
<a id="__codelineno-38-481" name="__codelineno-38-481" href="#__codelineno-38-481"></a>roleRef:
<a id="__codelineno-38-482" name="__codelineno-38-482" href="#__codelineno-38-482"></a>
<a id="__codelineno-38-483" name="__codelineno-38-483" href="#__codelineno-38-483"></a>
<a id="__codelineno-38-484" name="__codelineno-38-484" href="#__codelineno-38-484"></a>
<a id="__codelineno-38-485" name="__codelineno-38-485" href="#__codelineno-38-485"></a>apiGroup: rbac.authorization.k8s.io
<a id="__codelineno-38-486" name="__codelineno-38-486" href="#__codelineno-38-486"></a>
<a id="__codelineno-38-487" name="__codelineno-38-487" href="#__codelineno-38-487"></a>
<a id="__codelineno-38-488" name="__codelineno-38-488" href="#__codelineno-38-488"></a>
<a id="__codelineno-38-489" name="__codelineno-38-489" href="#__codelineno-38-489"></a>kind: ClusterRole
<a id="__codelineno-38-490" name="__codelineno-38-490" href="#__codelineno-38-490"></a>
<a id="__codelineno-38-491" name="__codelineno-38-491" href="#__codelineno-38-491"></a>
<a id="__codelineno-38-492" name="__codelineno-38-492" href="#__codelineno-38-492"></a>
<a id="__codelineno-38-493" name="__codelineno-38-493" href="#__codelineno-38-493"></a>name: dynatrace-monitoring-cluster
<a id="__codelineno-38-494" name="__codelineno-38-494" href="#__codelineno-38-494"></a>
<a id="__codelineno-38-495" name="__codelineno-38-495" href="#__codelineno-38-495"></a>
<a id="__codelineno-38-496" name="__codelineno-38-496" href="#__codelineno-38-496"></a>
<a id="__codelineno-38-497" name="__codelineno-38-497" href="#__codelineno-38-497"></a>subjects:
<a id="__codelineno-38-498" name="__codelineno-38-498" href="#__codelineno-38-498"></a>
<a id="__codelineno-38-499" name="__codelineno-38-499" href="#__codelineno-38-499"></a>
<a id="__codelineno-38-500" name="__codelineno-38-500" href="#__codelineno-38-500"></a>
<a id="__codelineno-38-501" name="__codelineno-38-501" href="#__codelineno-38-501"></a>- kind: ServiceAccount
<a id="__codelineno-38-502" name="__codelineno-38-502" href="#__codelineno-38-502"></a>
<a id="__codelineno-38-503" name="__codelineno-38-503" href="#__codelineno-38-503"></a>
<a id="__codelineno-38-504" name="__codelineno-38-504" href="#__codelineno-38-504"></a>
<a id="__codelineno-38-505" name="__codelineno-38-505" href="#__codelineno-38-505"></a>name: dynatrace-monitoring
<a id="__codelineno-38-506" name="__codelineno-38-506" href="#__codelineno-38-506"></a>
<a id="__codelineno-38-507" name="__codelineno-38-507" href="#__codelineno-38-507"></a>
<a id="__codelineno-38-508" name="__codelineno-38-508" href="#__codelineno-38-508"></a>
<a id="__codelineno-38-509" name="__codelineno-38-509" href="#__codelineno-38-509"></a>namespace: dynatrace
</code></pre></div>
2. Apply the file.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>kubectl apply -f kubernetes-monitoring-service-account.yaml
</code></pre></div>
3. Get the Kubernetes API URL.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>$ kubectl config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
4. Kubernetes version 1.24+ Create a file named <code>token-secret.yaml</code> with the following content.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>apiVersion: v1
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>kind: Secret
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>metadata:
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a>name: dynatrace-monitoring
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a>annotations:
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a>kubernetes.io/service-account.name: &quot;dynatrace-monitoring&quot;
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a>
<a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a>type: kubernetes.io/service-account-token
</code></pre></div>
5. Kubernetes version 1.24+ Apply the file to create the <code>dynatrace-monitoring</code> secret.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>kubectl apply -n dynatrace -f token-secret.yaml
</code></pre></div>
6. Get the bearer token.</p>
<p>Kubernetes version 1.24+</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>kubectl get secret dynatrace-monitoring -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<p>Kubernetes versions 1.23 and lower</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>kubectl get secret $(kubectl get sa dynatrace-monitoring -o jsonpath=&#39;{.secrets[0].name}&#39; -n dynatrace) -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<p>Special instructions for Rancher distributions to get the API URL and the bearer token</p>
<p>For <strong>Rancher distributions</strong> of Kubernetes, you need to use the bearer token and API URL <strong>of the Rancher server</strong>, because this server manages and secures traffic to the Kubernetes API server. Follow the steps below.</p>
<ol>
<li>
<p>Get the <strong>Kubernetes API URL</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>kubectl config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
   2. Configure a user.</p>
<p>In the Rancher web UI, either create a new user or use an existing user to associate with the token. We recommend creating a new user.
   3. Set permissions.</p>
<p>Make sure the user has either <strong>Owner</strong> or <strong>Custom</strong> permissions to the cluster you want to monitor.</p>
<p><strong>Recommended</strong>: select <strong>Custom</strong> permissions, and be sure to select these two roles: <strong>View all Projects</strong> and <strong>View Nodes</strong>.
   4. Create an API key.</p>
<p>Go to <strong>API &amp; Keys</strong> and create a key either for your specific account (enter your cluster name) or for all clusters (enter <strong>No scope</strong>). For security reasons, we recommend selecting the first option.</p>
<p>Newly created keys display four fields. Make sure to use the content of the field called <strong>Bearer token</strong> to set up the connection to the Kubernetes API described in the next section.
7. Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong>.
8. Select <strong>Connect manually</strong>.
9. Provide a <strong>Name</strong>, the <strong>Kubernetes API URL target</strong>, and the <strong>Kubernetes bearer token</strong> for the Kubernetes cluster.
10. Make sure <strong>Monitor events</strong> and <strong>Monitor Kubernetes namespaces, services, workloads, and pods</strong> are turned on.</p>
</li>
</ol>
<p>Disabling certificate validation isn't recommended because it imposes security risks. However, if you still want to disable certificate validation for test environments, make sure to disable <strong>Require valid certificates for communication with the API server (recommended)</strong> and <strong>Verify hostname in certificate against Kubernetes API URL</strong>.</p>
<ol>
<li>Select <strong>Save changes</strong> to save your configuration.</li>
</ol>
<p>To update ActiveGate, see <a href="/docs/ingest-from/dynatrace-activegate/operation/update-activegate" title="Learn how to find out which version of ActiveGate you have installed and how you can download and install the latest version.">Update ActiveGate</a>.</p>
<hr />
<h2 id="source-ag-statefulsetmd">Source: ag-statefulset.md<a class="headerlink" href="#source-ag-statefulsetmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Manually deploy ActiveGate as a StatefulSet
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/other/ag-statefulset
scraped: 2026-02-17T04:59:52.852201</p>
<hr />
<h1 id="manually-deploy-activegate-as-a-statefulset">Manually deploy ActiveGate as a StatefulSet<a class="headerlink" href="#manually-deploy-activegate-as-a-statefulset" title="Permanent link">&para;</a></h1>
<h1 id="manually-deploy-activegate-as-a-statefulset_1">Manually deploy ActiveGate as a StatefulSet<a class="headerlink" href="#manually-deploy-activegate-as-a-statefulset_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>5-min read</li>
<li>Updated on Jan 19, 2025</li>
</ul>
<p>Dynatrace Operator manages the lifecycle of several Dynatrace components, including ActiveGate. If you can't use Dynatrace Operator, you can manually deploy ActiveGate as a StatefulSet in your Kubernetes cluster. See below for instructions.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/manage/identity-access-management/access-tokens-and-oauth-clients/access-tokens#paas-token" title="Learn the concept of an access token and its scopes.">Create an access token with <code>PaaS Integration - InstallerDownload</code></a> scope</li>
<li><a href="/docs/ingest-from/dynatrace-activegate/activegate-security#generate-individual" title="Secure ActiveGates with dedicated tokens.">Create an authentication token</a></li>
<li>Get your kube-system namespace UUID</li>
</ul>
<p>How to extract the kube-system namespace UUID</p>
<p>Run the command below and save the UUID from the output for later use.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>kubectl get namespace kube-system -o jsonpath=&#39;{.metadata.uid}&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>oc get namespace kube-system -o jsonpath=&#39;{.metadata.uid}&#39;
</code></pre></div>
<h2 id="deploy-activegate">Deploy ActiveGate<a class="headerlink" href="#deploy-activegate" title="Permanent link">&para;</a></h2>
<p>To deploy ActiveGate, follow the steps below.</p>
<ol>
<li>Create a dedicated namespace (Kubernetes)/project (OpenShift).</li>
</ol>
<p>Depending on your platform, select one of the options below.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>kubectl create namespace dynatrace
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>oc adm new-project --node-selector=&quot;&quot; dynatrace
</code></pre></div>
2. Create two secrets:</p>
<ul>
<li>A secret holding the environment URL and login credentials for this registry</li>
<li>A secret for the ActiveGate authentication token</li>
</ul>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>kubectl -n dynatrace create secret docker-registry dynatrace-docker-registry --docker-server=&lt;YOUR_ENVIRONMENT_URL&gt; --docker-username=&lt;YOUR_ENVIRONMENT_ID&gt; --docker-password=&lt;YOUR_PAAS_TOKEN&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>oc -n dynatrace create secret docker-registry dynatrace-docker-registry --docker-server=&lt;YOUR_ENVIRONMENT_URL&gt; --docker-username=&lt;YOUR_ENVIRONMENT_ID&gt; --docker-password=&lt;YOUR_PAAS_TOKEN&gt;
</code></pre></div>
<p>where you need to replace</p>
<ul>
<li><code>&lt;YOUR_ENVIRONMENT_URL&gt;</code> with your environment URL (without <code>http</code>). Example: <code>{your-environment}.live.dynatrace.com</code></li>
<li><code>&lt;YOUR_ENVIRONMENT_ID&gt;</code> with the Docker account username (same as the ID in your environment URL above).</li>
<li><code>&lt;YOUR_PAAS_TOKEN&gt;</code> with the PaaS token you created in <a href="#prereq">Prerequisites</a></li>
</ul>
<p>Create a secret that holds the authentication details to the Dynatrace server used by ActiveGate.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>kubectl -n dynatrace create secret generic dynatrace-tokens \
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a>--from-literal=tenant-token=&lt;YOUR_TENANT_TOKEN&gt; \
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a>
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a>
<a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a>--from-literal=auth-token=&lt;YOUR_AUTH_TOKEN&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>oc -n dynatrace create secret generic dynatrace-tokens \
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a>--from-literal=tenant-token=&lt;YOUR_TENANT_TOKEN&gt; \
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a>
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a>--from-literal=auth-token=&lt;YOUR_AUTH_TOKEN&gt;
</code></pre></div>
<p>You need to replace</p>
<ul>
<li><code>&lt;YOUR_TENANT_TOKEN&gt;</code> with the <code>tenantToken</code> value obtained in <a href="#prereq">Prerequisites</a> from the connectivity information.</li>
<li><code>&lt;YOUR_AUTH_TOKEN&gt;</code> with the individual ActiveGate token obtained in <a href="#prereq">Prerequisites</a>.</li>
</ul>
<p>To determine your environment ID, see the syntax below.<br />
<strong>SaaS:</strong> <code>https://{your-environment-id}.live.dynatrace.com</code><br />
<strong>Managed:</strong> <code>https://{your-domain}/e/{your-environment-id}</code>
3. Create a service account and a cluster role.</p>
<p>Create a <code>kubernetes-monitoring-service-account.yaml</code> file with the following content.</p>
<p>kubernetes-monitoring-service-account.yaml</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>apiVersion: v1
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>kind: ServiceAccount
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>metadata:
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a>
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a>name: dynatrace-activegate
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>
<a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a>
<a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a>
<a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a>namespace: dynatrace
<a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a>
<a id="__codelineno-54-19" name="__codelineno-54-19" href="#__codelineno-54-19"></a>
<a id="__codelineno-54-20" name="__codelineno-54-20" href="#__codelineno-54-20"></a>
<a id="__codelineno-54-21" name="__codelineno-54-21" href="#__codelineno-54-21"></a>---
<a id="__codelineno-54-22" name="__codelineno-54-22" href="#__codelineno-54-22"></a>
<a id="__codelineno-54-23" name="__codelineno-54-23" href="#__codelineno-54-23"></a>
<a id="__codelineno-54-24" name="__codelineno-54-24" href="#__codelineno-54-24"></a>
<a id="__codelineno-54-25" name="__codelineno-54-25" href="#__codelineno-54-25"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-54-26" name="__codelineno-54-26" href="#__codelineno-54-26"></a>
<a id="__codelineno-54-27" name="__codelineno-54-27" href="#__codelineno-54-27"></a>
<a id="__codelineno-54-28" name="__codelineno-54-28" href="#__codelineno-54-28"></a>
<a id="__codelineno-54-29" name="__codelineno-54-29" href="#__codelineno-54-29"></a>kind: ClusterRole
<a id="__codelineno-54-30" name="__codelineno-54-30" href="#__codelineno-54-30"></a>
<a id="__codelineno-54-31" name="__codelineno-54-31" href="#__codelineno-54-31"></a>
<a id="__codelineno-54-32" name="__codelineno-54-32" href="#__codelineno-54-32"></a>
<a id="__codelineno-54-33" name="__codelineno-54-33" href="#__codelineno-54-33"></a>metadata:
<a id="__codelineno-54-34" name="__codelineno-54-34" href="#__codelineno-54-34"></a>
<a id="__codelineno-54-35" name="__codelineno-54-35" href="#__codelineno-54-35"></a>
<a id="__codelineno-54-36" name="__codelineno-54-36" href="#__codelineno-54-36"></a>
<a id="__codelineno-54-37" name="__codelineno-54-37" href="#__codelineno-54-37"></a>name: dynatrace-activegate
<a id="__codelineno-54-38" name="__codelineno-54-38" href="#__codelineno-54-38"></a>
<a id="__codelineno-54-39" name="__codelineno-54-39" href="#__codelineno-54-39"></a>
<a id="__codelineno-54-40" name="__codelineno-54-40" href="#__codelineno-54-40"></a>
<a id="__codelineno-54-41" name="__codelineno-54-41" href="#__codelineno-54-41"></a>rules:
<a id="__codelineno-54-42" name="__codelineno-54-42" href="#__codelineno-54-42"></a>
<a id="__codelineno-54-43" name="__codelineno-54-43" href="#__codelineno-54-43"></a>
<a id="__codelineno-54-44" name="__codelineno-54-44" href="#__codelineno-54-44"></a>
<a id="__codelineno-54-45" name="__codelineno-54-45" href="#__codelineno-54-45"></a>- apiGroups:
<a id="__codelineno-54-46" name="__codelineno-54-46" href="#__codelineno-54-46"></a>
<a id="__codelineno-54-47" name="__codelineno-54-47" href="#__codelineno-54-47"></a>
<a id="__codelineno-54-48" name="__codelineno-54-48" href="#__codelineno-54-48"></a>
<a id="__codelineno-54-49" name="__codelineno-54-49" href="#__codelineno-54-49"></a>- &quot;&quot;
<a id="__codelineno-54-50" name="__codelineno-54-50" href="#__codelineno-54-50"></a>
<a id="__codelineno-54-51" name="__codelineno-54-51" href="#__codelineno-54-51"></a>
<a id="__codelineno-54-52" name="__codelineno-54-52" href="#__codelineno-54-52"></a>
<a id="__codelineno-54-53" name="__codelineno-54-53" href="#__codelineno-54-53"></a>- batch
<a id="__codelineno-54-54" name="__codelineno-54-54" href="#__codelineno-54-54"></a>
<a id="__codelineno-54-55" name="__codelineno-54-55" href="#__codelineno-54-55"></a>
<a id="__codelineno-54-56" name="__codelineno-54-56" href="#__codelineno-54-56"></a>
<a id="__codelineno-54-57" name="__codelineno-54-57" href="#__codelineno-54-57"></a>- apps
<a id="__codelineno-54-58" name="__codelineno-54-58" href="#__codelineno-54-58"></a>
<a id="__codelineno-54-59" name="__codelineno-54-59" href="#__codelineno-54-59"></a>
<a id="__codelineno-54-60" name="__codelineno-54-60" href="#__codelineno-54-60"></a>
<a id="__codelineno-54-61" name="__codelineno-54-61" href="#__codelineno-54-61"></a>- apps.openshift.io
<a id="__codelineno-54-62" name="__codelineno-54-62" href="#__codelineno-54-62"></a>
<a id="__codelineno-54-63" name="__codelineno-54-63" href="#__codelineno-54-63"></a>
<a id="__codelineno-54-64" name="__codelineno-54-64" href="#__codelineno-54-64"></a>
<a id="__codelineno-54-65" name="__codelineno-54-65" href="#__codelineno-54-65"></a>resources:
<a id="__codelineno-54-66" name="__codelineno-54-66" href="#__codelineno-54-66"></a>
<a id="__codelineno-54-67" name="__codelineno-54-67" href="#__codelineno-54-67"></a>
<a id="__codelineno-54-68" name="__codelineno-54-68" href="#__codelineno-54-68"></a>
<a id="__codelineno-54-69" name="__codelineno-54-69" href="#__codelineno-54-69"></a>- nodes
<a id="__codelineno-54-70" name="__codelineno-54-70" href="#__codelineno-54-70"></a>
<a id="__codelineno-54-71" name="__codelineno-54-71" href="#__codelineno-54-71"></a>
<a id="__codelineno-54-72" name="__codelineno-54-72" href="#__codelineno-54-72"></a>
<a id="__codelineno-54-73" name="__codelineno-54-73" href="#__codelineno-54-73"></a>- nodes/metrics
<a id="__codelineno-54-74" name="__codelineno-54-74" href="#__codelineno-54-74"></a>
<a id="__codelineno-54-75" name="__codelineno-54-75" href="#__codelineno-54-75"></a>
<a id="__codelineno-54-76" name="__codelineno-54-76" href="#__codelineno-54-76"></a>
<a id="__codelineno-54-77" name="__codelineno-54-77" href="#__codelineno-54-77"></a>- pods
<a id="__codelineno-54-78" name="__codelineno-54-78" href="#__codelineno-54-78"></a>
<a id="__codelineno-54-79" name="__codelineno-54-79" href="#__codelineno-54-79"></a>
<a id="__codelineno-54-80" name="__codelineno-54-80" href="#__codelineno-54-80"></a>
<a id="__codelineno-54-81" name="__codelineno-54-81" href="#__codelineno-54-81"></a>- namespaces
<a id="__codelineno-54-82" name="__codelineno-54-82" href="#__codelineno-54-82"></a>
<a id="__codelineno-54-83" name="__codelineno-54-83" href="#__codelineno-54-83"></a>
<a id="__codelineno-54-84" name="__codelineno-54-84" href="#__codelineno-54-84"></a>
<a id="__codelineno-54-85" name="__codelineno-54-85" href="#__codelineno-54-85"></a>- deployments
<a id="__codelineno-54-86" name="__codelineno-54-86" href="#__codelineno-54-86"></a>
<a id="__codelineno-54-87" name="__codelineno-54-87" href="#__codelineno-54-87"></a>
<a id="__codelineno-54-88" name="__codelineno-54-88" href="#__codelineno-54-88"></a>
<a id="__codelineno-54-89" name="__codelineno-54-89" href="#__codelineno-54-89"></a>- replicasets
<a id="__codelineno-54-90" name="__codelineno-54-90" href="#__codelineno-54-90"></a>
<a id="__codelineno-54-91" name="__codelineno-54-91" href="#__codelineno-54-91"></a>
<a id="__codelineno-54-92" name="__codelineno-54-92" href="#__codelineno-54-92"></a>
<a id="__codelineno-54-93" name="__codelineno-54-93" href="#__codelineno-54-93"></a>- deploymentconfigs
<a id="__codelineno-54-94" name="__codelineno-54-94" href="#__codelineno-54-94"></a>
<a id="__codelineno-54-95" name="__codelineno-54-95" href="#__codelineno-54-95"></a>
<a id="__codelineno-54-96" name="__codelineno-54-96" href="#__codelineno-54-96"></a>
<a id="__codelineno-54-97" name="__codelineno-54-97" href="#__codelineno-54-97"></a>- replicationcontrollers
<a id="__codelineno-54-98" name="__codelineno-54-98" href="#__codelineno-54-98"></a>
<a id="__codelineno-54-99" name="__codelineno-54-99" href="#__codelineno-54-99"></a>
<a id="__codelineno-54-100" name="__codelineno-54-100" href="#__codelineno-54-100"></a>
<a id="__codelineno-54-101" name="__codelineno-54-101" href="#__codelineno-54-101"></a>- jobs
<a id="__codelineno-54-102" name="__codelineno-54-102" href="#__codelineno-54-102"></a>
<a id="__codelineno-54-103" name="__codelineno-54-103" href="#__codelineno-54-103"></a>
<a id="__codelineno-54-104" name="__codelineno-54-104" href="#__codelineno-54-104"></a>
<a id="__codelineno-54-105" name="__codelineno-54-105" href="#__codelineno-54-105"></a>- cronjobs
<a id="__codelineno-54-106" name="__codelineno-54-106" href="#__codelineno-54-106"></a>
<a id="__codelineno-54-107" name="__codelineno-54-107" href="#__codelineno-54-107"></a>
<a id="__codelineno-54-108" name="__codelineno-54-108" href="#__codelineno-54-108"></a>
<a id="__codelineno-54-109" name="__codelineno-54-109" href="#__codelineno-54-109"></a>- statefulsets
<a id="__codelineno-54-110" name="__codelineno-54-110" href="#__codelineno-54-110"></a>
<a id="__codelineno-54-111" name="__codelineno-54-111" href="#__codelineno-54-111"></a>
<a id="__codelineno-54-112" name="__codelineno-54-112" href="#__codelineno-54-112"></a>
<a id="__codelineno-54-113" name="__codelineno-54-113" href="#__codelineno-54-113"></a>- daemonsets
<a id="__codelineno-54-114" name="__codelineno-54-114" href="#__codelineno-54-114"></a>
<a id="__codelineno-54-115" name="__codelineno-54-115" href="#__codelineno-54-115"></a>
<a id="__codelineno-54-116" name="__codelineno-54-116" href="#__codelineno-54-116"></a>
<a id="__codelineno-54-117" name="__codelineno-54-117" href="#__codelineno-54-117"></a>- events
<a id="__codelineno-54-118" name="__codelineno-54-118" href="#__codelineno-54-118"></a>
<a id="__codelineno-54-119" name="__codelineno-54-119" href="#__codelineno-54-119"></a>
<a id="__codelineno-54-120" name="__codelineno-54-120" href="#__codelineno-54-120"></a>
<a id="__codelineno-54-121" name="__codelineno-54-121" href="#__codelineno-54-121"></a>- resourcequotas
<a id="__codelineno-54-122" name="__codelineno-54-122" href="#__codelineno-54-122"></a>
<a id="__codelineno-54-123" name="__codelineno-54-123" href="#__codelineno-54-123"></a>
<a id="__codelineno-54-124" name="__codelineno-54-124" href="#__codelineno-54-124"></a>
<a id="__codelineno-54-125" name="__codelineno-54-125" href="#__codelineno-54-125"></a>- pods/proxy
<a id="__codelineno-54-126" name="__codelineno-54-126" href="#__codelineno-54-126"></a>
<a id="__codelineno-54-127" name="__codelineno-54-127" href="#__codelineno-54-127"></a>
<a id="__codelineno-54-128" name="__codelineno-54-128" href="#__codelineno-54-128"></a>
<a id="__codelineno-54-129" name="__codelineno-54-129" href="#__codelineno-54-129"></a>- services
<a id="__codelineno-54-130" name="__codelineno-54-130" href="#__codelineno-54-130"></a>
<a id="__codelineno-54-131" name="__codelineno-54-131" href="#__codelineno-54-131"></a>
<a id="__codelineno-54-132" name="__codelineno-54-132" href="#__codelineno-54-132"></a>
<a id="__codelineno-54-133" name="__codelineno-54-133" href="#__codelineno-54-133"></a>verbs:
<a id="__codelineno-54-134" name="__codelineno-54-134" href="#__codelineno-54-134"></a>
<a id="__codelineno-54-135" name="__codelineno-54-135" href="#__codelineno-54-135"></a>
<a id="__codelineno-54-136" name="__codelineno-54-136" href="#__codelineno-54-136"></a>
<a id="__codelineno-54-137" name="__codelineno-54-137" href="#__codelineno-54-137"></a>- list
<a id="__codelineno-54-138" name="__codelineno-54-138" href="#__codelineno-54-138"></a>
<a id="__codelineno-54-139" name="__codelineno-54-139" href="#__codelineno-54-139"></a>
<a id="__codelineno-54-140" name="__codelineno-54-140" href="#__codelineno-54-140"></a>
<a id="__codelineno-54-141" name="__codelineno-54-141" href="#__codelineno-54-141"></a>- watch
<a id="__codelineno-54-142" name="__codelineno-54-142" href="#__codelineno-54-142"></a>
<a id="__codelineno-54-143" name="__codelineno-54-143" href="#__codelineno-54-143"></a>
<a id="__codelineno-54-144" name="__codelineno-54-144" href="#__codelineno-54-144"></a>
<a id="__codelineno-54-145" name="__codelineno-54-145" href="#__codelineno-54-145"></a>- get
<a id="__codelineno-54-146" name="__codelineno-54-146" href="#__codelineno-54-146"></a>
<a id="__codelineno-54-147" name="__codelineno-54-147" href="#__codelineno-54-147"></a>
<a id="__codelineno-54-148" name="__codelineno-54-148" href="#__codelineno-54-148"></a>
<a id="__codelineno-54-149" name="__codelineno-54-149" href="#__codelineno-54-149"></a>---
<a id="__codelineno-54-150" name="__codelineno-54-150" href="#__codelineno-54-150"></a>
<a id="__codelineno-54-151" name="__codelineno-54-151" href="#__codelineno-54-151"></a>
<a id="__codelineno-54-152" name="__codelineno-54-152" href="#__codelineno-54-152"></a>
<a id="__codelineno-54-153" name="__codelineno-54-153" href="#__codelineno-54-153"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-54-154" name="__codelineno-54-154" href="#__codelineno-54-154"></a>
<a id="__codelineno-54-155" name="__codelineno-54-155" href="#__codelineno-54-155"></a>
<a id="__codelineno-54-156" name="__codelineno-54-156" href="#__codelineno-54-156"></a>
<a id="__codelineno-54-157" name="__codelineno-54-157" href="#__codelineno-54-157"></a>kind: ClusterRoleBinding
<a id="__codelineno-54-158" name="__codelineno-54-158" href="#__codelineno-54-158"></a>
<a id="__codelineno-54-159" name="__codelineno-54-159" href="#__codelineno-54-159"></a>
<a id="__codelineno-54-160" name="__codelineno-54-160" href="#__codelineno-54-160"></a>
<a id="__codelineno-54-161" name="__codelineno-54-161" href="#__codelineno-54-161"></a>metadata:
<a id="__codelineno-54-162" name="__codelineno-54-162" href="#__codelineno-54-162"></a>
<a id="__codelineno-54-163" name="__codelineno-54-163" href="#__codelineno-54-163"></a>
<a id="__codelineno-54-164" name="__codelineno-54-164" href="#__codelineno-54-164"></a>
<a id="__codelineno-54-165" name="__codelineno-54-165" href="#__codelineno-54-165"></a>name: dynatrace-activegate
<a id="__codelineno-54-166" name="__codelineno-54-166" href="#__codelineno-54-166"></a>
<a id="__codelineno-54-167" name="__codelineno-54-167" href="#__codelineno-54-167"></a>
<a id="__codelineno-54-168" name="__codelineno-54-168" href="#__codelineno-54-168"></a>
<a id="__codelineno-54-169" name="__codelineno-54-169" href="#__codelineno-54-169"></a>roleRef:
<a id="__codelineno-54-170" name="__codelineno-54-170" href="#__codelineno-54-170"></a>
<a id="__codelineno-54-171" name="__codelineno-54-171" href="#__codelineno-54-171"></a>
<a id="__codelineno-54-172" name="__codelineno-54-172" href="#__codelineno-54-172"></a>
<a id="__codelineno-54-173" name="__codelineno-54-173" href="#__codelineno-54-173"></a>apiGroup: rbac.authorization.k8s.io
<a id="__codelineno-54-174" name="__codelineno-54-174" href="#__codelineno-54-174"></a>
<a id="__codelineno-54-175" name="__codelineno-54-175" href="#__codelineno-54-175"></a>
<a id="__codelineno-54-176" name="__codelineno-54-176" href="#__codelineno-54-176"></a>
<a id="__codelineno-54-177" name="__codelineno-54-177" href="#__codelineno-54-177"></a>kind: ClusterRole
<a id="__codelineno-54-178" name="__codelineno-54-178" href="#__codelineno-54-178"></a>
<a id="__codelineno-54-179" name="__codelineno-54-179" href="#__codelineno-54-179"></a>
<a id="__codelineno-54-180" name="__codelineno-54-180" href="#__codelineno-54-180"></a>
<a id="__codelineno-54-181" name="__codelineno-54-181" href="#__codelineno-54-181"></a>name: dynatrace-activegate
<a id="__codelineno-54-182" name="__codelineno-54-182" href="#__codelineno-54-182"></a>
<a id="__codelineno-54-183" name="__codelineno-54-183" href="#__codelineno-54-183"></a>
<a id="__codelineno-54-184" name="__codelineno-54-184" href="#__codelineno-54-184"></a>
<a id="__codelineno-54-185" name="__codelineno-54-185" href="#__codelineno-54-185"></a>subjects:
<a id="__codelineno-54-186" name="__codelineno-54-186" href="#__codelineno-54-186"></a>
<a id="__codelineno-54-187" name="__codelineno-54-187" href="#__codelineno-54-187"></a>
<a id="__codelineno-54-188" name="__codelineno-54-188" href="#__codelineno-54-188"></a>
<a id="__codelineno-54-189" name="__codelineno-54-189" href="#__codelineno-54-189"></a>- kind: ServiceAccount
<a id="__codelineno-54-190" name="__codelineno-54-190" href="#__codelineno-54-190"></a>
<a id="__codelineno-54-191" name="__codelineno-54-191" href="#__codelineno-54-191"></a>
<a id="__codelineno-54-192" name="__codelineno-54-192" href="#__codelineno-54-192"></a>
<a id="__codelineno-54-193" name="__codelineno-54-193" href="#__codelineno-54-193"></a>name: dynatrace-activegate
<a id="__codelineno-54-194" name="__codelineno-54-194" href="#__codelineno-54-194"></a>
<a id="__codelineno-54-195" name="__codelineno-54-195" href="#__codelineno-54-195"></a>
<a id="__codelineno-54-196" name="__codelineno-54-196" href="#__codelineno-54-196"></a>
<a id="__codelineno-54-197" name="__codelineno-54-197" href="#__codelineno-54-197"></a>namespace: dynatrace
</code></pre></div>
4. Apply the file.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>kubectl apply -f kubernetes-monitoring-service-account.yaml
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>oc apply -f kubernetes-monitoring-service-account.yaml
</code></pre></div>
5. Create a file named <code>ag-monitoring-and-routing.yaml</code> with the following content, making sure to replace</p>
<ul>
<li><code>&lt;YOUR_ENVIRONMENT_URL&gt;</code> with your value as described above.</li>
<li><code>&lt;YOUR_KUBE-SYSTEM_NAMESPACE_UUID&gt;</code> with the Kubernetes namespace UUID obtained in <a href="#prereq">Prerequisites</a>.</li>
</ul>
<p>kubernetes-monitoring-and-routing.yaml</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>apiVersion: v1
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a>kind: Service
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a>metadata:
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a>
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a>
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a>
<a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a>name: dynatrace-activegate
<a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a>
<a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a>
<a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a>
<a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a>namespace: dynatrace
<a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a>
<a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a>
<a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a>
<a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a>spec:
<a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a>
<a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a>
<a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a>
<a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a>type: ClusterIP
<a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a>
<a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a>
<a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a>
<a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a>selector:
<a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a>
<a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a>
<a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a>
<a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a>activegate: kubernetes-monitoring-and-routing
<a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a>
<a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a>
<a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a>
<a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a>ports:
<a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a>
<a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a>
<a id="__codelineno-57-40" name="__codelineno-57-40" href="#__codelineno-57-40"></a>
<a id="__codelineno-57-41" name="__codelineno-57-41" href="#__codelineno-57-41"></a>- protocol: TCP
<a id="__codelineno-57-42" name="__codelineno-57-42" href="#__codelineno-57-42"></a>
<a id="__codelineno-57-43" name="__codelineno-57-43" href="#__codelineno-57-43"></a>
<a id="__codelineno-57-44" name="__codelineno-57-44" href="#__codelineno-57-44"></a>
<a id="__codelineno-57-45" name="__codelineno-57-45" href="#__codelineno-57-45"></a>port: 443
<a id="__codelineno-57-46" name="__codelineno-57-46" href="#__codelineno-57-46"></a>
<a id="__codelineno-57-47" name="__codelineno-57-47" href="#__codelineno-57-47"></a>
<a id="__codelineno-57-48" name="__codelineno-57-48" href="#__codelineno-57-48"></a>
<a id="__codelineno-57-49" name="__codelineno-57-49" href="#__codelineno-57-49"></a>targetPort: ag-https
<a id="__codelineno-57-50" name="__codelineno-57-50" href="#__codelineno-57-50"></a>
<a id="__codelineno-57-51" name="__codelineno-57-51" href="#__codelineno-57-51"></a>
<a id="__codelineno-57-52" name="__codelineno-57-52" href="#__codelineno-57-52"></a>
<a id="__codelineno-57-53" name="__codelineno-57-53" href="#__codelineno-57-53"></a>---
<a id="__codelineno-57-54" name="__codelineno-57-54" href="#__codelineno-57-54"></a>
<a id="__codelineno-57-55" name="__codelineno-57-55" href="#__codelineno-57-55"></a>
<a id="__codelineno-57-56" name="__codelineno-57-56" href="#__codelineno-57-56"></a>
<a id="__codelineno-57-57" name="__codelineno-57-57" href="#__codelineno-57-57"></a>apiVersion: apps/v1
<a id="__codelineno-57-58" name="__codelineno-57-58" href="#__codelineno-57-58"></a>
<a id="__codelineno-57-59" name="__codelineno-57-59" href="#__codelineno-57-59"></a>
<a id="__codelineno-57-60" name="__codelineno-57-60" href="#__codelineno-57-60"></a>
<a id="__codelineno-57-61" name="__codelineno-57-61" href="#__codelineno-57-61"></a>kind: StatefulSet
<a id="__codelineno-57-62" name="__codelineno-57-62" href="#__codelineno-57-62"></a>
<a id="__codelineno-57-63" name="__codelineno-57-63" href="#__codelineno-57-63"></a>
<a id="__codelineno-57-64" name="__codelineno-57-64" href="#__codelineno-57-64"></a>
<a id="__codelineno-57-65" name="__codelineno-57-65" href="#__codelineno-57-65"></a>metadata:
<a id="__codelineno-57-66" name="__codelineno-57-66" href="#__codelineno-57-66"></a>
<a id="__codelineno-57-67" name="__codelineno-57-67" href="#__codelineno-57-67"></a>
<a id="__codelineno-57-68" name="__codelineno-57-68" href="#__codelineno-57-68"></a>
<a id="__codelineno-57-69" name="__codelineno-57-69" href="#__codelineno-57-69"></a>name: dynatrace-activegate
<a id="__codelineno-57-70" name="__codelineno-57-70" href="#__codelineno-57-70"></a>
<a id="__codelineno-57-71" name="__codelineno-57-71" href="#__codelineno-57-71"></a>
<a id="__codelineno-57-72" name="__codelineno-57-72" href="#__codelineno-57-72"></a>
<a id="__codelineno-57-73" name="__codelineno-57-73" href="#__codelineno-57-73"></a>namespace: dynatrace
<a id="__codelineno-57-74" name="__codelineno-57-74" href="#__codelineno-57-74"></a>
<a id="__codelineno-57-75" name="__codelineno-57-75" href="#__codelineno-57-75"></a>
<a id="__codelineno-57-76" name="__codelineno-57-76" href="#__codelineno-57-76"></a>
<a id="__codelineno-57-77" name="__codelineno-57-77" href="#__codelineno-57-77"></a>labels:
<a id="__codelineno-57-78" name="__codelineno-57-78" href="#__codelineno-57-78"></a>
<a id="__codelineno-57-79" name="__codelineno-57-79" href="#__codelineno-57-79"></a>
<a id="__codelineno-57-80" name="__codelineno-57-80" href="#__codelineno-57-80"></a>
<a id="__codelineno-57-81" name="__codelineno-57-81" href="#__codelineno-57-81"></a>activegate: kubernetes-monitoring-and-routing
<a id="__codelineno-57-82" name="__codelineno-57-82" href="#__codelineno-57-82"></a>
<a id="__codelineno-57-83" name="__codelineno-57-83" href="#__codelineno-57-83"></a>
<a id="__codelineno-57-84" name="__codelineno-57-84" href="#__codelineno-57-84"></a>
<a id="__codelineno-57-85" name="__codelineno-57-85" href="#__codelineno-57-85"></a>spec:
<a id="__codelineno-57-86" name="__codelineno-57-86" href="#__codelineno-57-86"></a>
<a id="__codelineno-57-87" name="__codelineno-57-87" href="#__codelineno-57-87"></a>
<a id="__codelineno-57-88" name="__codelineno-57-88" href="#__codelineno-57-88"></a>
<a id="__codelineno-57-89" name="__codelineno-57-89" href="#__codelineno-57-89"></a>serviceName: &quot;&quot;
<a id="__codelineno-57-90" name="__codelineno-57-90" href="#__codelineno-57-90"></a>
<a id="__codelineno-57-91" name="__codelineno-57-91" href="#__codelineno-57-91"></a>
<a id="__codelineno-57-92" name="__codelineno-57-92" href="#__codelineno-57-92"></a>
<a id="__codelineno-57-93" name="__codelineno-57-93" href="#__codelineno-57-93"></a>selector:
<a id="__codelineno-57-94" name="__codelineno-57-94" href="#__codelineno-57-94"></a>
<a id="__codelineno-57-95" name="__codelineno-57-95" href="#__codelineno-57-95"></a>
<a id="__codelineno-57-96" name="__codelineno-57-96" href="#__codelineno-57-96"></a>
<a id="__codelineno-57-97" name="__codelineno-57-97" href="#__codelineno-57-97"></a>matchLabels:
<a id="__codelineno-57-98" name="__codelineno-57-98" href="#__codelineno-57-98"></a>
<a id="__codelineno-57-99" name="__codelineno-57-99" href="#__codelineno-57-99"></a>
<a id="__codelineno-57-100" name="__codelineno-57-100" href="#__codelineno-57-100"></a>
<a id="__codelineno-57-101" name="__codelineno-57-101" href="#__codelineno-57-101"></a>activegate: kubernetes-monitoring-and-routing
<a id="__codelineno-57-102" name="__codelineno-57-102" href="#__codelineno-57-102"></a>
<a id="__codelineno-57-103" name="__codelineno-57-103" href="#__codelineno-57-103"></a>
<a id="__codelineno-57-104" name="__codelineno-57-104" href="#__codelineno-57-104"></a>
<a id="__codelineno-57-105" name="__codelineno-57-105" href="#__codelineno-57-105"></a>template:
<a id="__codelineno-57-106" name="__codelineno-57-106" href="#__codelineno-57-106"></a>
<a id="__codelineno-57-107" name="__codelineno-57-107" href="#__codelineno-57-107"></a>
<a id="__codelineno-57-108" name="__codelineno-57-108" href="#__codelineno-57-108"></a>
<a id="__codelineno-57-109" name="__codelineno-57-109" href="#__codelineno-57-109"></a>metadata:
<a id="__codelineno-57-110" name="__codelineno-57-110" href="#__codelineno-57-110"></a>
<a id="__codelineno-57-111" name="__codelineno-57-111" href="#__codelineno-57-111"></a>
<a id="__codelineno-57-112" name="__codelineno-57-112" href="#__codelineno-57-112"></a>
<a id="__codelineno-57-113" name="__codelineno-57-113" href="#__codelineno-57-113"></a>#     Uncomment the lines below to enable AppArmor
<a id="__codelineno-57-114" name="__codelineno-57-114" href="#__codelineno-57-114"></a>
<a id="__codelineno-57-115" name="__codelineno-57-115" href="#__codelineno-57-115"></a>
<a id="__codelineno-57-116" name="__codelineno-57-116" href="#__codelineno-57-116"></a>
<a id="__codelineno-57-117" name="__codelineno-57-117" href="#__codelineno-57-117"></a>#     annotations:
<a id="__codelineno-57-118" name="__codelineno-57-118" href="#__codelineno-57-118"></a>
<a id="__codelineno-57-119" name="__codelineno-57-119" href="#__codelineno-57-119"></a>
<a id="__codelineno-57-120" name="__codelineno-57-120" href="#__codelineno-57-120"></a>
<a id="__codelineno-57-121" name="__codelineno-57-121" href="#__codelineno-57-121"></a>#  container.apparmor.security.beta.kubernetes.io/activegate: runtime/default
<a id="__codelineno-57-122" name="__codelineno-57-122" href="#__codelineno-57-122"></a>
<a id="__codelineno-57-123" name="__codelineno-57-123" href="#__codelineno-57-123"></a>
<a id="__codelineno-57-124" name="__codelineno-57-124" href="#__codelineno-57-124"></a>
<a id="__codelineno-57-125" name="__codelineno-57-125" href="#__codelineno-57-125"></a>labels:
<a id="__codelineno-57-126" name="__codelineno-57-126" href="#__codelineno-57-126"></a>
<a id="__codelineno-57-127" name="__codelineno-57-127" href="#__codelineno-57-127"></a>
<a id="__codelineno-57-128" name="__codelineno-57-128" href="#__codelineno-57-128"></a>
<a id="__codelineno-57-129" name="__codelineno-57-129" href="#__codelineno-57-129"></a>activegate: kubernetes-monitoring-and-routing
<a id="__codelineno-57-130" name="__codelineno-57-130" href="#__codelineno-57-130"></a>
<a id="__codelineno-57-131" name="__codelineno-57-131" href="#__codelineno-57-131"></a>
<a id="__codelineno-57-132" name="__codelineno-57-132" href="#__codelineno-57-132"></a>
<a id="__codelineno-57-133" name="__codelineno-57-133" href="#__codelineno-57-133"></a>spec:
<a id="__codelineno-57-134" name="__codelineno-57-134" href="#__codelineno-57-134"></a>
<a id="__codelineno-57-135" name="__codelineno-57-135" href="#__codelineno-57-135"></a>
<a id="__codelineno-57-136" name="__codelineno-57-136" href="#__codelineno-57-136"></a>
<a id="__codelineno-57-137" name="__codelineno-57-137" href="#__codelineno-57-137"></a>serviceAccountName: dynatrace-activegate
<a id="__codelineno-57-138" name="__codelineno-57-138" href="#__codelineno-57-138"></a>
<a id="__codelineno-57-139" name="__codelineno-57-139" href="#__codelineno-57-139"></a>
<a id="__codelineno-57-140" name="__codelineno-57-140" href="#__codelineno-57-140"></a>
<a id="__codelineno-57-141" name="__codelineno-57-141" href="#__codelineno-57-141"></a>affinity:
<a id="__codelineno-57-142" name="__codelineno-57-142" href="#__codelineno-57-142"></a>
<a id="__codelineno-57-143" name="__codelineno-57-143" href="#__codelineno-57-143"></a>
<a id="__codelineno-57-144" name="__codelineno-57-144" href="#__codelineno-57-144"></a>
<a id="__codelineno-57-145" name="__codelineno-57-145" href="#__codelineno-57-145"></a>nodeAffinity:
<a id="__codelineno-57-146" name="__codelineno-57-146" href="#__codelineno-57-146"></a>
<a id="__codelineno-57-147" name="__codelineno-57-147" href="#__codelineno-57-147"></a>
<a id="__codelineno-57-148" name="__codelineno-57-148" href="#__codelineno-57-148"></a>
<a id="__codelineno-57-149" name="__codelineno-57-149" href="#__codelineno-57-149"></a>requiredDuringSchedulingIgnoredDuringExecution:
<a id="__codelineno-57-150" name="__codelineno-57-150" href="#__codelineno-57-150"></a>
<a id="__codelineno-57-151" name="__codelineno-57-151" href="#__codelineno-57-151"></a>
<a id="__codelineno-57-152" name="__codelineno-57-152" href="#__codelineno-57-152"></a>
<a id="__codelineno-57-153" name="__codelineno-57-153" href="#__codelineno-57-153"></a>nodeSelectorTerms:
<a id="__codelineno-57-154" name="__codelineno-57-154" href="#__codelineno-57-154"></a>
<a id="__codelineno-57-155" name="__codelineno-57-155" href="#__codelineno-57-155"></a>
<a id="__codelineno-57-156" name="__codelineno-57-156" href="#__codelineno-57-156"></a>
<a id="__codelineno-57-157" name="__codelineno-57-157" href="#__codelineno-57-157"></a>- matchExpressions:
<a id="__codelineno-57-158" name="__codelineno-57-158" href="#__codelineno-57-158"></a>
<a id="__codelineno-57-159" name="__codelineno-57-159" href="#__codelineno-57-159"></a>
<a id="__codelineno-57-160" name="__codelineno-57-160" href="#__codelineno-57-160"></a>
<a id="__codelineno-57-161" name="__codelineno-57-161" href="#__codelineno-57-161"></a>- key: kubernetes.io/arch
<a id="__codelineno-57-162" name="__codelineno-57-162" href="#__codelineno-57-162"></a>
<a id="__codelineno-57-163" name="__codelineno-57-163" href="#__codelineno-57-163"></a>
<a id="__codelineno-57-164" name="__codelineno-57-164" href="#__codelineno-57-164"></a>
<a id="__codelineno-57-165" name="__codelineno-57-165" href="#__codelineno-57-165"></a>operator: In
<a id="__codelineno-57-166" name="__codelineno-57-166" href="#__codelineno-57-166"></a>
<a id="__codelineno-57-167" name="__codelineno-57-167" href="#__codelineno-57-167"></a>
<a id="__codelineno-57-168" name="__codelineno-57-168" href="#__codelineno-57-168"></a>
<a id="__codelineno-57-169" name="__codelineno-57-169" href="#__codelineno-57-169"></a>values:
<a id="__codelineno-57-170" name="__codelineno-57-170" href="#__codelineno-57-170"></a>
<a id="__codelineno-57-171" name="__codelineno-57-171" href="#__codelineno-57-171"></a>
<a id="__codelineno-57-172" name="__codelineno-57-172" href="#__codelineno-57-172"></a>
<a id="__codelineno-57-173" name="__codelineno-57-173" href="#__codelineno-57-173"></a>- amd64
<a id="__codelineno-57-174" name="__codelineno-57-174" href="#__codelineno-57-174"></a>
<a id="__codelineno-57-175" name="__codelineno-57-175" href="#__codelineno-57-175"></a>
<a id="__codelineno-57-176" name="__codelineno-57-176" href="#__codelineno-57-176"></a>
<a id="__codelineno-57-177" name="__codelineno-57-177" href="#__codelineno-57-177"></a>- key: kubernetes.io/os
<a id="__codelineno-57-178" name="__codelineno-57-178" href="#__codelineno-57-178"></a>
<a id="__codelineno-57-179" name="__codelineno-57-179" href="#__codelineno-57-179"></a>
<a id="__codelineno-57-180" name="__codelineno-57-180" href="#__codelineno-57-180"></a>
<a id="__codelineno-57-181" name="__codelineno-57-181" href="#__codelineno-57-181"></a>operator: In
<a id="__codelineno-57-182" name="__codelineno-57-182" href="#__codelineno-57-182"></a>
<a id="__codelineno-57-183" name="__codelineno-57-183" href="#__codelineno-57-183"></a>
<a id="__codelineno-57-184" name="__codelineno-57-184" href="#__codelineno-57-184"></a>
<a id="__codelineno-57-185" name="__codelineno-57-185" href="#__codelineno-57-185"></a>values:
<a id="__codelineno-57-186" name="__codelineno-57-186" href="#__codelineno-57-186"></a>
<a id="__codelineno-57-187" name="__codelineno-57-187" href="#__codelineno-57-187"></a>
<a id="__codelineno-57-188" name="__codelineno-57-188" href="#__codelineno-57-188"></a>
<a id="__codelineno-57-189" name="__codelineno-57-189" href="#__codelineno-57-189"></a>- linux
<a id="__codelineno-57-190" name="__codelineno-57-190" href="#__codelineno-57-190"></a>
<a id="__codelineno-57-191" name="__codelineno-57-191" href="#__codelineno-57-191"></a>
<a id="__codelineno-57-192" name="__codelineno-57-192" href="#__codelineno-57-192"></a>
<a id="__codelineno-57-193" name="__codelineno-57-193" href="#__codelineno-57-193"></a>containers:
<a id="__codelineno-57-194" name="__codelineno-57-194" href="#__codelineno-57-194"></a>
<a id="__codelineno-57-195" name="__codelineno-57-195" href="#__codelineno-57-195"></a>
<a id="__codelineno-57-196" name="__codelineno-57-196" href="#__codelineno-57-196"></a>
<a id="__codelineno-57-197" name="__codelineno-57-197" href="#__codelineno-57-197"></a>- name: activegate
<a id="__codelineno-57-198" name="__codelineno-57-198" href="#__codelineno-57-198"></a>
<a id="__codelineno-57-199" name="__codelineno-57-199" href="#__codelineno-57-199"></a>
<a id="__codelineno-57-200" name="__codelineno-57-200" href="#__codelineno-57-200"></a>
<a id="__codelineno-57-201" name="__codelineno-57-201" href="#__codelineno-57-201"></a>image: &lt;YOUR_ENVIRONMENT_URL&gt;/linux/activegate
<a id="__codelineno-57-202" name="__codelineno-57-202" href="#__codelineno-57-202"></a>
<a id="__codelineno-57-203" name="__codelineno-57-203" href="#__codelineno-57-203"></a>
<a id="__codelineno-57-204" name="__codelineno-57-204" href="#__codelineno-57-204"></a>
<a id="__codelineno-57-205" name="__codelineno-57-205" href="#__codelineno-57-205"></a>imagePullPolicy: Always
<a id="__codelineno-57-206" name="__codelineno-57-206" href="#__codelineno-57-206"></a>
<a id="__codelineno-57-207" name="__codelineno-57-207" href="#__codelineno-57-207"></a>
<a id="__codelineno-57-208" name="__codelineno-57-208" href="#__codelineno-57-208"></a>
<a id="__codelineno-57-209" name="__codelineno-57-209" href="#__codelineno-57-209"></a>ports:
<a id="__codelineno-57-210" name="__codelineno-57-210" href="#__codelineno-57-210"></a>
<a id="__codelineno-57-211" name="__codelineno-57-211" href="#__codelineno-57-211"></a>
<a id="__codelineno-57-212" name="__codelineno-57-212" href="#__codelineno-57-212"></a>
<a id="__codelineno-57-213" name="__codelineno-57-213" href="#__codelineno-57-213"></a>- name: ag-https
<a id="__codelineno-57-214" name="__codelineno-57-214" href="#__codelineno-57-214"></a>
<a id="__codelineno-57-215" name="__codelineno-57-215" href="#__codelineno-57-215"></a>
<a id="__codelineno-57-216" name="__codelineno-57-216" href="#__codelineno-57-216"></a>
<a id="__codelineno-57-217" name="__codelineno-57-217" href="#__codelineno-57-217"></a>containerPort: 9999
<a id="__codelineno-57-218" name="__codelineno-57-218" href="#__codelineno-57-218"></a>
<a id="__codelineno-57-219" name="__codelineno-57-219" href="#__codelineno-57-219"></a>
<a id="__codelineno-57-220" name="__codelineno-57-220" href="#__codelineno-57-220"></a>
<a id="__codelineno-57-221" name="__codelineno-57-221" href="#__codelineno-57-221"></a>env:
<a id="__codelineno-57-222" name="__codelineno-57-222" href="#__codelineno-57-222"></a>
<a id="__codelineno-57-223" name="__codelineno-57-223" href="#__codelineno-57-223"></a>
<a id="__codelineno-57-224" name="__codelineno-57-224" href="#__codelineno-57-224"></a>
<a id="__codelineno-57-225" name="__codelineno-57-225" href="#__codelineno-57-225"></a>- name: DT_ID_SEED_NAMESPACE
<a id="__codelineno-57-226" name="__codelineno-57-226" href="#__codelineno-57-226"></a>
<a id="__codelineno-57-227" name="__codelineno-57-227" href="#__codelineno-57-227"></a>
<a id="__codelineno-57-228" name="__codelineno-57-228" href="#__codelineno-57-228"></a>
<a id="__codelineno-57-229" name="__codelineno-57-229" href="#__codelineno-57-229"></a>value: dynatrace
<a id="__codelineno-57-230" name="__codelineno-57-230" href="#__codelineno-57-230"></a>
<a id="__codelineno-57-231" name="__codelineno-57-231" href="#__codelineno-57-231"></a>
<a id="__codelineno-57-232" name="__codelineno-57-232" href="#__codelineno-57-232"></a>
<a id="__codelineno-57-233" name="__codelineno-57-233" href="#__codelineno-57-233"></a>- name: DT_ID_SEED_K8S_CLUSTER_ID
<a id="__codelineno-57-234" name="__codelineno-57-234" href="#__codelineno-57-234"></a>
<a id="__codelineno-57-235" name="__codelineno-57-235" href="#__codelineno-57-235"></a>
<a id="__codelineno-57-236" name="__codelineno-57-236" href="#__codelineno-57-236"></a>
<a id="__codelineno-57-237" name="__codelineno-57-237" href="#__codelineno-57-237"></a>value: &lt;YOUR_KUBE-SYSTEM_NAMESPACE_UUID&gt;
<a id="__codelineno-57-238" name="__codelineno-57-238" href="#__codelineno-57-238"></a>
<a id="__codelineno-57-239" name="__codelineno-57-239" href="#__codelineno-57-239"></a>
<a id="__codelineno-57-240" name="__codelineno-57-240" href="#__codelineno-57-240"></a>
<a id="__codelineno-57-241" name="__codelineno-57-241" href="#__codelineno-57-241"></a>- name: DT_CAPABILITIES
<a id="__codelineno-57-242" name="__codelineno-57-242" href="#__codelineno-57-242"></a>
<a id="__codelineno-57-243" name="__codelineno-57-243" href="#__codelineno-57-243"></a>
<a id="__codelineno-57-244" name="__codelineno-57-244" href="#__codelineno-57-244"></a>
<a id="__codelineno-57-245" name="__codelineno-57-245" href="#__codelineno-57-245"></a>value: kubernetes_monitoring,MSGrouter,restInterface
<a id="__codelineno-57-246" name="__codelineno-57-246" href="#__codelineno-57-246"></a>
<a id="__codelineno-57-247" name="__codelineno-57-247" href="#__codelineno-57-247"></a>
<a id="__codelineno-57-248" name="__codelineno-57-248" href="#__codelineno-57-248"></a>
<a id="__codelineno-57-249" name="__codelineno-57-249" href="#__codelineno-57-249"></a># - name: DT_NETWORK_ZONE
<a id="__codelineno-57-250" name="__codelineno-57-250" href="#__codelineno-57-250"></a>
<a id="__codelineno-57-251" name="__codelineno-57-251" href="#__codelineno-57-251"></a>
<a id="__codelineno-57-252" name="__codelineno-57-252" href="#__codelineno-57-252"></a>
<a id="__codelineno-57-253" name="__codelineno-57-253" href="#__codelineno-57-253"></a>#   value: &lt;CUSTOM_NZ&gt;
<a id="__codelineno-57-254" name="__codelineno-57-254" href="#__codelineno-57-254"></a>
<a id="__codelineno-57-255" name="__codelineno-57-255" href="#__codelineno-57-255"></a>
<a id="__codelineno-57-256" name="__codelineno-57-256" href="#__codelineno-57-256"></a>
<a id="__codelineno-57-257" name="__codelineno-57-257" href="#__codelineno-57-257"></a>- name: DT_DNS_ENTRY_POINT
<a id="__codelineno-57-258" name="__codelineno-57-258" href="#__codelineno-57-258"></a>
<a id="__codelineno-57-259" name="__codelineno-57-259" href="#__codelineno-57-259"></a>
<a id="__codelineno-57-260" name="__codelineno-57-260" href="#__codelineno-57-260"></a>
<a id="__codelineno-57-261" name="__codelineno-57-261" href="#__codelineno-57-261"></a>value: https://$(DYNATRACE_ACTIVEGATE_SERVICE_HOST):$(DYNATRACE_ACTIVEGATE_SERVICE_PORT)/communication
<a id="__codelineno-57-262" name="__codelineno-57-262" href="#__codelineno-57-262"></a>
<a id="__codelineno-57-263" name="__codelineno-57-263" href="#__codelineno-57-263"></a>
<a id="__codelineno-57-264" name="__codelineno-57-264" href="#__codelineno-57-264"></a>
<a id="__codelineno-57-265" name="__codelineno-57-265" href="#__codelineno-57-265"></a>volumeMounts:
<a id="__codelineno-57-266" name="__codelineno-57-266" href="#__codelineno-57-266"></a>
<a id="__codelineno-57-267" name="__codelineno-57-267" href="#__codelineno-57-267"></a>
<a id="__codelineno-57-268" name="__codelineno-57-268" href="#__codelineno-57-268"></a>
<a id="__codelineno-57-269" name="__codelineno-57-269" href="#__codelineno-57-269"></a>- name: dynatrace-tokens
<a id="__codelineno-57-270" name="__codelineno-57-270" href="#__codelineno-57-270"></a>
<a id="__codelineno-57-271" name="__codelineno-57-271" href="#__codelineno-57-271"></a>
<a id="__codelineno-57-272" name="__codelineno-57-272" href="#__codelineno-57-272"></a>
<a id="__codelineno-57-273" name="__codelineno-57-273" href="#__codelineno-57-273"></a>mountPath: /var/lib/dynatrace/secrets/tokens
<a id="__codelineno-57-274" name="__codelineno-57-274" href="#__codelineno-57-274"></a>
<a id="__codelineno-57-275" name="__codelineno-57-275" href="#__codelineno-57-275"></a>
<a id="__codelineno-57-276" name="__codelineno-57-276" href="#__codelineno-57-276"></a>
<a id="__codelineno-57-277" name="__codelineno-57-277" href="#__codelineno-57-277"></a>- name: truststore-volume
<a id="__codelineno-57-278" name="__codelineno-57-278" href="#__codelineno-57-278"></a>
<a id="__codelineno-57-279" name="__codelineno-57-279" href="#__codelineno-57-279"></a>
<a id="__codelineno-57-280" name="__codelineno-57-280" href="#__codelineno-57-280"></a>
<a id="__codelineno-57-281" name="__codelineno-57-281" href="#__codelineno-57-281"></a>mountPath: /opt/dynatrace/gateway/jre/lib/security/cacerts
<a id="__codelineno-57-282" name="__codelineno-57-282" href="#__codelineno-57-282"></a>
<a id="__codelineno-57-283" name="__codelineno-57-283" href="#__codelineno-57-283"></a>
<a id="__codelineno-57-284" name="__codelineno-57-284" href="#__codelineno-57-284"></a>
<a id="__codelineno-57-285" name="__codelineno-57-285" href="#__codelineno-57-285"></a>readOnly: true
<a id="__codelineno-57-286" name="__codelineno-57-286" href="#__codelineno-57-286"></a>
<a id="__codelineno-57-287" name="__codelineno-57-287" href="#__codelineno-57-287"></a>
<a id="__codelineno-57-288" name="__codelineno-57-288" href="#__codelineno-57-288"></a>
<a id="__codelineno-57-289" name="__codelineno-57-289" href="#__codelineno-57-289"></a>subPath: k8s-local.jks
<a id="__codelineno-57-290" name="__codelineno-57-290" href="#__codelineno-57-290"></a>
<a id="__codelineno-57-291" name="__codelineno-57-291" href="#__codelineno-57-291"></a>
<a id="__codelineno-57-292" name="__codelineno-57-292" href="#__codelineno-57-292"></a>
<a id="__codelineno-57-293" name="__codelineno-57-293" href="#__codelineno-57-293"></a>- name: ag-lib-gateway-config
<a id="__codelineno-57-294" name="__codelineno-57-294" href="#__codelineno-57-294"></a>
<a id="__codelineno-57-295" name="__codelineno-57-295" href="#__codelineno-57-295"></a>
<a id="__codelineno-57-296" name="__codelineno-57-296" href="#__codelineno-57-296"></a>
<a id="__codelineno-57-297" name="__codelineno-57-297" href="#__codelineno-57-297"></a>mountPath: /var/lib/dynatrace/gateway/config
<a id="__codelineno-57-298" name="__codelineno-57-298" href="#__codelineno-57-298"></a>
<a id="__codelineno-57-299" name="__codelineno-57-299" href="#__codelineno-57-299"></a>
<a id="__codelineno-57-300" name="__codelineno-57-300" href="#__codelineno-57-300"></a>
<a id="__codelineno-57-301" name="__codelineno-57-301" href="#__codelineno-57-301"></a>- name: ag-lib-gateway-temp
<a id="__codelineno-57-302" name="__codelineno-57-302" href="#__codelineno-57-302"></a>
<a id="__codelineno-57-303" name="__codelineno-57-303" href="#__codelineno-57-303"></a>
<a id="__codelineno-57-304" name="__codelineno-57-304" href="#__codelineno-57-304"></a>
<a id="__codelineno-57-305" name="__codelineno-57-305" href="#__codelineno-57-305"></a>mountPath: /var/lib/dynatrace/gateway/temp
<a id="__codelineno-57-306" name="__codelineno-57-306" href="#__codelineno-57-306"></a>
<a id="__codelineno-57-307" name="__codelineno-57-307" href="#__codelineno-57-307"></a>
<a id="__codelineno-57-308" name="__codelineno-57-308" href="#__codelineno-57-308"></a>
<a id="__codelineno-57-309" name="__codelineno-57-309" href="#__codelineno-57-309"></a>- name: ag-lib-gateway-data
<a id="__codelineno-57-310" name="__codelineno-57-310" href="#__codelineno-57-310"></a>
<a id="__codelineno-57-311" name="__codelineno-57-311" href="#__codelineno-57-311"></a>
<a id="__codelineno-57-312" name="__codelineno-57-312" href="#__codelineno-57-312"></a>
<a id="__codelineno-57-313" name="__codelineno-57-313" href="#__codelineno-57-313"></a>mountPath: /var/lib/dynatrace/gateway/data
<a id="__codelineno-57-314" name="__codelineno-57-314" href="#__codelineno-57-314"></a>
<a id="__codelineno-57-315" name="__codelineno-57-315" href="#__codelineno-57-315"></a>
<a id="__codelineno-57-316" name="__codelineno-57-316" href="#__codelineno-57-316"></a>
<a id="__codelineno-57-317" name="__codelineno-57-317" href="#__codelineno-57-317"></a>- name: ag-log-gateway
<a id="__codelineno-57-318" name="__codelineno-57-318" href="#__codelineno-57-318"></a>
<a id="__codelineno-57-319" name="__codelineno-57-319" href="#__codelineno-57-319"></a>
<a id="__codelineno-57-320" name="__codelineno-57-320" href="#__codelineno-57-320"></a>
<a id="__codelineno-57-321" name="__codelineno-57-321" href="#__codelineno-57-321"></a>mountPath: /var/log/dynatrace/gateway
<a id="__codelineno-57-322" name="__codelineno-57-322" href="#__codelineno-57-322"></a>
<a id="__codelineno-57-323" name="__codelineno-57-323" href="#__codelineno-57-323"></a>
<a id="__codelineno-57-324" name="__codelineno-57-324" href="#__codelineno-57-324"></a>
<a id="__codelineno-57-325" name="__codelineno-57-325" href="#__codelineno-57-325"></a>- name: ag-tmp-gateway
<a id="__codelineno-57-326" name="__codelineno-57-326" href="#__codelineno-57-326"></a>
<a id="__codelineno-57-327" name="__codelineno-57-327" href="#__codelineno-57-327"></a>
<a id="__codelineno-57-328" name="__codelineno-57-328" href="#__codelineno-57-328"></a>
<a id="__codelineno-57-329" name="__codelineno-57-329" href="#__codelineno-57-329"></a>mountPath: /var/tmp/dynatrace/gateway
<a id="__codelineno-57-330" name="__codelineno-57-330" href="#__codelineno-57-330"></a>
<a id="__codelineno-57-331" name="__codelineno-57-331" href="#__codelineno-57-331"></a>
<a id="__codelineno-57-332" name="__codelineno-57-332" href="#__codelineno-57-332"></a>
<a id="__codelineno-57-333" name="__codelineno-57-333" href="#__codelineno-57-333"></a>livenessProbe:
<a id="__codelineno-57-334" name="__codelineno-57-334" href="#__codelineno-57-334"></a>
<a id="__codelineno-57-335" name="__codelineno-57-335" href="#__codelineno-57-335"></a>
<a id="__codelineno-57-336" name="__codelineno-57-336" href="#__codelineno-57-336"></a>
<a id="__codelineno-57-337" name="__codelineno-57-337" href="#__codelineno-57-337"></a>failureThreshold: 2
<a id="__codelineno-57-338" name="__codelineno-57-338" href="#__codelineno-57-338"></a>
<a id="__codelineno-57-339" name="__codelineno-57-339" href="#__codelineno-57-339"></a>
<a id="__codelineno-57-340" name="__codelineno-57-340" href="#__codelineno-57-340"></a>
<a id="__codelineno-57-341" name="__codelineno-57-341" href="#__codelineno-57-341"></a>httpGet:
<a id="__codelineno-57-342" name="__codelineno-57-342" href="#__codelineno-57-342"></a>
<a id="__codelineno-57-343" name="__codelineno-57-343" href="#__codelineno-57-343"></a>
<a id="__codelineno-57-344" name="__codelineno-57-344" href="#__codelineno-57-344"></a>
<a id="__codelineno-57-345" name="__codelineno-57-345" href="#__codelineno-57-345"></a>path: /rest/state
<a id="__codelineno-57-346" name="__codelineno-57-346" href="#__codelineno-57-346"></a>
<a id="__codelineno-57-347" name="__codelineno-57-347" href="#__codelineno-57-347"></a>
<a id="__codelineno-57-348" name="__codelineno-57-348" href="#__codelineno-57-348"></a>
<a id="__codelineno-57-349" name="__codelineno-57-349" href="#__codelineno-57-349"></a>port: ag-https
<a id="__codelineno-57-350" name="__codelineno-57-350" href="#__codelineno-57-350"></a>
<a id="__codelineno-57-351" name="__codelineno-57-351" href="#__codelineno-57-351"></a>
<a id="__codelineno-57-352" name="__codelineno-57-352" href="#__codelineno-57-352"></a>
<a id="__codelineno-57-353" name="__codelineno-57-353" href="#__codelineno-57-353"></a>scheme: HTTPS
<a id="__codelineno-57-354" name="__codelineno-57-354" href="#__codelineno-57-354"></a>
<a id="__codelineno-57-355" name="__codelineno-57-355" href="#__codelineno-57-355"></a>
<a id="__codelineno-57-356" name="__codelineno-57-356" href="#__codelineno-57-356"></a>
<a id="__codelineno-57-357" name="__codelineno-57-357" href="#__codelineno-57-357"></a>initialDelaySeconds: 30
<a id="__codelineno-57-358" name="__codelineno-57-358" href="#__codelineno-57-358"></a>
<a id="__codelineno-57-359" name="__codelineno-57-359" href="#__codelineno-57-359"></a>
<a id="__codelineno-57-360" name="__codelineno-57-360" href="#__codelineno-57-360"></a>
<a id="__codelineno-57-361" name="__codelineno-57-361" href="#__codelineno-57-361"></a>periodSeconds: 30
<a id="__codelineno-57-362" name="__codelineno-57-362" href="#__codelineno-57-362"></a>
<a id="__codelineno-57-363" name="__codelineno-57-363" href="#__codelineno-57-363"></a>
<a id="__codelineno-57-364" name="__codelineno-57-364" href="#__codelineno-57-364"></a>
<a id="__codelineno-57-365" name="__codelineno-57-365" href="#__codelineno-57-365"></a>successThreshold: 1
<a id="__codelineno-57-366" name="__codelineno-57-366" href="#__codelineno-57-366"></a>
<a id="__codelineno-57-367" name="__codelineno-57-367" href="#__codelineno-57-367"></a>
<a id="__codelineno-57-368" name="__codelineno-57-368" href="#__codelineno-57-368"></a>
<a id="__codelineno-57-369" name="__codelineno-57-369" href="#__codelineno-57-369"></a>timeoutSeconds: 1
<a id="__codelineno-57-370" name="__codelineno-57-370" href="#__codelineno-57-370"></a>
<a id="__codelineno-57-371" name="__codelineno-57-371" href="#__codelineno-57-371"></a>
<a id="__codelineno-57-372" name="__codelineno-57-372" href="#__codelineno-57-372"></a>
<a id="__codelineno-57-373" name="__codelineno-57-373" href="#__codelineno-57-373"></a>readinessProbe:
<a id="__codelineno-57-374" name="__codelineno-57-374" href="#__codelineno-57-374"></a>
<a id="__codelineno-57-375" name="__codelineno-57-375" href="#__codelineno-57-375"></a>
<a id="__codelineno-57-376" name="__codelineno-57-376" href="#__codelineno-57-376"></a>
<a id="__codelineno-57-377" name="__codelineno-57-377" href="#__codelineno-57-377"></a>failureThreshold: 3
<a id="__codelineno-57-378" name="__codelineno-57-378" href="#__codelineno-57-378"></a>
<a id="__codelineno-57-379" name="__codelineno-57-379" href="#__codelineno-57-379"></a>
<a id="__codelineno-57-380" name="__codelineno-57-380" href="#__codelineno-57-380"></a>
<a id="__codelineno-57-381" name="__codelineno-57-381" href="#__codelineno-57-381"></a>httpGet:
<a id="__codelineno-57-382" name="__codelineno-57-382" href="#__codelineno-57-382"></a>
<a id="__codelineno-57-383" name="__codelineno-57-383" href="#__codelineno-57-383"></a>
<a id="__codelineno-57-384" name="__codelineno-57-384" href="#__codelineno-57-384"></a>
<a id="__codelineno-57-385" name="__codelineno-57-385" href="#__codelineno-57-385"></a>path: /rest/health
<a id="__codelineno-57-386" name="__codelineno-57-386" href="#__codelineno-57-386"></a>
<a id="__codelineno-57-387" name="__codelineno-57-387" href="#__codelineno-57-387"></a>
<a id="__codelineno-57-388" name="__codelineno-57-388" href="#__codelineno-57-388"></a>
<a id="__codelineno-57-389" name="__codelineno-57-389" href="#__codelineno-57-389"></a>port: ag-https
<a id="__codelineno-57-390" name="__codelineno-57-390" href="#__codelineno-57-390"></a>
<a id="__codelineno-57-391" name="__codelineno-57-391" href="#__codelineno-57-391"></a>
<a id="__codelineno-57-392" name="__codelineno-57-392" href="#__codelineno-57-392"></a>
<a id="__codelineno-57-393" name="__codelineno-57-393" href="#__codelineno-57-393"></a>scheme: HTTPS
<a id="__codelineno-57-394" name="__codelineno-57-394" href="#__codelineno-57-394"></a>
<a id="__codelineno-57-395" name="__codelineno-57-395" href="#__codelineno-57-395"></a>
<a id="__codelineno-57-396" name="__codelineno-57-396" href="#__codelineno-57-396"></a>
<a id="__codelineno-57-397" name="__codelineno-57-397" href="#__codelineno-57-397"></a>initialDelaySeconds: 30
<a id="__codelineno-57-398" name="__codelineno-57-398" href="#__codelineno-57-398"></a>
<a id="__codelineno-57-399" name="__codelineno-57-399" href="#__codelineno-57-399"></a>
<a id="__codelineno-57-400" name="__codelineno-57-400" href="#__codelineno-57-400"></a>
<a id="__codelineno-57-401" name="__codelineno-57-401" href="#__codelineno-57-401"></a>periodSeconds: 15
<a id="__codelineno-57-402" name="__codelineno-57-402" href="#__codelineno-57-402"></a>
<a id="__codelineno-57-403" name="__codelineno-57-403" href="#__codelineno-57-403"></a>
<a id="__codelineno-57-404" name="__codelineno-57-404" href="#__codelineno-57-404"></a>
<a id="__codelineno-57-405" name="__codelineno-57-405" href="#__codelineno-57-405"></a>successThreshold: 1
<a id="__codelineno-57-406" name="__codelineno-57-406" href="#__codelineno-57-406"></a>
<a id="__codelineno-57-407" name="__codelineno-57-407" href="#__codelineno-57-407"></a>
<a id="__codelineno-57-408" name="__codelineno-57-408" href="#__codelineno-57-408"></a>
<a id="__codelineno-57-409" name="__codelineno-57-409" href="#__codelineno-57-409"></a>timeoutSeconds: 1
<a id="__codelineno-57-410" name="__codelineno-57-410" href="#__codelineno-57-410"></a>
<a id="__codelineno-57-411" name="__codelineno-57-411" href="#__codelineno-57-411"></a>
<a id="__codelineno-57-412" name="__codelineno-57-412" href="#__codelineno-57-412"></a>
<a id="__codelineno-57-413" name="__codelineno-57-413" href="#__codelineno-57-413"></a>resources:
<a id="__codelineno-57-414" name="__codelineno-57-414" href="#__codelineno-57-414"></a>
<a id="__codelineno-57-415" name="__codelineno-57-415" href="#__codelineno-57-415"></a>
<a id="__codelineno-57-416" name="__codelineno-57-416" href="#__codelineno-57-416"></a>
<a id="__codelineno-57-417" name="__codelineno-57-417" href="#__codelineno-57-417"></a>requests:
<a id="__codelineno-57-418" name="__codelineno-57-418" href="#__codelineno-57-418"></a>
<a id="__codelineno-57-419" name="__codelineno-57-419" href="#__codelineno-57-419"></a>
<a id="__codelineno-57-420" name="__codelineno-57-420" href="#__codelineno-57-420"></a>
<a id="__codelineno-57-421" name="__codelineno-57-421" href="#__codelineno-57-421"></a>cpu: 250m
<a id="__codelineno-57-422" name="__codelineno-57-422" href="#__codelineno-57-422"></a>
<a id="__codelineno-57-423" name="__codelineno-57-423" href="#__codelineno-57-423"></a>
<a id="__codelineno-57-424" name="__codelineno-57-424" href="#__codelineno-57-424"></a>
<a id="__codelineno-57-425" name="__codelineno-57-425" href="#__codelineno-57-425"></a>memory: 512Mi
<a id="__codelineno-57-426" name="__codelineno-57-426" href="#__codelineno-57-426"></a>
<a id="__codelineno-57-427" name="__codelineno-57-427" href="#__codelineno-57-427"></a>
<a id="__codelineno-57-428" name="__codelineno-57-428" href="#__codelineno-57-428"></a>
<a id="__codelineno-57-429" name="__codelineno-57-429" href="#__codelineno-57-429"></a>limits:
<a id="__codelineno-57-430" name="__codelineno-57-430" href="#__codelineno-57-430"></a>
<a id="__codelineno-57-431" name="__codelineno-57-431" href="#__codelineno-57-431"></a>
<a id="__codelineno-57-432" name="__codelineno-57-432" href="#__codelineno-57-432"></a>
<a id="__codelineno-57-433" name="__codelineno-57-433" href="#__codelineno-57-433"></a>cpu: 250m
<a id="__codelineno-57-434" name="__codelineno-57-434" href="#__codelineno-57-434"></a>
<a id="__codelineno-57-435" name="__codelineno-57-435" href="#__codelineno-57-435"></a>
<a id="__codelineno-57-436" name="__codelineno-57-436" href="#__codelineno-57-436"></a>
<a id="__codelineno-57-437" name="__codelineno-57-437" href="#__codelineno-57-437"></a>memory: 512Mi
<a id="__codelineno-57-438" name="__codelineno-57-438" href="#__codelineno-57-438"></a>
<a id="__codelineno-57-439" name="__codelineno-57-439" href="#__codelineno-57-439"></a>
<a id="__codelineno-57-440" name="__codelineno-57-440" href="#__codelineno-57-440"></a>
<a id="__codelineno-57-441" name="__codelineno-57-441" href="#__codelineno-57-441"></a>securityContext:
<a id="__codelineno-57-442" name="__codelineno-57-442" href="#__codelineno-57-442"></a>
<a id="__codelineno-57-443" name="__codelineno-57-443" href="#__codelineno-57-443"></a>
<a id="__codelineno-57-444" name="__codelineno-57-444" href="#__codelineno-57-444"></a>
<a id="__codelineno-57-445" name="__codelineno-57-445" href="#__codelineno-57-445"></a>allowPrivilegeEscalation: false
<a id="__codelineno-57-446" name="__codelineno-57-446" href="#__codelineno-57-446"></a>
<a id="__codelineno-57-447" name="__codelineno-57-447" href="#__codelineno-57-447"></a>
<a id="__codelineno-57-448" name="__codelineno-57-448" href="#__codelineno-57-448"></a>
<a id="__codelineno-57-449" name="__codelineno-57-449" href="#__codelineno-57-449"></a>capabilities:
<a id="__codelineno-57-450" name="__codelineno-57-450" href="#__codelineno-57-450"></a>
<a id="__codelineno-57-451" name="__codelineno-57-451" href="#__codelineno-57-451"></a>
<a id="__codelineno-57-452" name="__codelineno-57-452" href="#__codelineno-57-452"></a>
<a id="__codelineno-57-453" name="__codelineno-57-453" href="#__codelineno-57-453"></a>drop:
<a id="__codelineno-57-454" name="__codelineno-57-454" href="#__codelineno-57-454"></a>
<a id="__codelineno-57-455" name="__codelineno-57-455" href="#__codelineno-57-455"></a>
<a id="__codelineno-57-456" name="__codelineno-57-456" href="#__codelineno-57-456"></a>
<a id="__codelineno-57-457" name="__codelineno-57-457" href="#__codelineno-57-457"></a>- all
<a id="__codelineno-57-458" name="__codelineno-57-458" href="#__codelineno-57-458"></a>
<a id="__codelineno-57-459" name="__codelineno-57-459" href="#__codelineno-57-459"></a>
<a id="__codelineno-57-460" name="__codelineno-57-460" href="#__codelineno-57-460"></a>
<a id="__codelineno-57-461" name="__codelineno-57-461" href="#__codelineno-57-461"></a>privileged: false
<a id="__codelineno-57-462" name="__codelineno-57-462" href="#__codelineno-57-462"></a>
<a id="__codelineno-57-463" name="__codelineno-57-463" href="#__codelineno-57-463"></a>
<a id="__codelineno-57-464" name="__codelineno-57-464" href="#__codelineno-57-464"></a>
<a id="__codelineno-57-465" name="__codelineno-57-465" href="#__codelineno-57-465"></a>readOnlyRootFilesystem: true
<a id="__codelineno-57-466" name="__codelineno-57-466" href="#__codelineno-57-466"></a>
<a id="__codelineno-57-467" name="__codelineno-57-467" href="#__codelineno-57-467"></a>
<a id="__codelineno-57-468" name="__codelineno-57-468" href="#__codelineno-57-468"></a>
<a id="__codelineno-57-469" name="__codelineno-57-469" href="#__codelineno-57-469"></a>runAsNonRoot: true
<a id="__codelineno-57-470" name="__codelineno-57-470" href="#__codelineno-57-470"></a>
<a id="__codelineno-57-471" name="__codelineno-57-471" href="#__codelineno-57-471"></a>
<a id="__codelineno-57-472" name="__codelineno-57-472" href="#__codelineno-57-472"></a>
<a id="__codelineno-57-473" name="__codelineno-57-473" href="#__codelineno-57-473"></a>seccompProfile:
<a id="__codelineno-57-474" name="__codelineno-57-474" href="#__codelineno-57-474"></a>
<a id="__codelineno-57-475" name="__codelineno-57-475" href="#__codelineno-57-475"></a>
<a id="__codelineno-57-476" name="__codelineno-57-476" href="#__codelineno-57-476"></a>
<a id="__codelineno-57-477" name="__codelineno-57-477" href="#__codelineno-57-477"></a>type: RuntimeDefault
<a id="__codelineno-57-478" name="__codelineno-57-478" href="#__codelineno-57-478"></a>
<a id="__codelineno-57-479" name="__codelineno-57-479" href="#__codelineno-57-479"></a>
<a id="__codelineno-57-480" name="__codelineno-57-480" href="#__codelineno-57-480"></a>
<a id="__codelineno-57-481" name="__codelineno-57-481" href="#__codelineno-57-481"></a>initContainers:
<a id="__codelineno-57-482" name="__codelineno-57-482" href="#__codelineno-57-482"></a>
<a id="__codelineno-57-483" name="__codelineno-57-483" href="#__codelineno-57-483"></a>
<a id="__codelineno-57-484" name="__codelineno-57-484" href="#__codelineno-57-484"></a>
<a id="__codelineno-57-485" name="__codelineno-57-485" href="#__codelineno-57-485"></a>- name: certificate-loader
<a id="__codelineno-57-486" name="__codelineno-57-486" href="#__codelineno-57-486"></a>
<a id="__codelineno-57-487" name="__codelineno-57-487" href="#__codelineno-57-487"></a>
<a id="__codelineno-57-488" name="__codelineno-57-488" href="#__codelineno-57-488"></a>
<a id="__codelineno-57-489" name="__codelineno-57-489" href="#__codelineno-57-489"></a>image: &lt;YOUR_ENVIRONMENT_URL&gt;/linux/activegate
<a id="__codelineno-57-490" name="__codelineno-57-490" href="#__codelineno-57-490"></a>
<a id="__codelineno-57-491" name="__codelineno-57-491" href="#__codelineno-57-491"></a>
<a id="__codelineno-57-492" name="__codelineno-57-492" href="#__codelineno-57-492"></a>
<a id="__codelineno-57-493" name="__codelineno-57-493" href="#__codelineno-57-493"></a>workingDir: /var/lib/dynatrace/gateway
<a id="__codelineno-57-494" name="__codelineno-57-494" href="#__codelineno-57-494"></a>
<a id="__codelineno-57-495" name="__codelineno-57-495" href="#__codelineno-57-495"></a>
<a id="__codelineno-57-496" name="__codelineno-57-496" href="#__codelineno-57-496"></a>
<a id="__codelineno-57-497" name="__codelineno-57-497" href="#__codelineno-57-497"></a>command: [&#39;/bin/bash&#39;]
<a id="__codelineno-57-498" name="__codelineno-57-498" href="#__codelineno-57-498"></a>
<a id="__codelineno-57-499" name="__codelineno-57-499" href="#__codelineno-57-499"></a>
<a id="__codelineno-57-500" name="__codelineno-57-500" href="#__codelineno-57-500"></a>
<a id="__codelineno-57-501" name="__codelineno-57-501" href="#__codelineno-57-501"></a>args: [&#39;-c&#39;, &#39;/opt/dynatrace/gateway/k8scrt2jks.sh&#39;]
<a id="__codelineno-57-502" name="__codelineno-57-502" href="#__codelineno-57-502"></a>
<a id="__codelineno-57-503" name="__codelineno-57-503" href="#__codelineno-57-503"></a>
<a id="__codelineno-57-504" name="__codelineno-57-504" href="#__codelineno-57-504"></a>
<a id="__codelineno-57-505" name="__codelineno-57-505" href="#__codelineno-57-505"></a>volumeMounts:
<a id="__codelineno-57-506" name="__codelineno-57-506" href="#__codelineno-57-506"></a>
<a id="__codelineno-57-507" name="__codelineno-57-507" href="#__codelineno-57-507"></a>
<a id="__codelineno-57-508" name="__codelineno-57-508" href="#__codelineno-57-508"></a>
<a id="__codelineno-57-509" name="__codelineno-57-509" href="#__codelineno-57-509"></a>- mountPath: /var/lib/dynatrace/gateway/ssl
<a id="__codelineno-57-510" name="__codelineno-57-510" href="#__codelineno-57-510"></a>
<a id="__codelineno-57-511" name="__codelineno-57-511" href="#__codelineno-57-511"></a>
<a id="__codelineno-57-512" name="__codelineno-57-512" href="#__codelineno-57-512"></a>
<a id="__codelineno-57-513" name="__codelineno-57-513" href="#__codelineno-57-513"></a>name: truststore-volume
<a id="__codelineno-57-514" name="__codelineno-57-514" href="#__codelineno-57-514"></a>
<a id="__codelineno-57-515" name="__codelineno-57-515" href="#__codelineno-57-515"></a>
<a id="__codelineno-57-516" name="__codelineno-57-516" href="#__codelineno-57-516"></a>
<a id="__codelineno-57-517" name="__codelineno-57-517" href="#__codelineno-57-517"></a>imagePullSecrets:
<a id="__codelineno-57-518" name="__codelineno-57-518" href="#__codelineno-57-518"></a>
<a id="__codelineno-57-519" name="__codelineno-57-519" href="#__codelineno-57-519"></a>
<a id="__codelineno-57-520" name="__codelineno-57-520" href="#__codelineno-57-520"></a>
<a id="__codelineno-57-521" name="__codelineno-57-521" href="#__codelineno-57-521"></a>- name: dynatrace-docker-registry
<a id="__codelineno-57-522" name="__codelineno-57-522" href="#__codelineno-57-522"></a>
<a id="__codelineno-57-523" name="__codelineno-57-523" href="#__codelineno-57-523"></a>
<a id="__codelineno-57-524" name="__codelineno-57-524" href="#__codelineno-57-524"></a>
<a id="__codelineno-57-525" name="__codelineno-57-525" href="#__codelineno-57-525"></a>volumes:
<a id="__codelineno-57-526" name="__codelineno-57-526" href="#__codelineno-57-526"></a>
<a id="__codelineno-57-527" name="__codelineno-57-527" href="#__codelineno-57-527"></a>
<a id="__codelineno-57-528" name="__codelineno-57-528" href="#__codelineno-57-528"></a>
<a id="__codelineno-57-529" name="__codelineno-57-529" href="#__codelineno-57-529"></a>- name: dynatrace-tokens
<a id="__codelineno-57-530" name="__codelineno-57-530" href="#__codelineno-57-530"></a>
<a id="__codelineno-57-531" name="__codelineno-57-531" href="#__codelineno-57-531"></a>
<a id="__codelineno-57-532" name="__codelineno-57-532" href="#__codelineno-57-532"></a>
<a id="__codelineno-57-533" name="__codelineno-57-533" href="#__codelineno-57-533"></a>secret:
<a id="__codelineno-57-534" name="__codelineno-57-534" href="#__codelineno-57-534"></a>
<a id="__codelineno-57-535" name="__codelineno-57-535" href="#__codelineno-57-535"></a>
<a id="__codelineno-57-536" name="__codelineno-57-536" href="#__codelineno-57-536"></a>
<a id="__codelineno-57-537" name="__codelineno-57-537" href="#__codelineno-57-537"></a>secretName: dynatrace-tokens
<a id="__codelineno-57-538" name="__codelineno-57-538" href="#__codelineno-57-538"></a>
<a id="__codelineno-57-539" name="__codelineno-57-539" href="#__codelineno-57-539"></a>
<a id="__codelineno-57-540" name="__codelineno-57-540" href="#__codelineno-57-540"></a>
<a id="__codelineno-57-541" name="__codelineno-57-541" href="#__codelineno-57-541"></a>- name: truststore-volume
<a id="__codelineno-57-542" name="__codelineno-57-542" href="#__codelineno-57-542"></a>
<a id="__codelineno-57-543" name="__codelineno-57-543" href="#__codelineno-57-543"></a>
<a id="__codelineno-57-544" name="__codelineno-57-544" href="#__codelineno-57-544"></a>
<a id="__codelineno-57-545" name="__codelineno-57-545" href="#__codelineno-57-545"></a>emptyDir: {}
<a id="__codelineno-57-546" name="__codelineno-57-546" href="#__codelineno-57-546"></a>
<a id="__codelineno-57-547" name="__codelineno-57-547" href="#__codelineno-57-547"></a>
<a id="__codelineno-57-548" name="__codelineno-57-548" href="#__codelineno-57-548"></a>
<a id="__codelineno-57-549" name="__codelineno-57-549" href="#__codelineno-57-549"></a>- name: ag-lib-gateway-config
<a id="__codelineno-57-550" name="__codelineno-57-550" href="#__codelineno-57-550"></a>
<a id="__codelineno-57-551" name="__codelineno-57-551" href="#__codelineno-57-551"></a>
<a id="__codelineno-57-552" name="__codelineno-57-552" href="#__codelineno-57-552"></a>
<a id="__codelineno-57-553" name="__codelineno-57-553" href="#__codelineno-57-553"></a>emptyDir: {}
<a id="__codelineno-57-554" name="__codelineno-57-554" href="#__codelineno-57-554"></a>
<a id="__codelineno-57-555" name="__codelineno-57-555" href="#__codelineno-57-555"></a>
<a id="__codelineno-57-556" name="__codelineno-57-556" href="#__codelineno-57-556"></a>
<a id="__codelineno-57-557" name="__codelineno-57-557" href="#__codelineno-57-557"></a>- name: ag-lib-gateway-temp
<a id="__codelineno-57-558" name="__codelineno-57-558" href="#__codelineno-57-558"></a>
<a id="__codelineno-57-559" name="__codelineno-57-559" href="#__codelineno-57-559"></a>
<a id="__codelineno-57-560" name="__codelineno-57-560" href="#__codelineno-57-560"></a>
<a id="__codelineno-57-561" name="__codelineno-57-561" href="#__codelineno-57-561"></a>emptyDir: {}
<a id="__codelineno-57-562" name="__codelineno-57-562" href="#__codelineno-57-562"></a>
<a id="__codelineno-57-563" name="__codelineno-57-563" href="#__codelineno-57-563"></a>
<a id="__codelineno-57-564" name="__codelineno-57-564" href="#__codelineno-57-564"></a>
<a id="__codelineno-57-565" name="__codelineno-57-565" href="#__codelineno-57-565"></a>- name: ag-lib-gateway-data
<a id="__codelineno-57-566" name="__codelineno-57-566" href="#__codelineno-57-566"></a>
<a id="__codelineno-57-567" name="__codelineno-57-567" href="#__codelineno-57-567"></a>
<a id="__codelineno-57-568" name="__codelineno-57-568" href="#__codelineno-57-568"></a>
<a id="__codelineno-57-569" name="__codelineno-57-569" href="#__codelineno-57-569"></a>emptyDir: {}
<a id="__codelineno-57-570" name="__codelineno-57-570" href="#__codelineno-57-570"></a>
<a id="__codelineno-57-571" name="__codelineno-57-571" href="#__codelineno-57-571"></a>
<a id="__codelineno-57-572" name="__codelineno-57-572" href="#__codelineno-57-572"></a>
<a id="__codelineno-57-573" name="__codelineno-57-573" href="#__codelineno-57-573"></a>- name: ag-log-gateway
<a id="__codelineno-57-574" name="__codelineno-57-574" href="#__codelineno-57-574"></a>
<a id="__codelineno-57-575" name="__codelineno-57-575" href="#__codelineno-57-575"></a>
<a id="__codelineno-57-576" name="__codelineno-57-576" href="#__codelineno-57-576"></a>
<a id="__codelineno-57-577" name="__codelineno-57-577" href="#__codelineno-57-577"></a>emptyDir: {}
<a id="__codelineno-57-578" name="__codelineno-57-578" href="#__codelineno-57-578"></a>
<a id="__codelineno-57-579" name="__codelineno-57-579" href="#__codelineno-57-579"></a>
<a id="__codelineno-57-580" name="__codelineno-57-580" href="#__codelineno-57-580"></a>
<a id="__codelineno-57-581" name="__codelineno-57-581" href="#__codelineno-57-581"></a>- name: ag-tmp-gateway
<a id="__codelineno-57-582" name="__codelineno-57-582" href="#__codelineno-57-582"></a>
<a id="__codelineno-57-583" name="__codelineno-57-583" href="#__codelineno-57-583"></a>
<a id="__codelineno-57-584" name="__codelineno-57-584" href="#__codelineno-57-584"></a>
<a id="__codelineno-57-585" name="__codelineno-57-585" href="#__codelineno-57-585"></a>emptyDir: {}
<a id="__codelineno-57-586" name="__codelineno-57-586" href="#__codelineno-57-586"></a>
<a id="__codelineno-57-587" name="__codelineno-57-587" href="#__codelineno-57-587"></a>
<a id="__codelineno-57-588" name="__codelineno-57-588" href="#__codelineno-57-588"></a>
<a id="__codelineno-57-589" name="__codelineno-57-589" href="#__codelineno-57-589"></a>updateStrategy:
<a id="__codelineno-57-590" name="__codelineno-57-590" href="#__codelineno-57-590"></a>
<a id="__codelineno-57-591" name="__codelineno-57-591" href="#__codelineno-57-591"></a>
<a id="__codelineno-57-592" name="__codelineno-57-592" href="#__codelineno-57-592"></a>
<a id="__codelineno-57-593" name="__codelineno-57-593" href="#__codelineno-57-593"></a>type: RollingUpdate
</code></pre></div>
<p>For more information about containerized ActiveGate configuration, see <a href="/docs/ingest-from/dynatrace-activegate/activegate-in-container/configuration" title="Learn how to configure containerized ActiveGate.">Containerized ActiveGate configuration</a>.</p>
<p>ActiveGate limit sizing hints</p>
<p>See below for a list of proposed sizes in relation to the number of Pods:</p>
<table>
<thead>
<tr>
<th>Number of Pods</th>
<th>CPU</th>
<th>Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>Up to 1,000 Pods</td>
<td>200 millicores (mCores)</td>
<td>6 gibibyte (GiB)</td>
</tr>
<tr>
<td>Up to 5,000 Pods</td>
<td>1,000 millicores (mCores)</td>
<td>10 gibibyte (GiB)</td>
</tr>
<tr>
<td>Up to 20,000 Pods</td>
<td>2,000 millicores (mCores)</td>
<td>12 gibibytes (GiB)</td>
</tr>
<tr>
<td>Over 20,000 Pods</td>
<td>over 2,000 millicores (mCores)<a href="#fn-1-1-def">1</a></td>
<td>over 12 gibibytes (GiB)<a href="#fn-1-1-def">1</a></td>
</tr>
</tbody>
</table>
<p>1</p>
<p>Actual figures depend on your environment.</p>
<p>These limits should be taken as a guideline. They're designed to prevent ActiveGate startup process slowdown and excessive node resource usage. The default values cover a large range of different cluster sizes; you can modify them according to your needs, based on the ActiveGate <a href="/docs/analyze-explore-automate/metrics-classic/self-monitoring-metrics#activegate-insights" title="Explore the complete list of self-monitoring Dynatrace metrics.">self-monitoring metrics</a>.
   For more information with regards to sizing guidelines refer to <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/resource-management/ag-resource-limits" title="Set resource limits for Dynatrace ActiveGates">Sizing guide for Dynatrace ActiveGate components</a></p>
<p>For PPC64le architecture, additional configuration is required. For details, see <a href="/docs/ingest-from/dynatrace-activegate/activegate-in-container#additional-configuration" title="Deploy a containerized ActiveGate.">ActiveGate container image</a>.
6. Deploy ActiveGate.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>kubectl apply -f ag-monitoring-and-routing.yaml
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>oc apply -f ag-monitoring-and-routing.yaml
</code></pre></div>
<h2 id="connect-activegate-with-kubernetes-api">Connect ActiveGate with Kubernetes API<a class="headerlink" href="#connect-activegate-with-kubernetes-api" title="Permanent link">&para;</a></h2>
<p>Continue with step 3 from the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/k8s-api-monitoring#connect-ag-k8s-api" title="Monitor the Kubernetes API using Dynatrace">guide for enabling Kubernetes API monitoring</a></p>
<h2 id="activegate-update-behavior">ActiveGate update behavior<a class="headerlink" href="#activegate-update-behavior" title="Permanent link">&para;</a></h2>
<p>ActiveGate is updated automatically on pod restart whenever there is a new version available, unless the image already specifies a certain version.</p>
<hr />
<h2 id="source-ocp-operator-hubmd">Source: ocp-operator-hub.md<a class="headerlink" href="#source-ocp-operator-hubmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Set up OpenShift monitoring via OperatorHub
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/other/ocp-operator-hub
scraped: 2026-02-17T04:57:52.026277</p>
<hr />
<h1 id="set-up-openshift-monitoring-via-operatorhub">Set up OpenShift monitoring via OperatorHub<a class="headerlink" href="#set-up-openshift-monitoring-via-operatorhub" title="Permanent link">&para;</a></h1>
<h1 id="set-up-openshift-monitoring-via-operatorhub_1">Set up OpenShift monitoring via OperatorHub<a class="headerlink" href="#set-up-openshift-monitoring-via-operatorhub_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Jun 15, 2020</li>
</ul>
<p>The OperatorHub is the interface that cluster administrators use to discover and install operators and is available via the OpenShift Container Platform web console.</p>
<h2 id="prerequisites-for-openshift-dedicated">Prerequisites for OpenShift Dedicated<a class="headerlink" href="#prerequisites-for-openshift-dedicated" title="Permanent link">&para;</a></h2>
<ul>
<li>A dedicated-admin user for the OpenShift Dedicated cluster</li>
</ul>
<p>How to add a user to a dedicated-admin role</p>
<ol>
<li>Sign in to the <a href="https://cloud.redhat.com/openshift">Red Hat OpenShift Cluster Manager√Ø¬ª¬ø</a> with your Red Hat account.</li>
<li>Select the OpenShift Dedicated cluster and go to <strong>Access control</strong> &gt; <strong>Cluster administrative users</strong> &gt; <strong>Add user</strong>.</li>
<li>Add the userid of the user who will have dedicated-admin access.</li>
</ol>
<p>The dedicated-admin user must be added before the OneAgent Operator is visible in the OperatorHub UI.</p>
<h2 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h2>
<p>Deployment options that can be installed from OperatorHub:</p>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/platform-observability" title="Deploy Dynatrace Operator for Kubernetes platform monitoring.">Kubernetes platform monitoring</a></li>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/other/classic-full-stack" title="Deploy Dynatrace Operator in classic full-stack mode to Kubernetes">Classic Full-Stack monitoring</a></li>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/application-observability" title="Deploy Dynatrace Operator in application monitoring mode to Kubernetes">Application observability</a> without CSI driver</li>
</ul>
<p>Deployment options that <strong>can't</strong> be installed from OperatorHub (they require Helm or manifest installation approaches):</p>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/full-stack-observability" title="Deploy Dynatrace Operator in cloud-native full-stack mode to Kubernetes">Full-Stack observability</a></li>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/application-observability" title="Deploy Dynatrace Operator in application monitoring mode to Kubernetes">Application observability</a> with CSI driver</li>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/other/host-monitoring" title="Deploy Dynatrace Operator in host monitoring mode to Kubernetes">Host monitoring</a></li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>To install Dynatrace Operator on OpenShift via OperatorHub</p>
<ol>
<li>On the OpenShift Container Platform dashboard, select <strong>Operators</strong> &gt; <strong>OperatorHub</strong> from the side menu.</li>
<li>Select <strong>Dynatrace Operator</strong> &gt; <strong>Install</strong>.</li>
<li>Enter the necessary information about the Operator subscription.</li>
<li>In <strong>Installation Mode</strong>, select <strong>All namespaces</strong>.</li>
<li>Keep the default values of the other settings and select <strong>Subscribe</strong>.</li>
<li>Go to <strong>Operators</strong> &gt; <strong>Installed Operators</strong> and wait until you see <strong>Install Succeeded</strong>.</li>
<li>
<p>Go to <strong>Workloads</strong> &gt; <strong>Secrets</strong> and create a new key named <code>dynakube</code> with two values:</p>
</li>
<li>
<p><code>apiToken</code> equal to your cluster's <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Dynatrace Operator token</a>.</p>
</li>
<li><code>dataIngestToken</code> equal to your cluster's <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Data Ingest token</a>.</li>
<li>Go to <strong>Operators</strong> &gt; <strong>Installed Operators</strong> from the side menu and select <strong>Dynatrace Operator</strong>.</li>
<li>Select <strong>Create instance</strong>.</li>
<li>
<p>Make the following changes:</p>
<ul>
<li>Replace <code>apiURL</code> value according to your deployment:</li>
</ul>
<p>Dynatrace SaaS</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>spec:
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>apiURL: &#39;https://ENVIRONMENTID.live.dynatrace.com/api&#39;
</code></pre></div>
<p>Replace <code>ENVIRONMENTID</code> with your <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">environment ID</a>.
* Set <code>classicFullStack.enabled</code> to <code>true</code>.
* If you're using a custom resource file, set <code>namespace</code> to the namespace where you installed Dynatrace Operator.
11. Select <strong>Create</strong>.</p>
</li>
</ol>
<hr />
<h2 id="source-supported-technologiesmd">Source: supported-technologies.md<a class="headerlink" href="#source-supported-technologiesmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Supported distributions
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment/supported-technologies
scraped: 2026-02-17T04:51:22.052829</p>
<hr />
<h1 id="supported-distributions">Supported distributions<a class="headerlink" href="#supported-distributions" title="Permanent link">&para;</a></h1>
<h1 id="supported-distributions_1">Supported distributions<a class="headerlink" href="#supported-distributions_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>6-min read</li>
<li>Updated on Sep 07, 2023</li>
</ul>
<p>This page gives an overview and documents the different configurations for all major Kubernetes distributions.</p>
<p>For the overall Dynatrace support lifecycle for Kubernetes and Red Hat OpenShift, including the currently supported versions, see <a href="/docs/ingest-from/technology-support/support-model-and-issues" title="How Dynatrace supports Kubernetes and Red Hat OpenShift versions and known issues">Dynatrace support lifecycle for Kubernetes and Red Hat OpenShift full stack Monitoring</a>.</p>
<h2 id="aws-elastic-kubernetes-service-eks">AWS Elastic Kubernetes Service (EKS)<a class="headerlink" href="#aws-elastic-kubernetes-service-eks" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required for EKS.</p>
<p>Dynatrace supports a variety of different flavors of AWS EKS. For EKS on EC2 or bare metal, you can install Dynatrace in <a href="#installation-k8s">any available deployment option</a> without any additional configuration changes. For EKS on Fargate, you can <a href="/docs/ingest-from/amazon-web-services/integrate-into-aws/aws-fargate" title="Install OneAgent on AWS Fargate.">install Dynatrace for App Observability</a>.</p>
<h3 id="aws-bottlerocket-os">AWS Bottlerocket OS<a class="headerlink" href="#aws-bottlerocket-os" title="Permanent link">&para;</a></h3>
<p>applicationMonitoring</p>
<p>Additional configuration is required for AWS Bottlerocket OS on EKS nodes.
You can deploy Dynatrace for Application Observability and configure Platform Observability via ActiveGate (Kubernetes API Monitoring). Platform Observability via Dynatrace OneAgent is not supported. Starting with Dynatrace Operator version 0.12.0 and before Dynatrace Operator version 1.7.0, the CSI driver is supported and needs to be configured in <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/advanced-security-configurations/injection-readonly-volume" title="Configure read-only CSI volumes for OneAgent injection to enhance data security.">read-only mode for Bottlerocket OS</a>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>kind: DynaKube
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a>metadata:
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a>
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a>
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>name: dynakube
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a>
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a>namespace: dynatrace
<a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a>
<a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a>
<a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a>
<a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a>annotations:
<a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a>
<a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a>
<a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a>
<a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a>feature.dynatrace.com/automatic-kubernetes-api-monitoring: &quot;true&quot;
<a id="__codelineno-61-26" name="__codelineno-61-26" href="#__codelineno-61-26"></a>
<a id="__codelineno-61-27" name="__codelineno-61-27" href="#__codelineno-61-27"></a>
<a id="__codelineno-61-28" name="__codelineno-61-28" href="#__codelineno-61-28"></a>
<a id="__codelineno-61-29" name="__codelineno-61-29" href="#__codelineno-61-29"></a>feature.dynatrace.com/injection-readonly-volume: &quot;true&quot;
<a id="__codelineno-61-30" name="__codelineno-61-30" href="#__codelineno-61-30"></a>
<a id="__codelineno-61-31" name="__codelineno-61-31" href="#__codelineno-61-31"></a>
<a id="__codelineno-61-32" name="__codelineno-61-32" href="#__codelineno-61-32"></a>
<a id="__codelineno-61-33" name="__codelineno-61-33" href="#__codelineno-61-33"></a>spec:
<a id="__codelineno-61-34" name="__codelineno-61-34" href="#__codelineno-61-34"></a>
<a id="__codelineno-61-35" name="__codelineno-61-35" href="#__codelineno-61-35"></a>
<a id="__codelineno-61-36" name="__codelineno-61-36" href="#__codelineno-61-36"></a>
<a id="__codelineno-61-37" name="__codelineno-61-37" href="#__codelineno-61-37"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-61-38" name="__codelineno-61-38" href="#__codelineno-61-38"></a>
<a id="__codelineno-61-39" name="__codelineno-61-39" href="#__codelineno-61-39"></a>
<a id="__codelineno-61-40" name="__codelineno-61-40" href="#__codelineno-61-40"></a>
<a id="__codelineno-61-41" name="__codelineno-61-41" href="#__codelineno-61-41"></a>oneAgent:
<a id="__codelineno-61-42" name="__codelineno-61-42" href="#__codelineno-61-42"></a>
<a id="__codelineno-61-43" name="__codelineno-61-43" href="#__codelineno-61-43"></a>
<a id="__codelineno-61-44" name="__codelineno-61-44" href="#__codelineno-61-44"></a>
<a id="__codelineno-61-45" name="__codelineno-61-45" href="#__codelineno-61-45"></a>applicationMonitoring: {}
<a id="__codelineno-61-46" name="__codelineno-61-46" href="#__codelineno-61-46"></a>
<a id="__codelineno-61-47" name="__codelineno-61-47" href="#__codelineno-61-47"></a>
<a id="__codelineno-61-48" name="__codelineno-61-48" href="#__codelineno-61-48"></a>
<a id="__codelineno-61-49" name="__codelineno-61-49" href="#__codelineno-61-49"></a>activeGate:
<a id="__codelineno-61-50" name="__codelineno-61-50" href="#__codelineno-61-50"></a>
<a id="__codelineno-61-51" name="__codelineno-61-51" href="#__codelineno-61-51"></a>
<a id="__codelineno-61-52" name="__codelineno-61-52" href="#__codelineno-61-52"></a>
<a id="__codelineno-61-53" name="__codelineno-61-53" href="#__codelineno-61-53"></a>capabilities:
<a id="__codelineno-61-54" name="__codelineno-61-54" href="#__codelineno-61-54"></a>
<a id="__codelineno-61-55" name="__codelineno-61-55" href="#__codelineno-61-55"></a>
<a id="__codelineno-61-56" name="__codelineno-61-56" href="#__codelineno-61-56"></a>
<a id="__codelineno-61-57" name="__codelineno-61-57" href="#__codelineno-61-57"></a>- routing
<a id="__codelineno-61-58" name="__codelineno-61-58" href="#__codelineno-61-58"></a>
<a id="__codelineno-61-59" name="__codelineno-61-59" href="#__codelineno-61-59"></a>
<a id="__codelineno-61-60" name="__codelineno-61-60" href="#__codelineno-61-60"></a>
<a id="__codelineno-61-61" name="__codelineno-61-61" href="#__codelineno-61-61"></a>- kubernetes-monitoring
<a id="__codelineno-61-62" name="__codelineno-61-62" href="#__codelineno-61-62"></a>
<a id="__codelineno-61-63" name="__codelineno-61-63" href="#__codelineno-61-63"></a>
<a id="__codelineno-61-64" name="__codelineno-61-64" href="#__codelineno-61-64"></a>
<a id="__codelineno-61-65" name="__codelineno-61-65" href="#__codelineno-61-65"></a>- dynatrace-api
<a id="__codelineno-61-66" name="__codelineno-61-66" href="#__codelineno-61-66"></a>
<a id="__codelineno-61-67" name="__codelineno-61-67" href="#__codelineno-61-67"></a>
<a id="__codelineno-61-68" name="__codelineno-61-68" href="#__codelineno-61-68"></a>
<a id="__codelineno-61-69" name="__codelineno-61-69" href="#__codelineno-61-69"></a>...
</code></pre></div>
<h2 id="azure-kubernetes-service-aks">Azure Kubernetes Service (AKS)<a class="headerlink" href="#azure-kubernetes-service-aks" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required for AKS.</p>
<h2 id="google-kubernetes-engine-gke">Google Kubernetes Engine (GKE)<a class="headerlink" href="#google-kubernetes-engine-gke" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required for GKE.</p>
<h3 id="gke-standard-anthos">GKE Standard &amp; Anthos<a class="headerlink" href="#gke-standard-anthos" title="Permanent link">&para;</a></h3>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>If you deploy Dynatrace in <code>classicFullStack</code> or <code>hostMonitoring</code> without Dynatrace Operator CSI driver, additional configuration is required. Enable volume storage for the OneAgent by setting the <code>ONEAGENT_ENABLE_VOLUME_STORAGE</code> environment variable:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>kind: DynaKube
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a>
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a>
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a>metadata:
<a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a>
<a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a>
<a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a>
<a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a>name: dynakube
<a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a>
<a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a>
<a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a>
<a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a>namespace: dynatrace
<a id="__codelineno-62-18" name="__codelineno-62-18" href="#__codelineno-62-18"></a>
<a id="__codelineno-62-19" name="__codelineno-62-19" href="#__codelineno-62-19"></a>
<a id="__codelineno-62-20" name="__codelineno-62-20" href="#__codelineno-62-20"></a>
<a id="__codelineno-62-21" name="__codelineno-62-21" href="#__codelineno-62-21"></a>spec:
<a id="__codelineno-62-22" name="__codelineno-62-22" href="#__codelineno-62-22"></a>
<a id="__codelineno-62-23" name="__codelineno-62-23" href="#__codelineno-62-23"></a>
<a id="__codelineno-62-24" name="__codelineno-62-24" href="#__codelineno-62-24"></a>
<a id="__codelineno-62-25" name="__codelineno-62-25" href="#__codelineno-62-25"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-62-26" name="__codelineno-62-26" href="#__codelineno-62-26"></a>
<a id="__codelineno-62-27" name="__codelineno-62-27" href="#__codelineno-62-27"></a>
<a id="__codelineno-62-28" name="__codelineno-62-28" href="#__codelineno-62-28"></a>
<a id="__codelineno-62-29" name="__codelineno-62-29" href="#__codelineno-62-29"></a>oneAgent:
<a id="__codelineno-62-30" name="__codelineno-62-30" href="#__codelineno-62-30"></a>
<a id="__codelineno-62-31" name="__codelineno-62-31" href="#__codelineno-62-31"></a>
<a id="__codelineno-62-32" name="__codelineno-62-32" href="#__codelineno-62-32"></a>
<a id="__codelineno-62-33" name="__codelineno-62-33" href="#__codelineno-62-33"></a>classicFullStack:
<a id="__codelineno-62-34" name="__codelineno-62-34" href="#__codelineno-62-34"></a>
<a id="__codelineno-62-35" name="__codelineno-62-35" href="#__codelineno-62-35"></a>
<a id="__codelineno-62-36" name="__codelineno-62-36" href="#__codelineno-62-36"></a>
<a id="__codelineno-62-37" name="__codelineno-62-37" href="#__codelineno-62-37"></a>env:
<a id="__codelineno-62-38" name="__codelineno-62-38" href="#__codelineno-62-38"></a>
<a id="__codelineno-62-39" name="__codelineno-62-39" href="#__codelineno-62-39"></a>
<a id="__codelineno-62-40" name="__codelineno-62-40" href="#__codelineno-62-40"></a>
<a id="__codelineno-62-41" name="__codelineno-62-41" href="#__codelineno-62-41"></a>- name: ONEAGENT_ENABLE_VOLUME_STORAGE
<a id="__codelineno-62-42" name="__codelineno-62-42" href="#__codelineno-62-42"></a>
<a id="__codelineno-62-43" name="__codelineno-62-43" href="#__codelineno-62-43"></a>
<a id="__codelineno-62-44" name="__codelineno-62-44" href="#__codelineno-62-44"></a>
<a id="__codelineno-62-45" name="__codelineno-62-45" href="#__codelineno-62-45"></a>value: &quot;true&quot;
<a id="__codelineno-62-46" name="__codelineno-62-46" href="#__codelineno-62-46"></a>
<a id="__codelineno-62-47" name="__codelineno-62-47" href="#__codelineno-62-47"></a>
<a id="__codelineno-62-48" name="__codelineno-62-48" href="#__codelineno-62-48"></a>
<a id="__codelineno-62-49" name="__codelineno-62-49" href="#__codelineno-62-49"></a>...
</code></pre></div>
<h3 id="gke-autopilot">GKE Autopilot<a class="headerlink" href="#gke-autopilot" title="Permanent link">&para;</a></h3>
<p>applicationMonitoring</p>
<p>For GKE Autopilot, you can <a href="/docs/ingest-from/setup-on-k8s/deployment/application-observability" title="Deploy Dynatrace Operator in application monitoring mode to Kubernetes">install Dynatrace for App Observability</a>. Dynatrace Operator CSI driver is supported for all GKE Autopilot clusters running Kubernetes version 1.26+. Additionally, only images from the following repositories are supported and must be set during installation:</p>
<ul>
<li><code>gcr.io/dynatrace-marketplace-prod/dynatrace-operator</code></li>
<li><code>docker.io/dynatrace/dynatrace-operator</code></li>
<li><code>public.ecr.aws/dynatrace/dynatrace-operator</code></li>
</ul>
<p>Standalone LogMonitoring on GKE Autopilot is fully supported since Dynatrace Operator version 1.4.2.</p>
<h4 id="allowlisting-dynatrace-workloads">Allowlisting Dynatrace workloads<a class="headerlink" href="#allowlisting-dynatrace-workloads" title="Permanent link">&para;</a></h4>
<p>CSI driver Standalone LogMonitoring</p>
<p>Starting with GKE Autopilot version 1.32.1-gke.1376000 a <code>WorkloadAllowlist</code> explicitly permits security exceptions (for example, allowing the Dynatrace Operator CSI driver to run privileged workloads).
Dynatrace is working with Google to roll out these <code>WorkloadAllowlists</code> in a timely manner for each release.</p>
<p>Further details on the process can be found on the official <a href="https://cloud.google.com/kubernetes-engine/docs/resources/autopilot-partners">Google Cloud docs√Ø¬ª¬ø</a>.</p>
<p>Deploying and managing the AllowlistSynchronizer will be automated in Dynatrace Operator version 1.5.0+. For versions 1.4.1 - 1.4.X you will have to apply such manifest yourself.</p>
<h5 id="allowlistsynchronizer-for-version-142">AllowlistSynchronizer for version 1.4.2:<a class="headerlink" href="#allowlistsynchronizer-for-version-142" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>apiVersion: auto.gke.io/v1
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>kind: AllowlistSynchronizer
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a>
<a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a>metadata:
<a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a>
<a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a>
<a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a>
<a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a>name: allowlist-synchronizer-dynatrace
<a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a>
<a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a>
<a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a>
<a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a>spec:
<a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a>
<a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a>
<a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a>
<a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a>allowlistPaths:
<a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a>
<a id="__codelineno-63-23" name="__codelineno-63-23" href="#__codelineno-63-23"></a>
<a id="__codelineno-63-24" name="__codelineno-63-24" href="#__codelineno-63-24"></a>
<a id="__codelineno-63-25" name="__codelineno-63-25" href="#__codelineno-63-25"></a>- Dynatrace/csidriver/1.4.2/*
<a id="__codelineno-63-26" name="__codelineno-63-26" href="#__codelineno-63-26"></a>
<a id="__codelineno-63-27" name="__codelineno-63-27" href="#__codelineno-63-27"></a>
<a id="__codelineno-63-28" name="__codelineno-63-28" href="#__codelineno-63-28"></a>
<a id="__codelineno-63-29" name="__codelineno-63-29" href="#__codelineno-63-29"></a>- Dynatrace/logmonitoring/1.4.2/*
</code></pre></div>
<p>Apply the <code>AllowlistSynchronizer</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>kubectl apply -f allowlist-synchronizer-dynatrace.yaml
</code></pre></div>
<p>v1.3.2 and earlier versions</p>
<p>CSI driver</p>
<p>Depending on the deployment option, the image can be set in different ways.</p>
<h4 id="helm_1">Helm<a class="headerlink" href="#helm_1" title="Permanent link">&para;</a></h4>
<p>Set the <code>image</code> value in your helm <code>values.yaml</code> to one of the supported repositories during installation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>--set image=gcr.io/dynatrace-marketplace-prod/dynatrace-operator:v1.3.2
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>--set image=docker.io/dynatrace/dynatrace-operator:v1.3.2
</code></pre></div>
<h4 id="manifests">Manifests<a class="headerlink" href="#manifests" title="Permanent link">&para;</a></h4>
<ol>
<li>Instead of applying the manifest, the manifests (<code>kubernetes-csi.yaml</code>) have to be downloaded from the <a href="https://github.com/Dynatrace/dynatrace-operator/releases">release page√Ø¬ª¬ø</a>.</li>
<li>Replace the value <code>public.ecr.aws/dynatrace/dynatrace-operator</code> in the image fields with <code>docker.io/dynatrace/dynatrace-operator</code>.</li>
<li>Apply the changed manifest. Use the appropriate one depending on if you want to use the CSI driver or not.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>kubectl apply -f kubernetes-csi.yaml
</code></pre></div>
<h2 id="red-hat-openshift">Red Hat OpenShift<a class="headerlink" href="#red-hat-openshift" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>Classic full-stack is supported only on Kubernetes nodes that use Red Hat Enterprise Linux (RHEL) as their operating system.</p>
<p>For OpenShift, you need to <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/security-configurations/openshift-configuration" title="Configure Dynatrace Operator in OpenShift environments.">configure Security Context Constraints (SCC)</a> for all deployments using the Dynatrace Operator CSI driver (<code>cloudNativeFullStack</code>, <code>applicationMonitoring</code>/<code>hostMonitoring</code> with CSI). In addition, starting with Openshift 4.13, you need to <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/security-configurations/openshift-configuration" title="Configure Dynatrace Operator in OpenShift environments.">configure the CSI Inline Ephemeral Volume Admissing plugin</a>.</p>
<p>For managed OpenShift implementations such as AWS ROSA and Azure Red Hat OpenShift (ARO), Dynatrace supports the same features as dedicated OpenShift.</p>
<p>For OpenShift Dedicated, you need the <a href="https://dt-url.net/a2038v8">cluster-admin role√Ø¬ª¬ø</a>.</p>
<h2 id="rancher-kubernetes-engine-1-rke1">Rancher Kubernetes Engine 1 (RKE1)<a class="headerlink" href="#rancher-kubernetes-engine-1-rke1" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required for RKE1.</p>
<h2 id="rancher-kubernetes-engine-2-rke2">Rancher Kubernetes Engine 2 (RKE2)<a class="headerlink" href="#rancher-kubernetes-engine-2-rke2" title="Permanent link">&para;</a></h2>
<p>applicationMonitoring</p>
<p>No specific configuration is required for RKE2 when <code>applicationMonitoring</code> mode is used. Due to SELinux policies on Red Hat Enterprise Linux derivatives, <code>hostMonitoring</code>, <code>cloudNativeFullStack</code> and <code>classicFullStack</code> modes are not supported.</p>
<h2 id="vmware-tanzu-kubernetes-grid-integrated-edition-tkgi">VMware Tanzu Kubernetes Grid Integrated Edition (TKGI)<a class="headerlink" href="#vmware-tanzu-kubernetes-grid-integrated-edition-tkgi" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>For TKGI, additional environment configurations are required for all deployment modes except <code>applicationMonitoring</code> without Dynatrace Operator CSI driver.</p>
<h3 id="cloudnativefullstack-applicationmonitoring-with-csi-driver-and-hostmonitoring"><code>cloudNativeFullStack</code>, <code>applicationMonitoring</code> (with CSI driver), and <code>hostMonitoring</code><a class="headerlink" href="#cloudnativefullstack-applicationmonitoring-with-csi-driver-and-hostmonitoring" title="Permanent link">&para;</a></h3>
<p>In the <code>values.yaml</code>, additional configuration is required for these modes to configure the CSI driver:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>csidriver:
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a>enabled: true
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a>kubeletPath: &quot;/var/vcap/data/kubelet&quot;
</code></pre></div>
<h3 id="classicfullstack"><code>classicFullStack</code><a class="headerlink" href="#classicfullstack" title="Permanent link">&para;</a></h3>
<p>Requires images from the Dynatrace built-in registry and not from the public registry. Use the following configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>oneAgent:
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a>classicFullStack:
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>
<a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a>
<a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a>env:
<a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a>
<a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a>
<a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>
<a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a>- name: ONEAGENT_ENABLE_VOLUME_STORAGE
<a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a>
<a id="__codelineno-69-15" name="__codelineno-69-15" href="#__codelineno-69-15"></a>
<a id="__codelineno-69-16" name="__codelineno-69-16" href="#__codelineno-69-16"></a>
<a id="__codelineno-69-17" name="__codelineno-69-17" href="#__codelineno-69-17"></a>value: &quot;true&quot;
<a id="__codelineno-69-18" name="__codelineno-69-18" href="#__codelineno-69-18"></a>
<a id="__codelineno-69-19" name="__codelineno-69-19" href="#__codelineno-69-19"></a>
<a id="__codelineno-69-20" name="__codelineno-69-20" href="#__codelineno-69-20"></a>
<a id="__codelineno-69-21" name="__codelineno-69-21" href="#__codelineno-69-21"></a>- name: ONEAGENT_CONTAINER_STORAGE_PATH
<a id="__codelineno-69-22" name="__codelineno-69-22" href="#__codelineno-69-22"></a>
<a id="__codelineno-69-23" name="__codelineno-69-23" href="#__codelineno-69-23"></a>
<a id="__codelineno-69-24" name="__codelineno-69-24" href="#__codelineno-69-24"></a>
<a id="__codelineno-69-25" name="__codelineno-69-25" href="#__codelineno-69-25"></a>value: /var/vcap/store
</code></pre></div>
<h2 id="ibm-kubernetes-service-iks">IBM Kubernetes Service (IKS)<a class="headerlink" href="#ibm-kubernetes-service-iks" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>For IKS, additional environment configurations are required for all deployment modes except <code>applicationMonitoring</code> without the CSI driver.</p>
<h3 id="cloudnativefullstack-applicationmonitoring-with-csi-driver-and-hostmonitoring_1"><code>cloudNativeFullStack</code>, <code>applicationMonitoring</code> (with CSI driver), and <code>hostMonitoring</code><a class="headerlink" href="#cloudnativefullstack-applicationmonitoring-with-csi-driver-and-hostmonitoring_1" title="Permanent link">&para;</a></h3>
<p>Additional configuration is required for these modes to configure the CSI driver:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>csidriver:
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a>enabled: true
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a>
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>
<a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a>kubeletPath: &quot;/var/data/kubelet&quot;
</code></pre></div>
<h3 id="classicfullstack_1"><code>classicFullStack</code><a class="headerlink" href="#classicfullstack_1" title="Permanent link">&para;</a></h3>
<p>Requires images from the Dynatrace built-in registry and not from the public registry. Use the following configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>oneAgent:
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>classicFullStack:
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>
<a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>
<a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a>env:
<a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a>
<a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a>
<a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a>
<a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a>- name: ONEAGENT_ENABLE_VOLUME_STORAGE
<a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a>
<a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a>
<a id="__codelineno-71-16" name="__codelineno-71-16" href="#__codelineno-71-16"></a>
<a id="__codelineno-71-17" name="__codelineno-71-17" href="#__codelineno-71-17"></a>value: &quot;true&quot;
<a id="__codelineno-71-18" name="__codelineno-71-18" href="#__codelineno-71-18"></a>
<a id="__codelineno-71-19" name="__codelineno-71-19" href="#__codelineno-71-19"></a>
<a id="__codelineno-71-20" name="__codelineno-71-20" href="#__codelineno-71-20"></a>
<a id="__codelineno-71-21" name="__codelineno-71-21" href="#__codelineno-71-21"></a>- name: ONEAGENT_CONTAINER_STORAGE_PATH
<a id="__codelineno-71-22" name="__codelineno-71-22" href="#__codelineno-71-22"></a>
<a id="__codelineno-71-23" name="__codelineno-71-23" href="#__codelineno-71-23"></a>
<a id="__codelineno-71-24" name="__codelineno-71-24" href="#__codelineno-71-24"></a>
<a id="__codelineno-71-25" name="__codelineno-71-25" href="#__codelineno-71-25"></a>value: /opt
</code></pre></div>
<h2 id="suse-container-as-a-service-caas">SUSE Container as a Service (CaaS)<a class="headerlink" href="#suse-container-as-a-service-caas" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>If you deploy Dynatrace in <code>classicFullStack</code> or <code>hostMonitoring</code> without the CSI driver, be sure to configure volume storage for OneAgent:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a>kind: DynaKube
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a>
<a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a>metadata:
<a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a>
<a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a>
<a id="__codelineno-72-12" name="__codelineno-72-12" href="#__codelineno-72-12"></a>
<a id="__codelineno-72-13" name="__codelineno-72-13" href="#__codelineno-72-13"></a>name: dynakube
<a id="__codelineno-72-14" name="__codelineno-72-14" href="#__codelineno-72-14"></a>
<a id="__codelineno-72-15" name="__codelineno-72-15" href="#__codelineno-72-15"></a>
<a id="__codelineno-72-16" name="__codelineno-72-16" href="#__codelineno-72-16"></a>
<a id="__codelineno-72-17" name="__codelineno-72-17" href="#__codelineno-72-17"></a>namespace: dynatrace
<a id="__codelineno-72-18" name="__codelineno-72-18" href="#__codelineno-72-18"></a>
<a id="__codelineno-72-19" name="__codelineno-72-19" href="#__codelineno-72-19"></a>
<a id="__codelineno-72-20" name="__codelineno-72-20" href="#__codelineno-72-20"></a>
<a id="__codelineno-72-21" name="__codelineno-72-21" href="#__codelineno-72-21"></a>spec:
<a id="__codelineno-72-22" name="__codelineno-72-22" href="#__codelineno-72-22"></a>
<a id="__codelineno-72-23" name="__codelineno-72-23" href="#__codelineno-72-23"></a>
<a id="__codelineno-72-24" name="__codelineno-72-24" href="#__codelineno-72-24"></a>
<a id="__codelineno-72-25" name="__codelineno-72-25" href="#__codelineno-72-25"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-72-26" name="__codelineno-72-26" href="#__codelineno-72-26"></a>
<a id="__codelineno-72-27" name="__codelineno-72-27" href="#__codelineno-72-27"></a>
<a id="__codelineno-72-28" name="__codelineno-72-28" href="#__codelineno-72-28"></a>
<a id="__codelineno-72-29" name="__codelineno-72-29" href="#__codelineno-72-29"></a>oneAgent:
<a id="__codelineno-72-30" name="__codelineno-72-30" href="#__codelineno-72-30"></a>
<a id="__codelineno-72-31" name="__codelineno-72-31" href="#__codelineno-72-31"></a>
<a id="__codelineno-72-32" name="__codelineno-72-32" href="#__codelineno-72-32"></a>
<a id="__codelineno-72-33" name="__codelineno-72-33" href="#__codelineno-72-33"></a>classicFullStack: # change to `hostMonitoring` if needed
<a id="__codelineno-72-34" name="__codelineno-72-34" href="#__codelineno-72-34"></a>
<a id="__codelineno-72-35" name="__codelineno-72-35" href="#__codelineno-72-35"></a>
<a id="__codelineno-72-36" name="__codelineno-72-36" href="#__codelineno-72-36"></a>
<a id="__codelineno-72-37" name="__codelineno-72-37" href="#__codelineno-72-37"></a>env:
<a id="__codelineno-72-38" name="__codelineno-72-38" href="#__codelineno-72-38"></a>
<a id="__codelineno-72-39" name="__codelineno-72-39" href="#__codelineno-72-39"></a>
<a id="__codelineno-72-40" name="__codelineno-72-40" href="#__codelineno-72-40"></a>
<a id="__codelineno-72-41" name="__codelineno-72-41" href="#__codelineno-72-41"></a>- name: ONEAGENT_ENABLE_VOLUME_STORAGE
<a id="__codelineno-72-42" name="__codelineno-72-42" href="#__codelineno-72-42"></a>
<a id="__codelineno-72-43" name="__codelineno-72-43" href="#__codelineno-72-43"></a>
<a id="__codelineno-72-44" name="__codelineno-72-44" href="#__codelineno-72-44"></a>
<a id="__codelineno-72-45" name="__codelineno-72-45" href="#__codelineno-72-45"></a>value: &quot;true&quot;
</code></pre></div>
<h2 id="nutanix-kubernetes-platform-nkp-former-d2iq-konvoy">Nutanix Kubernetes Platform (NKP, former D2iQ Konvoy)<a class="headerlink" href="#nutanix-kubernetes-platform-nkp-former-d2iq-konvoy" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required.</p>
<h2 id="oracle-kubernetes-engine-oke">Oracle Kubernetes Engine (OKE)<a class="headerlink" href="#oracle-kubernetes-engine-oke" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required.</p>
<h2 id="mirantis-kubernetes-engine">Mirantis Kubernetes Engine<a class="headerlink" href="#mirantis-kubernetes-engine" title="Permanent link">&para;</a></h2>
<p>cloudNativeFullStack classicFullStack applicationMonitoring hostMonitoring</p>
<p>No specific configuration is required.</p>
<hr />
<h2 id="source-deploymentmd">Source: deployment.md<a class="headerlink" href="#source-deploymentmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Deployment
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/deployment
scraped: 2026-02-17T04:48:48.729998</p>
<hr />
<h1 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h1>
<h1 id="deployment_1">Deployment<a class="headerlink" href="#deployment_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>6-min read</li>
<li>Updated on Jan 28, 2026</li>
</ul>
<p>Dynatrace provides a flexible approach to Kubernetes observability where you can pick and choose the level of observability you need for your Kubernetes clusters. This page gives an overview and guided path on the recommended options to cover your Kubernetes observability needs.
All deployment options on this page leverage <a href="https://github.com/Dynatrace/dynatrace-operator">Dynatrace Operator√Ø¬ª¬ø</a>. For dedicated documentation and options for the major Kubernetes distributions, see <a href="/docs/ingest-from/setup-on-k8s/deployment/supported-technologies" title="Overview of different configurations for all major Kubernetes distributions.">Distributions</a>.</p>
<h2 id="observability-options">Observability options<a class="headerlink" href="#observability-options" title="Permanent link">&para;</a></h2>
<p><strong>Observability value</strong></p>
<p><strong>Kubernetes platform monitoring</strong></p>
<p><strong>Kubernetes platform monitoring</strong><br />
+ <strong>Application observability</strong></p>
<p><strong>Kubernetes platform monitoring</strong><br />
+ <strong>Full-Stack observability</strong></p>
<p>Kubernetes platform</p>
<p><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases" title="Real-world scenarios and best practices for leveraging the new Dynatrace Kubernetes experience.">Kubernetes resources and topology</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/infrastructure-observability/kubernetes-app/use-cases" title="Real-world scenarios and best practices for leveraging the new Dynatrace Kubernetes experience.">Kubernetes metrics (CPU, memory, network, PVCs), events, and alerts</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Applications</p>
<p><a href="/docs/observe/application-observability/distributed-tracing/distributed-tracing-app" title="Discover the functionalities of the new Distributed Tracing app.">Automatic distributed tracing across containers</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/application-observability/services/services-app" title="Maintain centralized control over service health, performance, and resources with the Services app.">Code-level and service insights</a> in application containers</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/application-observability/profiling-and-optimization" title="Learn how to use Dynatrace diagnostic tools for crash analysis, memory dump analysis, and more.">Profiling and thread analysis</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/application-observability/live-debugger" title="Get familiar with the Live Debugger capabilities in Dynatrace.">Live debugging for cloud-native applications</a></p>
<p>opt-in</p>
<p>opt-in</p>
<p>Infrastructure</p>
<p><a href="/docs/observe/infrastructure-observability/infrastructure-and-operations" title="Monitor hosts, VMs, processes, and networks to detect issues and improve infrastructure performance.">Host and process level details</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/infrastructure-observability/infrastructure-and-operations" title="Monitor hosts, VMs, processes, and networks to detect issues and improve infrastructure performance.">Host network analysis and topology</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><a href="/docs/observe/infrastructure-observability/infrastructure-and-operations" title="Monitor hosts, VMs, processes, and networks to detect issues and improve infrastructure performance.">Disk analysis and alerting</a></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Data in context</p>
<p><a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation" title="Automate and optimize your system's metadata management">Data enrichment</a> for <a href="/docs/license/cost-allocation" title="Learn how to allocate costs to cost centers and products.">cost allocation</a> and access control</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>License</p>
<p><a href="/docs/license" title="About Dynatrace Platform Subscription (DPS), the licensing model for all Dynatrace capabilities.">DPS pricing/packaging</a></p>
<p>by <a href="/docs/license/capabilities/container-monitoring/kubernetes-platform-monitoring" title="Learn how your consumption of the Dynatrace Kubernetes Platform Monitoring DPS capability is billed and charged.">number of Pods</a></p>
<p>by <a href="/docs/license/capabilities/container-monitoring/kubernetes-platform-monitoring" title="Learn how your consumption of the Dynatrace Kubernetes Platform Monitoring DPS capability is billed and charged.">number of Pods</a> and <a href="/docs/license/capabilities/app-infra-observability/full-stack-monitoring#gib-hour" title="Learn how your consumption of the Dynatrace Full-Stack Monitoring DPS capability is billed and charged.">sum container memory</a></p>
<p>by <a href="/docs/license/capabilities/app-infra-observability/full-stack-monitoring#gib-hour" title="Learn how your consumption of the Dynatrace Full-Stack Monitoring DPS capability is billed and charged.">sum host memory</a></p>
<p>Additional opt-in values</p>
<p>Log analytics</p>
<p><a href="/docs/ingest-from/setup-on-k8s/deployment/k8s-log-monitoring" title="Manage your Kubernetes logs with Dynatrace.">Log collection, data filtering, masking, processing and analytics</a></p>
<p>opt-out<a href="#fn-1-1-def">1</a><br />
<a href="/docs/ingest-from/setup-on-k8s/quickstart" title="Deploy Dynatrace Operator on Kubernetes">per GiB ingested</a></p>
<p>opt-out<a href="#fn-1-1-def">1</a><br />
<a href="/docs/ingest-from/setup-on-k8s/quickstart" title="Deploy Dynatrace Operator on Kubernetes">per GiB ingested</a></p>
<p>opt-out<a href="#fn-1-1-def">1</a><br />
<a href="/docs/license/capabilities/log-analytics/dps-log-ingest" title="Learn how your consumption of the Log Management &amp; Analytics - Ingest &amp; Process DPS capability is billed and charged.">per GiB ingested</a></p>
<p>Digital experience</p>
<p><a href="/docs/observe/digital-experience" title="Optimize end-user experience with Digital Experience Monitoring to ensure application performance and availability across all channels.">Real user monitoring, synthetic checks and session replay</a></p>
<p>opt-in<br />
For details, see <a href="/docs/license/capabilities/digital-experience-monitoring" title="Learn how Dynatrace Digital Experience Monitoring (DEM) consumption is calculated using the Dynatrace Platform Subscription model.">DEM</a></p>
<p>opt-in<br />
For details, see <a href="/docs/license/capabilities/digital-experience-monitoring" title="Learn how Dynatrace Digital Experience Monitoring (DEM) consumption is calculated using the Dynatrace Platform Subscription model.">DEM</a></p>
<p>Application Security</p>
<p><a href="/docs/secure/application-security/vulnerability-analytics" title="Monitor, visualize, analyze, and remediate third-party and code-level vulnerabilities, track the remediation progress, and create monitoring rules.">Runtime Vulnerability Analytics</a> and <a href="/docs/secure/application-security/application-protection" title="Set up and configure Dynatrace Runtime Application Protection to monitor attacks and attack-generated code-level vulnerabilities.">Runtime Application Protection</a></p>
<p>opt-in<br />
<a href="/docs/license/capabilities/application-security" title="Learn how Dynatrace Application Security monitoring consumption is calculated using the Dynatrace Platform Subscription model.">by sum container memory</a></p>
<p>opt-in<br />
<a href="/docs/license/capabilities/application-security" title="Learn how Dynatrace Application Security monitoring consumption is calculated using the Dynatrace Platform Subscription model.">by sum host memory</a></p>
<p><a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management</a></p>
<p>opt-in<br />
<a href="/docs/license/capabilities/application-security" title="Learn how Dynatrace Application Security monitoring consumption is calculated using the Dynatrace Platform Subscription model.">by host-hour</a></p>
<p>opt-in<br />
<a href="/docs/license/capabilities/application-security" title="Learn how Dynatrace Application Security monitoring consumption is calculated using the Dynatrace Platform Subscription model.">by host-hour</a></p>
<p>opt-in<br />
<a href="/docs/license/capabilities/application-security" title="Learn how Dynatrace Application Security monitoring consumption is calculated using the Dynatrace Platform Subscription model.">by host-hour</a></p>
<p>1</p>
<p>For new users, the Dynatrace environment is preconfigured to ingest logs, and opting out is managed through <a href="/docs/analyze-explore-automate/logs/lma-log-ingestion/lma-log-ingestion-via-oa/lma-log-storage-configuration" title="Include and exclude specific log sources already known to OneAgent for storage and analysis.">log ingest rules</a>.</p>
<p>Rollout and permissions overview</p>
<p>This table gives an overview of all the used components and required permissions for your Kubernetes observability needs. Dynatrace Operator manages the lifecycle of all observability components needed for your Kubernetes observability needs.</p>
<p><strong>Components and permissions</strong></p>
<p><strong>Kubernetes platform monitoring</strong></p>
<p><strong>Kubernetes platform monitoring</strong><br />
+ <strong>Application observability</strong></p>
<p><strong>Kubernetes platform monitoring</strong><br />
+ <strong>Full-Stack observability</strong></p>
<p>Components</p>
<p>Dynatrace Operator for managing observability components and lifecycle</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Dynatrace Operator webhook for auto-injection and telemetry enrichment</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Dynatrace Operator CSI driver for resource-friendly management of components</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /> (opt-out)</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Observability components</p>
<p>ActiveGate</p>
<p>ActiveGate<br />
Dynatrace code modules<br />
Dynatrace Log module (opt-in)</p>
<p>ActiveGate<br />
Dynatrace code modules<br />
Dynatrace host module<br />
Dynatrace Log module</p>
<p>Dynatrace OpenTelemetry collector for extensions</p>
<p>opt-in</p>
<p>opt-in</p>
<p>opt-in</p>
<p>EdgeConnect for automations</p>
<p>opt-in</p>
<p>opt-in</p>
<p>opt-in</p>
<p>Permissions</p>
<p>Principle of least privilege</p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p><img alt="Applicable" src="https://dt-cdn.net/images/icon-green-check-700-c9ea81e533.svg" title="Applicable" /></p>
<p>Kubernetes permissions <a href="#fn-2-1-def">1</a></p>
<p>Kubernetes RBAC</p>
<p>Kubernetes RBAC<br />
Privileged workload (CSI driver, opt-out)</p>
<p>Kubernetes RBAC<br />
Privileged workload (CSI driver)<br />
OS-level permission (Dynatrace host module)</p>
<p>1</p>
<p>Please see <a href="/docs/ingest-from/setup-on-k8s/reference/security" title="This page provides an overview of the Dynatrace components, their default configurations, and the permissions they require">Dynatrace Operator security</a> for more detailed documentation.</p>
<p>[### Kubernetes platform monitoring</p>
<p>Understand and troubleshoot the health of your Kubernetes clusters.](/docs/ingest-from/setup-on-k8s/deployment/platform-observability "Deploy Dynatrace Operator for Kubernetes platform monitoring.")[### Kubernetes platform monitoring + Application observability</p>
<p>Ensure workload and microservice health and performance with automatic instrumentation.](/docs/ingest-from/setup-on-k8s/deployment/application-observability "Deploy Dynatrace Operator in application monitoring mode to Kubernetes")[### Kubernetes platform monitoring + Full-Stack observability</p>
<p>Ensure workload, microservice and infrastructure health and performance throughout your cluster.](/docs/ingest-from/setup-on-k8s/deployment/full-stack-observability "Deploy Dynatrace Operator in cloud-native full-stack mode to Kubernetes")</p>
<h2 id="leverage-the-dynatrace-platform-value">Leverage the Dynatrace platform value<a class="headerlink" href="#leverage-the-dynatrace-platform-value" title="Permanent link">&para;</a></h2>
<p>The Dynatrace platform offers a variety of apps, analytics and automation functionality to cover your use cases for unified observability and security. You can leverage these capabilities for all the Kubernetes observability data you collect with any of the above modes, such as the ability to:</p>
<ul>
<li>Explore Kubernetes health and signals in the <a href="/docs/observe/infrastructure-observability/kubernetes-app" title="Monitor and optimize Kubernetes with Dynatrace. Get real-time insights and health for clusters and workloads.">Kubernetes app</a></li>
<li>Visualize data with <a href="/docs/analyze-explore-automate/dashboards-and-notebooks/dashboards-new" title="Create interactive, customizable views to visualize, analyze, and share your observability data in real time.">Dashboards</a></li>
<li>Collaborate and conduct custom analysis with <a href="/docs/analyze-explore-automate/dashboards-and-notebooks/notebooks" title="Analyze, visualize, and share insights from your observability data√¢¬Ä¬îall in one collaborative, customizable workspace.">Notebooks</a></li>
<li>Automate with <a href="/docs/analyze-explore-automate/workflows" title="Automate IT processes with Dynatrace Workflows√¢¬Ä¬îreact to events, schedule tasks, and connect services.">Workflows</a></li>
<li>Boost productivity with <a href="/docs/dynatrace-intelligence" title="Get familiar with the capabilities of Dynatrace Intelligence.">Dynatrace Intelligence</a> and <a href="/docs/dynatrace-intelligence/copilot" title="Learn about Dynatrace Intelligence generative AI.">enerative AI</a></li>
<li>Forecast trends and prevent issues with <a href="/docs/dynatrace-intelligence/reference/ai-models/forecast-analysis" title="Learn how Dynatrace Intelligence predictive AI generates forecasts.">Dynatrace Intelligence predictive AI analysis</a></li>
<li>And much more√¢¬Ä¬¶</li>
</ul>
<h2 id="deployment-from-marketplaces">Deployment from Marketplaces<a class="headerlink" href="#deployment-from-marketplaces" title="Permanent link">&para;</a></h2>
<p>Dynatrace supports deploying Dynatrace Operator from within the following Marketplaces:</p>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/deployment/other/ocp-operator-hub" title="Deploy Dynatrace Operator on OpenShift via OperatorHub.">OpenShift OperatorHub</a></li>
<li><a href="https://aws.amazon.com/marketplace/pp/prodview-brb73nceicv7u">AWS Marketplace√Ø¬ª¬ø</a></li>
<li><a href="https://console.cloud.google.com/marketplace/product/dynatrace-marketplace-prod/dynatrace-operator">GKE Marketplace√Ø¬ª¬ø</a></li>
<li><a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/dynatrace.azure-dynatrace-operator?tab=Overview">Azure Marketplace√Ø¬ª¬ø</a></li>
</ul>
<h2 id="learn-more_1">Learn more<a class="headerlink" href="#learn-more_1" title="Permanent link">&para;</a></h2>
<p>[### How it works</p>
<p>Familiarize yourself with Dynatrace components that are deployed in your Kubernetes cluster.](/docs/ingest-from/setup-on-k8s/how-it-works "In-depth description on how the deployment on Kubernetes works.")[### Guides</p>
<p>Learn how you can configure Dynatrace Operator to support specific use cases.](/docs/ingest-from/setup-on-k8s/guides "Detailed description of installation and configuration options for specific use-cases")[### Reference</p>
<p>API reference and configuration options for all Dynatrace components within your Kubernetes cluster.](/docs/ingest-from/setup-on-k8s/reference "Contains a reference page with configuration options for each Dynatrace component")[### Dynatrace Operator release notes</p>
<p>See release notes for Dynatrace Operator.](/docs/whats-new/dynatrace-operator "Release notes for Dynatrace Operator")</p>
<hr />
<h2 id="source-otlp-auto-configmd">Source: otlp-auto-config.md<a class="headerlink" href="#source-otlp-auto-configmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Enable automatic OpenTelemetry OTLP exporter configuration
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/extend-observability-k8s/otlp-auto-config
scraped: 2026-02-16T09:36:36.008067</p>
<hr />
<h1 id="enable-automatic-opentelemetry-otlp-exporter-configuration">Enable automatic OpenTelemetry OTLP exporter configuration<a class="headerlink" href="#enable-automatic-opentelemetry-otlp-exporter-configuration" title="Permanent link">&para;</a></h1>
<h1 id="enable-automatic-opentelemetry-otlp-exporter-configuration_1">Enable automatic OpenTelemetry OTLP exporter configuration<a class="headerlink" href="#enable-automatic-opentelemetry-otlp-exporter-configuration_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Published Nov 24, 2025</li>
</ul>
<p>Dynatrace Operator version 1.8.0+</p>
<p>Dynatrace Operator can automatically configure the OpenTelemetry OTLP exporter for applications instrumented with an <a href="https://opentelemetry.io/docs/languages/">OpenTelemetry SDK√Ø¬ª¬ø</a>. This is done by injecting environment variables into your application pods at startup, allowing telemetry data to be sent directly to Dynatrace.</p>
<h2 id="enable-otlp-auto-configuration">Enable OTLP auto-configuration<a class="headerlink" href="#enable-otlp-auto-configuration" title="Permanent link">&para;</a></h2>
<h3 id="provide-a-data-ingest-token">Provide a data ingest token<a class="headerlink" href="#provide-a-data-ingest-token" title="Permanent link">&para;</a></h3>
<p>You need to provide a <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions#dataIngestToken" title="Configure tokens and permissions to monitor your Kubernetes cluster">data ingest token</a> to the Dynatrace Operator. This token is passed to your application as part of the OTLP exporter configuration.</p>
<h3 id="update-your-dynakube-resource">Update your DynaKube resource<a class="headerlink" href="#update-your-dynakube-resource" title="Permanent link">&para;</a></h3>
<p>Add the <code>otlpExporterConfiguration</code> section to your DynaKube custom resource. This enables auto-configuration for all signals (metrics, traces, logs):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>apiVersion: dynatrace.com/v1beta6
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>kind: DynaKube
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a>
<a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a>
<a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a>metadata:
<a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a>
<a id="__codelineno-73-11" name="__codelineno-73-11" href="#__codelineno-73-11"></a>
<a id="__codelineno-73-12" name="__codelineno-73-12" href="#__codelineno-73-12"></a>
<a id="__codelineno-73-13" name="__codelineno-73-13" href="#__codelineno-73-13"></a>name: dynakube
<a id="__codelineno-73-14" name="__codelineno-73-14" href="#__codelineno-73-14"></a>
<a id="__codelineno-73-15" name="__codelineno-73-15" href="#__codelineno-73-15"></a>
<a id="__codelineno-73-16" name="__codelineno-73-16" href="#__codelineno-73-16"></a>
<a id="__codelineno-73-17" name="__codelineno-73-17" href="#__codelineno-73-17"></a>namespace: dynatrace
<a id="__codelineno-73-18" name="__codelineno-73-18" href="#__codelineno-73-18"></a>
<a id="__codelineno-73-19" name="__codelineno-73-19" href="#__codelineno-73-19"></a>
<a id="__codelineno-73-20" name="__codelineno-73-20" href="#__codelineno-73-20"></a>
<a id="__codelineno-73-21" name="__codelineno-73-21" href="#__codelineno-73-21"></a>spec:
<a id="__codelineno-73-22" name="__codelineno-73-22" href="#__codelineno-73-22"></a>
<a id="__codelineno-73-23" name="__codelineno-73-23" href="#__codelineno-73-23"></a>
<a id="__codelineno-73-24" name="__codelineno-73-24" href="#__codelineno-73-24"></a>
<a id="__codelineno-73-25" name="__codelineno-73-25" href="#__codelineno-73-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-73-26" name="__codelineno-73-26" href="#__codelineno-73-26"></a>
<a id="__codelineno-73-27" name="__codelineno-73-27" href="#__codelineno-73-27"></a>
<a id="__codelineno-73-28" name="__codelineno-73-28" href="#__codelineno-73-28"></a>
<a id="__codelineno-73-29" name="__codelineno-73-29" href="#__codelineno-73-29"></a>otlpExporterConfiguration:
<a id="__codelineno-73-30" name="__codelineno-73-30" href="#__codelineno-73-30"></a>
<a id="__codelineno-73-31" name="__codelineno-73-31" href="#__codelineno-73-31"></a>
<a id="__codelineno-73-32" name="__codelineno-73-32" href="#__codelineno-73-32"></a>
<a id="__codelineno-73-33" name="__codelineno-73-33" href="#__codelineno-73-33"></a>signals:
<a id="__codelineno-73-34" name="__codelineno-73-34" href="#__codelineno-73-34"></a>
<a id="__codelineno-73-35" name="__codelineno-73-35" href="#__codelineno-73-35"></a>
<a id="__codelineno-73-36" name="__codelineno-73-36" href="#__codelineno-73-36"></a>
<a id="__codelineno-73-37" name="__codelineno-73-37" href="#__codelineno-73-37"></a>metrics: {}
<a id="__codelineno-73-38" name="__codelineno-73-38" href="#__codelineno-73-38"></a>
<a id="__codelineno-73-39" name="__codelineno-73-39" href="#__codelineno-73-39"></a>
<a id="__codelineno-73-40" name="__codelineno-73-40" href="#__codelineno-73-40"></a>
<a id="__codelineno-73-41" name="__codelineno-73-41" href="#__codelineno-73-41"></a>traces: {}
<a id="__codelineno-73-42" name="__codelineno-73-42" href="#__codelineno-73-42"></a>
<a id="__codelineno-73-43" name="__codelineno-73-43" href="#__codelineno-73-43"></a>
<a id="__codelineno-73-44" name="__codelineno-73-44" href="#__codelineno-73-44"></a>
<a id="__codelineno-73-45" name="__codelineno-73-45" href="#__codelineno-73-45"></a>logs: {}
</code></pre></div>
<p>You can enable injection for each signal type (metrics, traces, logs) separately.</p>
<p><strong>Note</strong>: By default, if any <code>OTEL_EXPORTER_OTLP_*</code> environment variable is already present in the container spec, Dynatrace Operator will skip the injection of endpoint configuration (aka. <code>OTEL_EXPORTER_OTLP_*</code>) √¢¬Ä¬îeven if the existing configuration doesn't overlap with what would be added automatically. To allow Dynatrace Operator to override the existing configuration, enable <a href="#override">override mode</a>. Resource attributes (<code>OTEL_RESOURCE_ATTRIBUTES</code>) are not affected by this logic and will still be set or extended.</p>
<h3 id="verify-the-auto-configuration">Verify the auto-configuration<a class="headerlink" href="#verify-the-auto-configuration" title="Permanent link">&para;</a></h3>
<p>If the OTLP auto-configuration has been injected successfully, your application pod receives the following annotation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>otlp-exporter-configuration.dynatrace.com/injected: &quot;true&quot;
</code></pre></div>
<p>If something goes wrong, the pod is annotated with a reason for the failure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>otlp-exporter-configuration.dynatrace.com/injected: &quot;false&quot;
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>otlp-exporter-configuration.dynatrace.com/reason: &lt;reason&gt;
</code></pre></div>
<h2 id="injected-otlp-configuration">Injected OTLP configuration<a class="headerlink" href="#injected-otlp-configuration" title="Permanent link">&para;</a></h2>
<h3 id="environment-variables">Environment variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<p>The following environment variables are injected into your application containers:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DT_API_TOKEN</code></td>
<td><code>dataIngestToken provided by user</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_TRACES_ENDPOINT</code></td>
<td><code>https://&lt;tenant-uid&gt;.live.dynatrace.com/api/v2/otlp/v1/traces</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL</code></td>
<td><code>http/protobuf</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_TRACES_HEADERS</code></td>
<td><code>authorization=Api-Token $(DT_API_TOKEN)</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_METRICS_ENDPOINT</code></td>
<td><code>https://&lt;tenant-uid&gt;.live.dynatrace.com/api/v2/otlp/v1/metrics</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_METRICS_PROTOCOL</code></td>
<td><code>http/protobuf</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_METRICS_HEADERS</code></td>
<td><code>authorization=Api-Token $(DT_API_TOKEN)</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE</code></td>
<td><code>delta</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_LOGS_ENDPOINT</code></td>
<td><code>https://&lt;tenant-uid&gt;.live.dynatrace.com/api/v2/otlp/v1/logs</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_LOGS_PROTOCOL</code></td>
<td><code>http/protobuf</code></td>
</tr>
<tr>
<td><code>OTEL_EXPORTER_OTLP_LOGS_HEADERS</code></td>
<td><code>authorization=Api-Token $(DT_API_TOKEN)</code></td>
</tr>
<tr>
<td><code>OTEL_RESOURCE_ATTRIBUTES</code></td>
<td><code>k8s.cluster.name=dynakube,k8s.container.name=app ...</code></td>
</tr>
</tbody>
</table>
<h3 id="resource-attributes">Resource attributes<a class="headerlink" href="#resource-attributes" title="Permanent link">&para;</a></h3>
<p>Dynatrace Operator adds resource attributes in <code>OTEL_RESOURCE_ATTRIBUTES</code> to enrich OpenTelemetry data providing topology and additional context on data points for a rich Dynatrace experience:</p>
<ul>
<li><code>k8s.cluster.name</code></li>
<li><code>k8s.container.name</code></li>
<li><code>k8s.workload.name</code></li>
<li><code>k8s.cluster.uid</code></li>
<li><code>k8s.pod.name</code></li>
<li><code>k8s.pod.uid</code></li>
<li><code>k8s.node.name</code></li>
<li><code>k8s.namespace.name</code></li>
<li><code>k8s.workload.kind</code></li>
<li><code>dt.kubernetes.cluster.id</code></li>
<li><code>dt.entity.kubernetes_cluster</code></li>
</ul>
<p>The values for those attributes are derived from the cluster and pod metadata. Additionally, the <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/k8s-metadata-telemetry-enrichment#enrichment-options" title="Guides for telemetry enrichment on Kubernetes">metadata enrichment rules</a> defined in your tenant are applied to further enhance the resource attributes. Furthermore, all metadata provided in the <code>metadata.dynatrace.com/&lt;key&gt;: &lt;value&gt;</code> annotations on the namespace or on the injected pod are added as resource attributes.</p>
<p>Any attributes you have already set in <code>OTEL_RESOURCE_ATTRIBUTES</code> are preserved, and the above attributes are appended.</p>
<p>Resource attributes are always injected when auto√¢¬Ä¬ëconfiguration is enabled, regardless of existing OTLP exporter settings or whether override mode is enabled.</p>
<h2 id="limitations_1">Limitations<a class="headerlink" href="#limitations_1" title="Permanent link">&para;</a></h2>
<h3 id="application-pods-using-envfrom">Application pods using <code>envFrom</code><a class="headerlink" href="#application-pods-using-envfrom" title="Permanent link">&para;</a></h3>
<p>When you populate your environment variables using <code>envFrom</code>, Dynatrace Operator is not able to discover environment variables that are already set. In this case, the injected Dynatrace OTLP exporter config takes precedence over values coming from <code>envFrom</code>, even without using the <a href="#override">override mode</a>.</p>
<h3 id="hardcoded-sdk-configuration">Hardcoded SDK configuration<a class="headerlink" href="#hardcoded-sdk-configuration" title="Permanent link">&para;</a></h3>
<ul>
<li>In OTel SDKs, programmatic configuration takes precedence over environment variables. Ensure the standard exporter environment variables are supported by your application.</li>
<li>Dynatrace always uses protocol <code>http/protobuf</code>. If your application is restricted to gRPC, the injected protocol variable will have no effect and communication will fail.</li>
</ul>
<h2 id="route-otlp-traffic-via-activegate">Route OTLP traffic via ActiveGate<a class="headerlink" href="#route-otlp-traffic-via-activegate" title="Permanent link">&para;</a></h2>
<p>If an in-cluster ActiveGate is deployed with the same DynaKube that is used for OTLP auto-configuration, the traffic is routed through this ActiveGate. Without the in-cluster ActiveGate the traffic is sent directly to your Dynatrace tenant.</p>
<h2 id="secrets-management">Secrets management<a class="headerlink" href="#secrets-management" title="Permanent link">&para;</a></h2>
<p>The following secrets are created in each injected namespace:</p>
<ul>
<li>
<p><code>dynatrace-otlp-exporter-certs</code> holds the certificates required for communication with the configured endpoint, which is one of the following:</p>
</li>
<li>
<p>The TLS certificate for the ActiveGate.</p>
</li>
<li>What is set in <code>.spec.trustedCAs</code>, if the tenant API is used as an endpoint.</li>
<li><code>dynatrace-otlp-exporter-config</code> holds a copy of the data ingest token.</li>
</ul>
<p>Secrets are updated automatically when the token or certificate changes, but only new pods will receive updated values. Restart your application pods subsequent to a change to avoid authentication or communication issues.</p>
<p><strong>Note</strong>: If secrets are not created quickly enough, or are temporarily unavailable for other reasons, OTLP exporter configuration injection <a href="#verify-config">will be skipped</a>.</p>
<h2 id="injection-control">Injection control<a class="headerlink" href="#injection-control" title="Permanent link">&para;</a></h2>
<h3 id="namespace-selector">Namespace selector<a class="headerlink" href="#namespace-selector" title="Permanent link">&para;</a></h3>
<p>To limit auto-configuration to specific namespaces, you can use a namespace selector:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>apiVersion: dynatrace.com/v1beta6
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>kind: DynaKube
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a>metadata:
<a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a>
<a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a>
<a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a>
<a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a>name: dynakube
<a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a>
<a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a>
<a id="__codelineno-76-16" name="__codelineno-76-16" href="#__codelineno-76-16"></a>
<a id="__codelineno-76-17" name="__codelineno-76-17" href="#__codelineno-76-17"></a>namespace: dynatrace
<a id="__codelineno-76-18" name="__codelineno-76-18" href="#__codelineno-76-18"></a>
<a id="__codelineno-76-19" name="__codelineno-76-19" href="#__codelineno-76-19"></a>
<a id="__codelineno-76-20" name="__codelineno-76-20" href="#__codelineno-76-20"></a>
<a id="__codelineno-76-21" name="__codelineno-76-21" href="#__codelineno-76-21"></a>spec:
<a id="__codelineno-76-22" name="__codelineno-76-22" href="#__codelineno-76-22"></a>
<a id="__codelineno-76-23" name="__codelineno-76-23" href="#__codelineno-76-23"></a>
<a id="__codelineno-76-24" name="__codelineno-76-24" href="#__codelineno-76-24"></a>
<a id="__codelineno-76-25" name="__codelineno-76-25" href="#__codelineno-76-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-76-26" name="__codelineno-76-26" href="#__codelineno-76-26"></a>
<a id="__codelineno-76-27" name="__codelineno-76-27" href="#__codelineno-76-27"></a>
<a id="__codelineno-76-28" name="__codelineno-76-28" href="#__codelineno-76-28"></a>
<a id="__codelineno-76-29" name="__codelineno-76-29" href="#__codelineno-76-29"></a>otlpExporterConfiguration:
<a id="__codelineno-76-30" name="__codelineno-76-30" href="#__codelineno-76-30"></a>
<a id="__codelineno-76-31" name="__codelineno-76-31" href="#__codelineno-76-31"></a>
<a id="__codelineno-76-32" name="__codelineno-76-32" href="#__codelineno-76-32"></a>
<a id="__codelineno-76-33" name="__codelineno-76-33" href="#__codelineno-76-33"></a>namespaceSelector:
<a id="__codelineno-76-34" name="__codelineno-76-34" href="#__codelineno-76-34"></a>
<a id="__codelineno-76-35" name="__codelineno-76-35" href="#__codelineno-76-35"></a>
<a id="__codelineno-76-36" name="__codelineno-76-36" href="#__codelineno-76-36"></a>
<a id="__codelineno-76-37" name="__codelineno-76-37" href="#__codelineno-76-37"></a>matchLabels:
<a id="__codelineno-76-38" name="__codelineno-76-38" href="#__codelineno-76-38"></a>
<a id="__codelineno-76-39" name="__codelineno-76-39" href="#__codelineno-76-39"></a>
<a id="__codelineno-76-40" name="__codelineno-76-40" href="#__codelineno-76-40"></a>
<a id="__codelineno-76-41" name="__codelineno-76-41" href="#__codelineno-76-41"></a>my.app.com/otel: &quot;true&quot;
<a id="__codelineno-76-42" name="__codelineno-76-42" href="#__codelineno-76-42"></a>
<a id="__codelineno-76-43" name="__codelineno-76-43" href="#__codelineno-76-43"></a>
<a id="__codelineno-76-44" name="__codelineno-76-44" href="#__codelineno-76-44"></a>
<a id="__codelineno-76-45" name="__codelineno-76-45" href="#__codelineno-76-45"></a>signals:
<a id="__codelineno-76-46" name="__codelineno-76-46" href="#__codelineno-76-46"></a>
<a id="__codelineno-76-47" name="__codelineno-76-47" href="#__codelineno-76-47"></a>
<a id="__codelineno-76-48" name="__codelineno-76-48" href="#__codelineno-76-48"></a>
<a id="__codelineno-76-49" name="__codelineno-76-49" href="#__codelineno-76-49"></a>metrics: {}
<a id="__codelineno-76-50" name="__codelineno-76-50" href="#__codelineno-76-50"></a>
<a id="__codelineno-76-51" name="__codelineno-76-51" href="#__codelineno-76-51"></a>
<a id="__codelineno-76-52" name="__codelineno-76-52" href="#__codelineno-76-52"></a>
<a id="__codelineno-76-53" name="__codelineno-76-53" href="#__codelineno-76-53"></a>traces: {}
<a id="__codelineno-76-54" name="__codelineno-76-54" href="#__codelineno-76-54"></a>
<a id="__codelineno-76-55" name="__codelineno-76-55" href="#__codelineno-76-55"></a>
<a id="__codelineno-76-56" name="__codelineno-76-56" href="#__codelineno-76-56"></a>
<a id="__codelineno-76-57" name="__codelineno-76-57" href="#__codelineno-76-57"></a>logs: {}
</code></pre></div>
<h3 id="pod-and-container-annotations">Pod and container annotations<a class="headerlink" href="#pod-and-container-annotations" title="Permanent link">&para;</a></h3>
<p>For fine-grained control, you can use annotations to control injection behaviour on the pods directly:</p>
<ul>
<li><code>feature.dynatrace.com/automatic-injection: false</code> (on DynaKube) disables automatic injection of code modules, metadata enrichment, and OTLP exporter auto-configuration by default.</li>
<li><code>dynatrace.com/inject: true/false</code> (on pod) enables/disables injection per pod.</li>
<li><code>otlp-exporter-configuration.dynatrace.com/inject: true/false</code> (on pod) enables/disables injection per pod.</li>
<li><code>container.inject.dynatrace.com/&lt;container-name&gt;: false</code> (on pod or DynaKube) disables injection for specific containers.</li>
</ul>
<table>
<thead>
<tr>
<th><code>feature.dynatrace.com/automatic-injection</code></th>
<th><code>dynatrace.com/inject</code></th>
<th><code>otlp-exporter-configuration.dynatrace.com/inject</code></th>
<th>Injected</th>
</tr>
</thead>
<tbody>
<tr>
<td>true default</td>
<td>true/not set</td>
<td>true</td>
<td>yes</td>
</tr>
<tr>
<td>true default</td>
<td>true/not set</td>
<td>false</td>
<td>yes</td>
</tr>
<tr>
<td>true default</td>
<td>false</td>
<td>true</td>
<td>yes</td>
</tr>
<tr>
<td>true default</td>
<td>false</td>
<td>false</td>
<td>no</td>
</tr>
<tr>
<td>false</td>
<td>true</td>
<td>true</td>
<td>yes</td>
</tr>
<tr>
<td>false</td>
<td>true</td>
<td>false</td>
<td>yes</td>
</tr>
<tr>
<td>false</td>
<td>false/not set</td>
<td>true</td>
<td>yes</td>
</tr>
<tr>
<td>false</td>
<td>false/not set</td>
<td>false</td>
<td>no</td>
</tr>
</tbody>
</table>
<h2 id="enable-environment-variable-overrides">Enable environment variable overrides<a class="headerlink" href="#enable-environment-variable-overrides" title="Permanent link">&para;</a></h2>
<p>By default, any existing configuration (for example, already set environment variables) is not altered, overwritten, or removed. This includes all environment variables matching the pattern <code>OTEL_EXPORTER_OTLP_*</code>. If any of those environment variables already exist in a container specification, no automatic configuration is made <strong>at all</strong>, even if the activated signal does not directly conflict with the existing configuration.</p>
<p>For example, if only <code>traces</code> is activated in <code>.spec.otlpExporterConfiguration.signals</code> and the container has <code>OTEL_EXPORTER_OTLP_METRICS_ENDPOINT</code> already set, <code>OTEL_EXPORTER_OTLP_TRACES_ENDPOINT</code> won't be configured on your pod.</p>
<p>To enable this override, you can turn on the override mode:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>apiVersion: dynatrace.com/v1beta6
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a>kind: DynaKube
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>
<a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a>
<a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a>
<a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a>metadata:
<a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a>
<a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a>
<a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a>
<a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a>name: dynakube
<a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a>
<a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a>
<a id="__codelineno-77-16" name="__codelineno-77-16" href="#__codelineno-77-16"></a>
<a id="__codelineno-77-17" name="__codelineno-77-17" href="#__codelineno-77-17"></a>namespace: dynatrace
<a id="__codelineno-77-18" name="__codelineno-77-18" href="#__codelineno-77-18"></a>
<a id="__codelineno-77-19" name="__codelineno-77-19" href="#__codelineno-77-19"></a>
<a id="__codelineno-77-20" name="__codelineno-77-20" href="#__codelineno-77-20"></a>
<a id="__codelineno-77-21" name="__codelineno-77-21" href="#__codelineno-77-21"></a>spec:
<a id="__codelineno-77-22" name="__codelineno-77-22" href="#__codelineno-77-22"></a>
<a id="__codelineno-77-23" name="__codelineno-77-23" href="#__codelineno-77-23"></a>
<a id="__codelineno-77-24" name="__codelineno-77-24" href="#__codelineno-77-24"></a>
<a id="__codelineno-77-25" name="__codelineno-77-25" href="#__codelineno-77-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-77-26" name="__codelineno-77-26" href="#__codelineno-77-26"></a>
<a id="__codelineno-77-27" name="__codelineno-77-27" href="#__codelineno-77-27"></a>
<a id="__codelineno-77-28" name="__codelineno-77-28" href="#__codelineno-77-28"></a>
<a id="__codelineno-77-29" name="__codelineno-77-29" href="#__codelineno-77-29"></a>otlpExporterConfiguration:
<a id="__codelineno-77-30" name="__codelineno-77-30" href="#__codelineno-77-30"></a>
<a id="__codelineno-77-31" name="__codelineno-77-31" href="#__codelineno-77-31"></a>
<a id="__codelineno-77-32" name="__codelineno-77-32" href="#__codelineno-77-32"></a>
<a id="__codelineno-77-33" name="__codelineno-77-33" href="#__codelineno-77-33"></a>signals:
<a id="__codelineno-77-34" name="__codelineno-77-34" href="#__codelineno-77-34"></a>
<a id="__codelineno-77-35" name="__codelineno-77-35" href="#__codelineno-77-35"></a>
<a id="__codelineno-77-36" name="__codelineno-77-36" href="#__codelineno-77-36"></a>
<a id="__codelineno-77-37" name="__codelineno-77-37" href="#__codelineno-77-37"></a>metrics: {}
<a id="__codelineno-77-38" name="__codelineno-77-38" href="#__codelineno-77-38"></a>
<a id="__codelineno-77-39" name="__codelineno-77-39" href="#__codelineno-77-39"></a>
<a id="__codelineno-77-40" name="__codelineno-77-40" href="#__codelineno-77-40"></a>
<a id="__codelineno-77-41" name="__codelineno-77-41" href="#__codelineno-77-41"></a>overrideEnvVars: true
</code></pre></div>
<p>With <code>.spec.otlpExporterConfiguration.overrideEnvVars: true</code>, Dynatrace Operator will:</p>
<ul>
<li>Add configuration for signals not yet present (in this example, <code>metrics</code>)</li>
<li>Overwrite configuration for signals already present</li>
<li>Retain existing configurations if they don't conflict with the configured signals</li>
</ul>
<p>The following examples have the above DynaKube configuration with <code>metrics</code> enabled and <code>overrideEnvVars</code> set to <code>true</code>.</p>
<h3 id="simple-override">Simple override<a class="headerlink" href="#simple-override" title="Permanent link">&para;</a></h3>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a>spec:
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a>containers:
<a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a>
<a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a>
<a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>
<a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a>- env:
<a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a>
<a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a>
<a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a>
<a id="__codelineno-78-13" name="__codelineno-78-13" href="#__codelineno-78-13"></a>- name: OTEL_EXPORTER_OTLP_METRICS_ENDPOINT
<a id="__codelineno-78-14" name="__codelineno-78-14" href="#__codelineno-78-14"></a>
<a id="__codelineno-78-15" name="__codelineno-78-15" href="#__codelineno-78-15"></a>
<a id="__codelineno-78-16" name="__codelineno-78-16" href="#__codelineno-78-16"></a>
<a id="__codelineno-78-17" name="__codelineno-78-17" href="#__codelineno-78-17"></a>value: https://my-private-endpoint/otlp/v1/traces
<a id="__codelineno-78-18" name="__codelineno-78-18" href="#__codelineno-78-18"></a>
<a id="__codelineno-78-19" name="__codelineno-78-19" href="#__codelineno-78-19"></a>
<a id="__codelineno-78-20" name="__codelineno-78-20" href="#__codelineno-78-20"></a>
<a id="__codelineno-78-21" name="__codelineno-78-21" href="#__codelineno-78-21"></a>- name: OTEL_EXPORTER_OTLP_METRICS_PROTOCOL
<a id="__codelineno-78-22" name="__codelineno-78-22" href="#__codelineno-78-22"></a>
<a id="__codelineno-78-23" name="__codelineno-78-23" href="#__codelineno-78-23"></a>
<a id="__codelineno-78-24" name="__codelineno-78-24" href="#__codelineno-78-24"></a>
<a id="__codelineno-78-25" name="__codelineno-78-25" href="#__codelineno-78-25"></a>value: grpc
<a id="__codelineno-78-26" name="__codelineno-78-26" href="#__codelineno-78-26"></a>
<a id="__codelineno-78-27" name="__codelineno-78-27" href="#__codelineno-78-27"></a>
<a id="__codelineno-78-28" name="__codelineno-78-28" href="#__codelineno-78-28"></a>
<a id="__codelineno-78-29" name="__codelineno-78-29" href="#__codelineno-78-29"></a>- name: OTEL_EXPORTER_OTLP_METRICS_HEADERS
<a id="__codelineno-78-30" name="__codelineno-78-30" href="#__codelineno-78-30"></a>
<a id="__codelineno-78-31" name="__codelineno-78-31" href="#__codelineno-78-31"></a>
<a id="__codelineno-78-32" name="__codelineno-78-32" href="#__codelineno-78-32"></a>
<a id="__codelineno-78-33" name="__codelineno-78-33" href="#__codelineno-78-33"></a>value: authorization=Api-Token 123456
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>spec:
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a>containers:
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a>
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a>
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a>
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a>- env:
<a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a>
<a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a>
<a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a>
<a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a>- name: OTEL_EXPORTER_OTLP_METRICS_ENDPOINT
<a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a>
<a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a>
<a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a>
<a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a>value: https://&lt;environment-id&gt;.live.dynatrace.com/api/v2/otlp/v1/metrics
<a id="__codelineno-79-18" name="__codelineno-79-18" href="#__codelineno-79-18"></a>
<a id="__codelineno-79-19" name="__codelineno-79-19" href="#__codelineno-79-19"></a>
<a id="__codelineno-79-20" name="__codelineno-79-20" href="#__codelineno-79-20"></a>
<a id="__codelineno-79-21" name="__codelineno-79-21" href="#__codelineno-79-21"></a>- name: OTEL_EXPORTER_OTLP_METRICS_PROTOCOL
<a id="__codelineno-79-22" name="__codelineno-79-22" href="#__codelineno-79-22"></a>
<a id="__codelineno-79-23" name="__codelineno-79-23" href="#__codelineno-79-23"></a>
<a id="__codelineno-79-24" name="__codelineno-79-24" href="#__codelineno-79-24"></a>
<a id="__codelineno-79-25" name="__codelineno-79-25" href="#__codelineno-79-25"></a>value: http/protobuf
<a id="__codelineno-79-26" name="__codelineno-79-26" href="#__codelineno-79-26"></a>
<a id="__codelineno-79-27" name="__codelineno-79-27" href="#__codelineno-79-27"></a>
<a id="__codelineno-79-28" name="__codelineno-79-28" href="#__codelineno-79-28"></a>
<a id="__codelineno-79-29" name="__codelineno-79-29" href="#__codelineno-79-29"></a>- name: OTEL_EXPORTER_OTLP_METRICS_HEADERS
<a id="__codelineno-79-30" name="__codelineno-79-30" href="#__codelineno-79-30"></a>
<a id="__codelineno-79-31" name="__codelineno-79-31" href="#__codelineno-79-31"></a>
<a id="__codelineno-79-32" name="__codelineno-79-32" href="#__codelineno-79-32"></a>
<a id="__codelineno-79-33" name="__codelineno-79-33" href="#__codelineno-79-33"></a>value: authorization=Api-Token $(DT_API_TOKEN)
</code></pre></div>
<h3 id="simple-addition-of-the-new-signal">Simple addition of the new signal<a class="headerlink" href="#simple-addition-of-the-new-signal" title="Permanent link">&para;</a></h3>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a>spec:
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a>containers:
<a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a>
<a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a>
<a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a>
<a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a>- env:
<a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a>
<a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a>
<a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a>
<a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a>- name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
<a id="__codelineno-80-14" name="__codelineno-80-14" href="#__codelineno-80-14"></a>
<a id="__codelineno-80-15" name="__codelineno-80-15" href="#__codelineno-80-15"></a>
<a id="__codelineno-80-16" name="__codelineno-80-16" href="#__codelineno-80-16"></a>
<a id="__codelineno-80-17" name="__codelineno-80-17" href="#__codelineno-80-17"></a>value: https://my-private-endpoint/otlp/v1/traces
<a id="__codelineno-80-18" name="__codelineno-80-18" href="#__codelineno-80-18"></a>
<a id="__codelineno-80-19" name="__codelineno-80-19" href="#__codelineno-80-19"></a>
<a id="__codelineno-80-20" name="__codelineno-80-20" href="#__codelineno-80-20"></a>
<a id="__codelineno-80-21" name="__codelineno-80-21" href="#__codelineno-80-21"></a>- name: OTEL_EXPORTER_OTLP_TRACES_PROTOCOL
<a id="__codelineno-80-22" name="__codelineno-80-22" href="#__codelineno-80-22"></a>
<a id="__codelineno-80-23" name="__codelineno-80-23" href="#__codelineno-80-23"></a>
<a id="__codelineno-80-24" name="__codelineno-80-24" href="#__codelineno-80-24"></a>
<a id="__codelineno-80-25" name="__codelineno-80-25" href="#__codelineno-80-25"></a>value: http/protobuf
<a id="__codelineno-80-26" name="__codelineno-80-26" href="#__codelineno-80-26"></a>
<a id="__codelineno-80-27" name="__codelineno-80-27" href="#__codelineno-80-27"></a>
<a id="__codelineno-80-28" name="__codelineno-80-28" href="#__codelineno-80-28"></a>
<a id="__codelineno-80-29" name="__codelineno-80-29" href="#__codelineno-80-29"></a>- name: OTEL_EXPORTER_OTLP_TRACES_HEADERS
<a id="__codelineno-80-30" name="__codelineno-80-30" href="#__codelineno-80-30"></a>
<a id="__codelineno-80-31" name="__codelineno-80-31" href="#__codelineno-80-31"></a>
<a id="__codelineno-80-32" name="__codelineno-80-32" href="#__codelineno-80-32"></a>
<a id="__codelineno-80-33" name="__codelineno-80-33" href="#__codelineno-80-33"></a>value: authorization=Api-Token 123456
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>spec:
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>containers:
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a>
<a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a>- env:
<a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a>
<a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a>
<a id="__codelineno-81-12" name="__codelineno-81-12" href="#__codelineno-81-12"></a>
<a id="__codelineno-81-13" name="__codelineno-81-13" href="#__codelineno-81-13"></a>- name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
<a id="__codelineno-81-14" name="__codelineno-81-14" href="#__codelineno-81-14"></a>
<a id="__codelineno-81-15" name="__codelineno-81-15" href="#__codelineno-81-15"></a>
<a id="__codelineno-81-16" name="__codelineno-81-16" href="#__codelineno-81-16"></a>
<a id="__codelineno-81-17" name="__codelineno-81-17" href="#__codelineno-81-17"></a>value: https://my-private-endpoint/otlp/v1/traces
<a id="__codelineno-81-18" name="__codelineno-81-18" href="#__codelineno-81-18"></a>
<a id="__codelineno-81-19" name="__codelineno-81-19" href="#__codelineno-81-19"></a>
<a id="__codelineno-81-20" name="__codelineno-81-20" href="#__codelineno-81-20"></a>
<a id="__codelineno-81-21" name="__codelineno-81-21" href="#__codelineno-81-21"></a>- name: OTEL_EXPORTER_OTLP_TRACES_PROTOCOL
<a id="__codelineno-81-22" name="__codelineno-81-22" href="#__codelineno-81-22"></a>
<a id="__codelineno-81-23" name="__codelineno-81-23" href="#__codelineno-81-23"></a>
<a id="__codelineno-81-24" name="__codelineno-81-24" href="#__codelineno-81-24"></a>
<a id="__codelineno-81-25" name="__codelineno-81-25" href="#__codelineno-81-25"></a>value: http/protobuf
<a id="__codelineno-81-26" name="__codelineno-81-26" href="#__codelineno-81-26"></a>
<a id="__codelineno-81-27" name="__codelineno-81-27" href="#__codelineno-81-27"></a>
<a id="__codelineno-81-28" name="__codelineno-81-28" href="#__codelineno-81-28"></a>
<a id="__codelineno-81-29" name="__codelineno-81-29" href="#__codelineno-81-29"></a>- name: OTEL_EXPORTER_OTLP_TRACES_HEADERS
<a id="__codelineno-81-30" name="__codelineno-81-30" href="#__codelineno-81-30"></a>
<a id="__codelineno-81-31" name="__codelineno-81-31" href="#__codelineno-81-31"></a>
<a id="__codelineno-81-32" name="__codelineno-81-32" href="#__codelineno-81-32"></a>
<a id="__codelineno-81-33" name="__codelineno-81-33" href="#__codelineno-81-33"></a>value: authorization=Api-Token 123456
<a id="__codelineno-81-34" name="__codelineno-81-34" href="#__codelineno-81-34"></a>
<a id="__codelineno-81-35" name="__codelineno-81-35" href="#__codelineno-81-35"></a>
<a id="__codelineno-81-36" name="__codelineno-81-36" href="#__codelineno-81-36"></a>
<a id="__codelineno-81-37" name="__codelineno-81-37" href="#__codelineno-81-37"></a>- name: OTEL_EXPORTER_OTLP_METRICS_ENDPOINT
<a id="__codelineno-81-38" name="__codelineno-81-38" href="#__codelineno-81-38"></a>
<a id="__codelineno-81-39" name="__codelineno-81-39" href="#__codelineno-81-39"></a>
<a id="__codelineno-81-40" name="__codelineno-81-40" href="#__codelineno-81-40"></a>
<a id="__codelineno-81-41" name="__codelineno-81-41" href="#__codelineno-81-41"></a>value: https://&lt;environment-id&gt;.live.dynatrace.com/api/v2/otlp/v1/metrics
<a id="__codelineno-81-42" name="__codelineno-81-42" href="#__codelineno-81-42"></a>
<a id="__codelineno-81-43" name="__codelineno-81-43" href="#__codelineno-81-43"></a>
<a id="__codelineno-81-44" name="__codelineno-81-44" href="#__codelineno-81-44"></a>
<a id="__codelineno-81-45" name="__codelineno-81-45" href="#__codelineno-81-45"></a>- name: OTEL_EXPORTER_OTLP_METRICS_PROTOCOL
<a id="__codelineno-81-46" name="__codelineno-81-46" href="#__codelineno-81-46"></a>
<a id="__codelineno-81-47" name="__codelineno-81-47" href="#__codelineno-81-47"></a>
<a id="__codelineno-81-48" name="__codelineno-81-48" href="#__codelineno-81-48"></a>
<a id="__codelineno-81-49" name="__codelineno-81-49" href="#__codelineno-81-49"></a>value: http/protobuf
<a id="__codelineno-81-50" name="__codelineno-81-50" href="#__codelineno-81-50"></a>
<a id="__codelineno-81-51" name="__codelineno-81-51" href="#__codelineno-81-51"></a>
<a id="__codelineno-81-52" name="__codelineno-81-52" href="#__codelineno-81-52"></a>
<a id="__codelineno-81-53" name="__codelineno-81-53" href="#__codelineno-81-53"></a>- name: OTEL_EXPORTER_OTLP_METRICS_HEADERS
<a id="__codelineno-81-54" name="__codelineno-81-54" href="#__codelineno-81-54"></a>
<a id="__codelineno-81-55" name="__codelineno-81-55" href="#__codelineno-81-55"></a>
<a id="__codelineno-81-56" name="__codelineno-81-56" href="#__codelineno-81-56"></a>
<a id="__codelineno-81-57" name="__codelineno-81-57" href="#__codelineno-81-57"></a>value: authorization=Api-Token $(DT_API_TOKEN)
</code></pre></div>
<h3 id="otlp-general-configuration-environment-variables">OTLP general configuration environment variables<a class="headerlink" href="#otlp-general-configuration-environment-variables" title="Permanent link">&para;</a></h3>
<p>A special case is the use of <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> and its companion environment variables. These variables provide defaults for all signals at once. If such a variable is already set for the container, it is not removed. Instead, the signal-specific configuration is added and takes precedence.</p>
<p>In this example, metrics will now be sent to the Dynatrace endpoint, while traces and logs would still be reported to the previously configured endpoint.</p>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a>spec:
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a>containers:
<a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a>
<a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a>
<a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a>
<a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a>- env:
<a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a>
<a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a>
<a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a>
<a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a>- name: OTEL_EXPORTER_OTLP_ENDPOINT
<a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a>
<a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a>
<a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a>
<a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a>value: https://my-private-endpoint/otlp/v1/traces
<a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a>
<a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a>
<a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a>
<a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a>- name: OTEL_EXPORTER_OTLP_PROTOCOL
<a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a>
<a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a>
<a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a>
<a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a>value: http/protobuf
<a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a>
<a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a>
<a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a>
<a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a>- name: OTEL_EXPORTER_OTLP_HEADERS
<a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a>
<a id="__codelineno-82-31" name="__codelineno-82-31" href="#__codelineno-82-31"></a>
<a id="__codelineno-82-32" name="__codelineno-82-32" href="#__codelineno-82-32"></a>
<a id="__codelineno-82-33" name="__codelineno-82-33" href="#__codelineno-82-33"></a>value: authorization=Api-Token 123456
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a>spec:
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a>
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a>containers:
<a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a>
<a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a>
<a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a>
<a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a>- env:
<a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a>
<a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a>
<a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a>
<a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a>- name: OTEL_EXPORTER_OTLP_ENDPOINT
<a id="__codelineno-83-14" name="__codelineno-83-14" href="#__codelineno-83-14"></a>
<a id="__codelineno-83-15" name="__codelineno-83-15" href="#__codelineno-83-15"></a>
<a id="__codelineno-83-16" name="__codelineno-83-16" href="#__codelineno-83-16"></a>
<a id="__codelineno-83-17" name="__codelineno-83-17" href="#__codelineno-83-17"></a>value: https://my-private-endpoint/otlp/v1/traces
<a id="__codelineno-83-18" name="__codelineno-83-18" href="#__codelineno-83-18"></a>
<a id="__codelineno-83-19" name="__codelineno-83-19" href="#__codelineno-83-19"></a>
<a id="__codelineno-83-20" name="__codelineno-83-20" href="#__codelineno-83-20"></a>
<a id="__codelineno-83-21" name="__codelineno-83-21" href="#__codelineno-83-21"></a>- name: OTEL_EXPORTER_OTLP_PROTOCOL
<a id="__codelineno-83-22" name="__codelineno-83-22" href="#__codelineno-83-22"></a>
<a id="__codelineno-83-23" name="__codelineno-83-23" href="#__codelineno-83-23"></a>
<a id="__codelineno-83-24" name="__codelineno-83-24" href="#__codelineno-83-24"></a>
<a id="__codelineno-83-25" name="__codelineno-83-25" href="#__codelineno-83-25"></a>value: http/protobuf
<a id="__codelineno-83-26" name="__codelineno-83-26" href="#__codelineno-83-26"></a>
<a id="__codelineno-83-27" name="__codelineno-83-27" href="#__codelineno-83-27"></a>
<a id="__codelineno-83-28" name="__codelineno-83-28" href="#__codelineno-83-28"></a>
<a id="__codelineno-83-29" name="__codelineno-83-29" href="#__codelineno-83-29"></a>- name: OTEL_EXPORTER_OTLP_HEADERS
<a id="__codelineno-83-30" name="__codelineno-83-30" href="#__codelineno-83-30"></a>
<a id="__codelineno-83-31" name="__codelineno-83-31" href="#__codelineno-83-31"></a>
<a id="__codelineno-83-32" name="__codelineno-83-32" href="#__codelineno-83-32"></a>
<a id="__codelineno-83-33" name="__codelineno-83-33" href="#__codelineno-83-33"></a>value: authorization=Api-Token 123456
<a id="__codelineno-83-34" name="__codelineno-83-34" href="#__codelineno-83-34"></a>
<a id="__codelineno-83-35" name="__codelineno-83-35" href="#__codelineno-83-35"></a>
<a id="__codelineno-83-36" name="__codelineno-83-36" href="#__codelineno-83-36"></a>
<a id="__codelineno-83-37" name="__codelineno-83-37" href="#__codelineno-83-37"></a>- name: OTEL_EXPORTER_OTLP_METRICS_ENDPOINT
<a id="__codelineno-83-38" name="__codelineno-83-38" href="#__codelineno-83-38"></a>
<a id="__codelineno-83-39" name="__codelineno-83-39" href="#__codelineno-83-39"></a>
<a id="__codelineno-83-40" name="__codelineno-83-40" href="#__codelineno-83-40"></a>
<a id="__codelineno-83-41" name="__codelineno-83-41" href="#__codelineno-83-41"></a>value: https://&lt;environment-id&gt;.live.dynatrace.com/api/v2/otlp/v1/metrics
<a id="__codelineno-83-42" name="__codelineno-83-42" href="#__codelineno-83-42"></a>
<a id="__codelineno-83-43" name="__codelineno-83-43" href="#__codelineno-83-43"></a>
<a id="__codelineno-83-44" name="__codelineno-83-44" href="#__codelineno-83-44"></a>
<a id="__codelineno-83-45" name="__codelineno-83-45" href="#__codelineno-83-45"></a>- name: OTEL_EXPORTER_OTLP_METRICS_PROTOCOL
<a id="__codelineno-83-46" name="__codelineno-83-46" href="#__codelineno-83-46"></a>
<a id="__codelineno-83-47" name="__codelineno-83-47" href="#__codelineno-83-47"></a>
<a id="__codelineno-83-48" name="__codelineno-83-48" href="#__codelineno-83-48"></a>
<a id="__codelineno-83-49" name="__codelineno-83-49" href="#__codelineno-83-49"></a>value: http/protobuf
<a id="__codelineno-83-50" name="__codelineno-83-50" href="#__codelineno-83-50"></a>
<a id="__codelineno-83-51" name="__codelineno-83-51" href="#__codelineno-83-51"></a>
<a id="__codelineno-83-52" name="__codelineno-83-52" href="#__codelineno-83-52"></a>
<a id="__codelineno-83-53" name="__codelineno-83-53" href="#__codelineno-83-53"></a>- name: OTEL_EXPORTER_OTLP_METRICS_HEADERS
<a id="__codelineno-83-54" name="__codelineno-83-54" href="#__codelineno-83-54"></a>
<a id="__codelineno-83-55" name="__codelineno-83-55" href="#__codelineno-83-55"></a>
<a id="__codelineno-83-56" name="__codelineno-83-56" href="#__codelineno-83-56"></a>
<a id="__codelineno-83-57" name="__codelineno-83-57" href="#__codelineno-83-57"></a>value: authorization=Api-Token $(DT_API_TOKEN)
</code></pre></div>
<h2 id="no_proxy-support"><code>NO_PROXY</code> support<a class="headerlink" href="#no_proxy-support" title="Permanent link">&para;</a></h2>
<p>If you choose to have an ActiveGate and a proxy configured on your application pods, the ActiveGate service is automatically added to the <code>NO_PROXY</code> environment variable. If the environment variable does not yet exist, it will be created.</p>
<p>You can opt-out of of this by adding the following annotation to your DynaKube:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a>apiVersion: dynatrace.com/v1beta6
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a>kind: DynaKube
<a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a>
<a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a>
<a id="__codelineno-84-8" name="__codelineno-84-8" href="#__codelineno-84-8"></a>
<a id="__codelineno-84-9" name="__codelineno-84-9" href="#__codelineno-84-9"></a>metadata:
<a id="__codelineno-84-10" name="__codelineno-84-10" href="#__codelineno-84-10"></a>
<a id="__codelineno-84-11" name="__codelineno-84-11" href="#__codelineno-84-11"></a>
<a id="__codelineno-84-12" name="__codelineno-84-12" href="#__codelineno-84-12"></a>
<a id="__codelineno-84-13" name="__codelineno-84-13" href="#__codelineno-84-13"></a>annotations:
<a id="__codelineno-84-14" name="__codelineno-84-14" href="#__codelineno-84-14"></a>
<a id="__codelineno-84-15" name="__codelineno-84-15" href="#__codelineno-84-15"></a>
<a id="__codelineno-84-16" name="__codelineno-84-16" href="#__codelineno-84-16"></a>
<a id="__codelineno-84-17" name="__codelineno-84-17" href="#__codelineno-84-17"></a>feature.dynatrace.com/otlp-exporter-configuration-set-no-proxy: &quot;false&quot;
</code></pre></div>
<h2 id="related-topics_1">Related topics<a class="headerlink" href="#related-topics_1" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">DynaKube parameters for Dynatrace Operator</a></li>
</ul>
<hr />
<h2 id="source-prepare-private-registrymd">Source: prepare-private-registry.md<a class="headerlink" href="#source-prepare-private-registrymd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Store Dynatrace images in private registries
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/container-registries/prepare-private-registry
scraped: 2026-02-16T21:26:32.072603</p>
<hr />
<h1 id="store-dynatrace-images-in-private-registries">Store Dynatrace images in private registries<a class="headerlink" href="#store-dynatrace-images-in-private-registries" title="Permanent link">&para;</a></h1>
<h1 id="store-dynatrace-images-in-private-registries_1">Store Dynatrace images in private registries<a class="headerlink" href="#store-dynatrace-images-in-private-registries_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>7-min read</li>
<li>Published Feb 29, 2024</li>
</ul>
<p>For users seeking greater control over their image hosting environment, Dynatrace offers the option to replicate images and signatures to private registries.</p>
<p>We recommend using a private registry for optimal performance and no rate limiting risks in high-demand and dynamic environments. Furthermore, to meet security standards and ensure software integrity while mitigating supply chain risks, image scanning and signature verification against Dynatrace images can be applied and is recommended.</p>
<p>By replicating Dynatrace images to your private registry, you can seamlessly merge excellent delivery performance with the assurance of secure, signed, and immutable images. We provide multi-arch images to ensure compatibility across various platforms supporting ARM64 (AArch64) and x86-64 CPU architectures on Linux.</p>
<p>This page offers guidance on securely storing Dynatrace immutable images in a private registry. It includes instructions for pulling images, verifying image signatures, and pushing them to your preferred private registry.</p>
<h2 id="prerequisites_1">Prerequisites<a class="headerlink" href="#prerequisites_1" title="Permanent link">&para;</a></h2>
<p>Before you begin, be sure to meet the following prerequisites:</p>
<ul>
<li>Required Private registry</li>
<li>Required Write access to image repositories for Dynatrace images</li>
<li>Optional <a href="https://github.com/containers/skopeo/blob/main/install.md">Skopeo√Ø¬ª¬ø</a> for easy copying of our multi-arch images</li>
<li>Optional <a href="https://docs.sigstore.dev/system_config/installation/">Cosign√Ø¬ª¬ø</a> for image signature verification</li>
</ul>
<h2 id="dynatrace-container-images">Dynatrace container images<a class="headerlink" href="#dynatrace-container-images" title="Permanent link">&para;</a></h2>
<p>Dynatrace immutable and signed container images are available on various container registries. For more details on repositories and tag information, explore our <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-public-registry#supported-public-registries" title="Use a public registry">supported public registries</a>.</p>
<p>We strongly recommend choosing one of our supported public registries from which to copy container images.</p>
<p>Please do not use the Dynatrace built-in registry for copying images to private registries.</p>
<p>An exception applies for the OneAgent image for Classic Full-Stack, where the respective image <strong>must</strong> be copied from the built-in registry to work properly.</p>
<h3 id="observability-options_1">Observability options<a class="headerlink" href="#observability-options_1" title="Permanent link">&para;</a></h3>
<p>Depending on the <a href="/docs/ingest-from/setup-on-k8s/deployment#observability-options-for-kubernetes" title="Deploy Dynatrace Operator on Kubernetes">observability options</a> you choose, you might want to only copy required images. The following table outlines the relations between Dynatrace images and observability options.</p>
<p>Observability option</p>
<p>Dynatrace Operator</p>
<p>Dynatrace ActiveGate</p>
<p>Dynatrace Code Module</p>
<p>Dynatrace OneAgent</p>
<p>Full observability</p>
<p>(Classic Full-Stack)</p>
<p>required</p>
<p>required</p>
<p>-</p>
<p>required <a href="#fn-1-1-def">1</a></p>
<p>Full observability</p>
<p>(Cloud-Native Full-Stack)</p>
<p>required</p>
<p>required</p>
<p>required</p>
<p>required</p>
<p>Kubernetes Observability</p>
<p>required</p>
<p>required</p>
<p>-</p>
<p>-</p>
<p>Application Observability</p>
<p>required</p>
<p>required</p>
<p>required</p>
<p>-</p>
<p>1</p>
<p>Must be replicated from Dynatrace built-in registry. See <a href="#classic-full-stack">Support for Classic Full-Stack monitoring</a> for further details.</p>
<h3 id="image-tags">Image tags<a class="headerlink" href="#image-tags" title="Permanent link">&para;</a></h3>
<p>To show how versioning directly relates to image tagging, the following table lists real examples of image tags for Dynatrace container images.</p>
<p>Note how Dynatrace ActiveGate, Code Modules, and OneAgent share a similar versioning approach, while Dynatrace Operator, which follows a distinct release cadence, uses a different versioning approach.</p>
<p>In all cases, version-based image tagging is employed with container images. Mutable image tags like 'latest' are not used.</p>
<p>Container image</p>
<p>Image tag</p>
<p>dynatrace-operator</p>
<p><code>docker.io/dynatrace/dynatrace-operator:v1.5.0</code></p>
<p>dynatrace-activegate</p>
<p><code>public.ecr.aws/dynatrace/dynatrace-activegate:1.301.70.20241127-162512</code></p>
<p>dynatrace-codemodules</p>
<p><code>public.ecr.aws/dynatrace/dynatrace-codemodules:1.301.70.20241127-162512</code></p>
<p>dynatrace-oneagent</p>
<p><code>public.ecr.aws/dynatrace/dynatrace-oneagent:1.301.70.20241127-162512</code></p>
<p>dynatrace-k8s-node-config-collector</p>
<p><code>public.ecr.aws/dynatrace/dynatrace-k8s-node-config-collector:1.0.0</code></p>
<h3 id="image-signature-verification">Image signature verification<a class="headerlink" href="#image-signature-verification" title="Permanent link">&para;</a></h3>
<p>All of our immutable and signed container images adhere to best practices, enhancing security and shielding against supply chain attacks. To learn how to verify signatures and guarantee software integrity, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/verify-image-signature" title="Verify Dynatrace image signatures">Verify Dynatrace image signatures</a>.</p>
<h2 id="copy-dynatrace-container-images">Copy Dynatrace container images<a class="headerlink" href="#copy-dynatrace-container-images" title="Permanent link">&para;</a></h2>
<p>The following guide describes how to copy Dynatrace container images from public Amazon ECR to our private registry with the following example attributes.</p>
<p>Private container registry address</p>
<p><code>registry.my-company.com</code></p>
<p>Dynatrace Operator repository</p>
<p><code>dynatrace-operator</code></p>
<p>Dynatrace ActiveGate repository</p>
<p><code>dynatrace-activegate</code></p>
<p>Dynatrace Code Modules repository</p>
<p><code>dynatrace-codemodules</code></p>
<p>Dynatrace OneAgent repository</p>
<p><code>dynatrace-oneagent</code></p>
<p>Dynatrace K8s Node Config Collector repository</p>
<p><code>dynatrace-k8s-node-config-collector</code></p>
<p>The instructions below to copy container images to your private registry:</p>
<p>Skopeo (recommended)</p>
<p>Docker CLI</p>
<p>Recommended</p>
<p>Due to its support for easy copying of multi-arch images and signatures<a href="#fn-2-1-def">1</a>, we strongly recommend that you use the Skopeo CLI for copying container images. To learn more about the Skopeo CLI, see <a href="https://github.com/containers/skopeo">Skopeo GitHub repository√Ø¬ª¬ø</a>.</p>
<p>In the following instructions, be sure to always replace <code>&lt;tag&gt;</code> with an available version (see the <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-public-registry#supported-public-registries" title="Use a public registry">Supported public registries</a> section).</p>
<h4 id="copy-dynatrace-operator-image">Copy Dynatrace Operator image<a class="headerlink" href="#copy-dynatrace-operator-image" title="Permanent link">&para;</a></h4>
<p>The following command shows how to copy the Dynatrace Operator image to our private registry:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a>skopeo copy --all docker://public.ecr.aws/dynatrace/dynatrace-operator:&lt;tag&gt; \
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a>docker://registry.my-company.com/dynatrace-operator:&lt;tag&gt;
</code></pre></div>
<h4 id="copy-dynatrace-activegate-image">Copy Dynatrace ActiveGate image<a class="headerlink" href="#copy-dynatrace-activegate-image" title="Permanent link">&para;</a></h4>
<p>The following command shows how to copy the Dynatrace ActiveGate image to our private registry:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a>skopeo copy --all docker://public.ecr.aws/dynatrace/dynatrace-activegate:&lt;tag&gt; \
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a>
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a>
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a>docker://registry.my-company.com/dynatrace-activegate:&lt;tag&gt;
</code></pre></div>
<h4 id="copy-dynatrace-code-modules-image">Copy Dynatrace Code Modules image<a class="headerlink" href="#copy-dynatrace-code-modules-image" title="Permanent link">&para;</a></h4>
<p>The following command shows how to copy the Dynatrace Code Modules image to our private registry:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a>skopeo copy --all docker://public.ecr.aws/dynatrace/dynatrace-codemodules:&lt;tag&gt; \
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a>
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a>
<a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a>docker://registry.my-company.com/dynatrace-codemodules:&lt;tag&gt;
</code></pre></div>
<h4 id="copy-dynatrace-oneagent-image">Copy Dynatrace OneAgent image<a class="headerlink" href="#copy-dynatrace-oneagent-image" title="Permanent link">&para;</a></h4>
<p>The following command shows how to copy the Dynatrace OneAgent image to our private registry:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a>skopeo copy --all docker://public.ecr.aws/dynatrace/dynatrace-oneagent:&lt;tag&gt; \
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a>
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a>docker://registry.my-company.com/dynatrace-oneagent:&lt;tag&gt;
</code></pre></div>
<h4 id="copy-dynatrace-k8s-node-config-collector-image">Copy Dynatrace K8s Node Config Collector image<a class="headerlink" href="#copy-dynatrace-k8s-node-config-collector-image" title="Permanent link">&para;</a></h4>
<p>The following command shows how to copy the Dynatrace K8s Node Config Collector image to our private registry:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a>skopeo copy --all docker://public.ecr.aws/dynatrace/dynatrace-k8s-node-config-collector:&lt;tag&gt; \
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a>docker://registry.my-company.com/dynatrace-k8s-node-config-collector:&lt;tag&gt;
</code></pre></div>
<p>1</p>
<p>Requires <code>use-sigstore-attachments</code> to be set to <code>true</code> in <em>Skopeo</em>'s <a href="https://github.com/containers/image/blob/main/docs/containers-registries.d.5.md#individual-configuration-sections">container registries√Ø¬ª¬ø</a> configuration.</p>
<p>We strongly recommend that you use the Skopeo CLI instead of Docker CLI for copying Dynatrace container images from public to private registries, as the Docker CLI does not provide an easy way to copy multi-arch images and signatures.</p>
<p>If you still want to use Docker CLI, please refer to the <a href="https://docs.docker.com/engine/reference/commandline/cli/">official Docker CLI documentation√Ø¬ª¬ø</a>.</p>
<h3 id="support-for-classic-full-stack-monitoring">Support for Classic Full-Stack monitoring<a class="headerlink" href="#support-for-classic-full-stack-monitoring" title="Permanent link">&para;</a></h3>
<p><a href="/docs/ingest-from/setup-on-k8s/how-it-works#classic" title="In-depth description on how the deployment on Kubernetes works.">Classic Full-Stack monitoring</a> requires a pre-configured Dynatrace OneAgent image, which is available <strong>only</strong> via the Dynatrace built-in registry.</p>
<p>Consequently, the OneAgent image must be replicated via the Dynatrace built-in registry as described below.</p>
<p>Prerequisites</p>
<h4 id="before-you-begin_1">Before you begin<a class="headerlink" href="#before-you-begin_1" title="Permanent link">&para;</a></h4>
<p>Make sure you meet the following prerequisites:</p>
<ul>
<li>Required Non-optional prerequisites from the top</li>
<li>Required Credentials for Dynatrace built-in registry</li>
</ul>
<h4 id="obtain-dynatrace-built-in-registry-credentials">Obtain Dynatrace built-in registry credentials<a class="headerlink" href="#obtain-dynatrace-built-in-registry-credentials" title="Permanent link">&para;</a></h4>
<p>As the Dynatrace built-in registry requires authentication, you need to know your monitoring environment ID and provide a PaaS token for the login:</p>
<ul>
<li>To determine <code>&lt;your-environment-id&gt;</code>, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">environment ID</a>.</li>
<li>To determine <code>&lt;your-paas-token&gt;</code>, see <a href="/docs/manage/identity-access-management/access-tokens-and-oauth-clients/access-tokens#paas-token" title="Learn the concept of an access token and its scopes.">PaaS token</a>.</li>
</ul>
<p>Example login using <em>Skopeo</em> CLI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a>skopeo login -u &lt;your-environment-id&gt; -p &lt;your-paas-token&gt; &lt;your-environment-url&gt;
</code></pre></div>
<p>Please note that this section only addresses configurations of Classic Full-Stack monitoring.</p>
<h4 id="copy-dynatrace-oneagent-image-for-classic-full-stack-monitoring">Copy Dynatrace OneAgent image for Classic Full-Stack monitoring<a class="headerlink" href="#copy-dynatrace-oneagent-image-for-classic-full-stack-monitoring" title="Permanent link">&para;</a></h4>
<p>The Dynatrace built-in registry only supports x86-64 architectures running Linux. As a consequence, we recommend that you explicitly set/override the architecture and operating system.</p>
<p>How to determine OneAgent image tag</p>
<p>The Dynatrace built-in registry provides the following OneAgent image tag formats:</p>
<ul>
<li><code>latest</code></li>
<li><code>latest-raw</code></li>
<li><code>&lt;major&gt;.&lt;minor&gt;.&lt;revision&gt;</code></li>
<li><code>&lt;major&gt;.&lt;minor&gt;.&lt;revision&gt;-raw</code></li>
</ul>
<p>For image replication, we recommend that you copy raw images (images with the tag suffix <code>-raw</code>).</p>
<p>To understand which OneAgent versions are available for replication, you can use the following Deployment APIs:</p>
<ul>
<li><a href="/docs/dynatrace-api/environment-api/deployment/oneagent/get-available-versions" title="List available versions of OneAgent via Dynatrace API.">List available versions of OneAgent</a> to get an overview of available OneAgent versions.</li>
<li><a href="/docs/dynatrace-api/environment-api/deployment/oneagent/get-version-latest" title="View the latest version of OneAgent via Dynatrace API.">View the latest version of OneAgent</a>, if you want to understand the OneAgent version behind <code>latest</code> or automate OneAgent image replication.</li>
</ul>
<p>The following examples show how OneAgent versions translate to image tags available in the Dynatrace built-in registry:</p>
<p>OneAgent version</p>
<p>OneAgent image tag</p>
<p>latest</p>
<p><strong>latest-raw</strong></p>
<p>1.283.114.20240129-173640</p>
<p><strong>1.283.114-raw</strong></p>
<p>Before executing the following command, be sure to replace <code>&lt;tag-with-raw-suffix&gt;</code> and <code>&lt;environment-id&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a>skopeo copy --override-arch amd64 --override-os linux
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a>
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a>
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a>docker://&lt;your_environment_domain_name&gt;/linux/oneagent:&lt;tag-with-raw-suffix&gt; \
<a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a>
<a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a>
<a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a>
<a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a>docker://registry.my-company.com/dynatrace-oneagent-classic:&lt;tag-with-raw-suffix&gt;
</code></pre></div>
<p>For more information on configuring a DynaKube custom resource, see our examples of how to <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry" title="Use a private registry">use private registries</a>.</p>
<h2 id="related-topics_2">Related topics<a class="headerlink" href="#related-topics_2" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry" title="Use a private registry">Use a private registry</a></li>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/verify-image-signature" title="Verify Dynatrace image signatures">Verify Dynatrace image signatures</a></li>
</ul>
<hr />
<h2 id="source-cluster-role-aggregationmd">Source: cluster-role-aggregation.md<a class="headerlink" href="#source-cluster-role-aggregationmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: ClusterRole aggregation for Kubernetes monitoring
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation
scraped: 2026-02-17T05:06:02.073072</p>
<hr />
<h1 id="clusterrole-aggregation-for-kubernetes-monitoring">ClusterRole aggregation for Kubernetes monitoring<a class="headerlink" href="#clusterrole-aggregation-for-kubernetes-monitoring" title="Permanent link">&para;</a></h1>
<h1 id="clusterrole-aggregation-for-kubernetes-monitoring_1">ClusterRole aggregation for Kubernetes monitoring<a class="headerlink" href="#clusterrole-aggregation-for-kubernetes-monitoring_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Updated on Dec 09, 2025</li>
</ul>
<p>Dynatrace Operator version 1.8.0+</p>
<p>Starting with Operator version 1.8.0, the ActiveGate component uses a service account binding the <code>dynatrace-kubernetes-monitoring</code> ClusterRole. This ClusterRole is an <strong>aggregated role</strong> enabling simple and flexible configuration of assigned RBAC permissions. <a href="#fn-1-1-def">1</a></p>
<p>1</p>
<p>ClusterRole aggregation is a Kubernetes RBAC feature that allows you to combine multiple ClusterRoles into a single aggregated ClusterRole. The aggregating ClusterRole uses label selectors to identify which other ClusterRoles should be included. For more information, see <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#aggregated-clusterroles">ClusterRole aggregation in Kubernetes documentation√Ø¬ª¬ø</a>.</p>
<h2 id="default-permissions">Default permissions<a class="headerlink" href="#default-permissions" title="Permanent link">&para;</a></h2>
<p>By default, the Dynatrace Operator installation creates a <code>dynatrace-kubernetes-monitoring-default</code> ClusterRole that contains the standard set of permissions required for Kubernetes platform monitoring. This ClusterRole is automatically labeled with <code>rbac.dynatrace.com/aggregate-to-monitoring: "true"</code>, so its permissions are included in the aggregated role.</p>
<p>The default permissions are documented in the <a href="/docs/ingest-from/setup-on-k8s/reference/security#activegate" title="This page provides an overview of the Dynatrace components, their default configurations, and the permissions they require">security reference</a> and cover standard monitoring of:</p>
<ul>
<li>Pods, deployments, StatefulSets, and other workload resources.</li>
<li>Services and endpoints.</li>
<li>Nodes and resource metrics.</li>
<li>Events and cluster information.</li>
</ul>
<h2 id="extending-the-clusterrole-with-additional-permissions">Extending the ClusterRole with additional permissions<a class="headerlink" href="#extending-the-clusterrole-with-additional-permissions" title="Permanent link">&para;</a></h2>
<p>To extend the monitoring functionality beyond the default permissions, create additional ClusterRoles with the aggregation label. Any ClusterRole with the label <code>rbac.dynatrace.com/aggregate-to-monitoring: "true"</code> is automatically aggregated, and its permissions are granted to the ActiveGate service account.</p>
<h3 id="example-allow-monitoring-of-sensitive-data">Example: Allow monitoring of sensitive data<a class="headerlink" href="#example-allow-monitoring-of-sensitive-data" title="Permanent link">&para;</a></h3>
<p>To enable monitoring of sensitive Kubernetes objects like Secrets and ConfigMaps, create a new ClusterRole:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a>
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a>
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a>
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a>kind: ClusterRole
<a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a>
<a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a>
<a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a>
<a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a>metadata:
<a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a>
<a id="__codelineno-92-11" name="__codelineno-92-11" href="#__codelineno-92-11"></a>
<a id="__codelineno-92-12" name="__codelineno-92-12" href="#__codelineno-92-12"></a>
<a id="__codelineno-92-13" name="__codelineno-92-13" href="#__codelineno-92-13"></a>name: dynatrace-kubernetes-monitoring-sensitive
<a id="__codelineno-92-14" name="__codelineno-92-14" href="#__codelineno-92-14"></a>
<a id="__codelineno-92-15" name="__codelineno-92-15" href="#__codelineno-92-15"></a>
<a id="__codelineno-92-16" name="__codelineno-92-16" href="#__codelineno-92-16"></a>
<a id="__codelineno-92-17" name="__codelineno-92-17" href="#__codelineno-92-17"></a>labels:
<a id="__codelineno-92-18" name="__codelineno-92-18" href="#__codelineno-92-18"></a>
<a id="__codelineno-92-19" name="__codelineno-92-19" href="#__codelineno-92-19"></a>
<a id="__codelineno-92-20" name="__codelineno-92-20" href="#__codelineno-92-20"></a>
<a id="__codelineno-92-21" name="__codelineno-92-21" href="#__codelineno-92-21"></a>rbac.dynatrace.com/aggregate-to-monitoring: &quot;true&quot;
<a id="__codelineno-92-22" name="__codelineno-92-22" href="#__codelineno-92-22"></a>
<a id="__codelineno-92-23" name="__codelineno-92-23" href="#__codelineno-92-23"></a>
<a id="__codelineno-92-24" name="__codelineno-92-24" href="#__codelineno-92-24"></a>
<a id="__codelineno-92-25" name="__codelineno-92-25" href="#__codelineno-92-25"></a>rules:
<a id="__codelineno-92-26" name="__codelineno-92-26" href="#__codelineno-92-26"></a>
<a id="__codelineno-92-27" name="__codelineno-92-27" href="#__codelineno-92-27"></a>
<a id="__codelineno-92-28" name="__codelineno-92-28" href="#__codelineno-92-28"></a>
<a id="__codelineno-92-29" name="__codelineno-92-29" href="#__codelineno-92-29"></a>- apiGroups:
<a id="__codelineno-92-30" name="__codelineno-92-30" href="#__codelineno-92-30"></a>
<a id="__codelineno-92-31" name="__codelineno-92-31" href="#__codelineno-92-31"></a>
<a id="__codelineno-92-32" name="__codelineno-92-32" href="#__codelineno-92-32"></a>
<a id="__codelineno-92-33" name="__codelineno-92-33" href="#__codelineno-92-33"></a>- &quot;&quot;
<a id="__codelineno-92-34" name="__codelineno-92-34" href="#__codelineno-92-34"></a>
<a id="__codelineno-92-35" name="__codelineno-92-35" href="#__codelineno-92-35"></a>
<a id="__codelineno-92-36" name="__codelineno-92-36" href="#__codelineno-92-36"></a>
<a id="__codelineno-92-37" name="__codelineno-92-37" href="#__codelineno-92-37"></a>resources:
<a id="__codelineno-92-38" name="__codelineno-92-38" href="#__codelineno-92-38"></a>
<a id="__codelineno-92-39" name="__codelineno-92-39" href="#__codelineno-92-39"></a>
<a id="__codelineno-92-40" name="__codelineno-92-40" href="#__codelineno-92-40"></a>
<a id="__codelineno-92-41" name="__codelineno-92-41" href="#__codelineno-92-41"></a>- configmaps
<a id="__codelineno-92-42" name="__codelineno-92-42" href="#__codelineno-92-42"></a>
<a id="__codelineno-92-43" name="__codelineno-92-43" href="#__codelineno-92-43"></a>
<a id="__codelineno-92-44" name="__codelineno-92-44" href="#__codelineno-92-44"></a>
<a id="__codelineno-92-45" name="__codelineno-92-45" href="#__codelineno-92-45"></a>- secrets
<a id="__codelineno-92-46" name="__codelineno-92-46" href="#__codelineno-92-46"></a>
<a id="__codelineno-92-47" name="__codelineno-92-47" href="#__codelineno-92-47"></a>
<a id="__codelineno-92-48" name="__codelineno-92-48" href="#__codelineno-92-48"></a>
<a id="__codelineno-92-49" name="__codelineno-92-49" href="#__codelineno-92-49"></a>verbs:
<a id="__codelineno-92-50" name="__codelineno-92-50" href="#__codelineno-92-50"></a>
<a id="__codelineno-92-51" name="__codelineno-92-51" href="#__codelineno-92-51"></a>
<a id="__codelineno-92-52" name="__codelineno-92-52" href="#__codelineno-92-52"></a>
<a id="__codelineno-92-53" name="__codelineno-92-53" href="#__codelineno-92-53"></a>- list
<a id="__codelineno-92-54" name="__codelineno-92-54" href="#__codelineno-92-54"></a>
<a id="__codelineno-92-55" name="__codelineno-92-55" href="#__codelineno-92-55"></a>
<a id="__codelineno-92-56" name="__codelineno-92-56" href="#__codelineno-92-56"></a>
<a id="__codelineno-92-57" name="__codelineno-92-57" href="#__codelineno-92-57"></a>- watch
<a id="__codelineno-92-58" name="__codelineno-92-58" href="#__codelineno-92-58"></a>
<a id="__codelineno-92-59" name="__codelineno-92-59" href="#__codelineno-92-59"></a>
<a id="__codelineno-92-60" name="__codelineno-92-60" href="#__codelineno-92-60"></a>
<a id="__codelineno-92-61" name="__codelineno-92-61" href="#__codelineno-92-61"></a>- get
</code></pre></div>
<p>The <code>rbac.dynatrace.com/aggregate-to-monitoring: "true"</code> label is required for your ClusterRole to be aggregated. Without this label, the permissions are not granted to the ActiveGate.</p>
<p>The permissions are aggregated immediately after applying the ClusterRole and take effect without requiring a restart of Operator or ActiveGate pods.</p>
<hr />
<h2 id="source-edge-connect-provisionmd">Source: edge-connect-provision.md<a class="headerlink" href="#source-edge-connect-provisionmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Provision EdgeConnect for Dynatrace environment
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/edgeconnect/edge-connect-provision
scraped: 2026-02-17T05:10:05.433022</p>
<hr />
<h1 id="provision-edgeconnect-for-dynatrace-environment">Provision EdgeConnect for Dynatrace environment<a class="headerlink" href="#provision-edgeconnect-for-dynatrace-environment" title="Permanent link">&para;</a></h1>
<h1 id="provision-edgeconnect-for-dynatrace-environment_1">Provision EdgeConnect for Dynatrace environment<a class="headerlink" href="#provision-edgeconnect-for-dynatrace-environment_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>1-min read</li>
<li>Published Dec 20, 2023</li>
</ul>
<p>EdgeConnect facilitates secure interactions between applications, workflows, and internal systems within a Kubernetes environment. This guide provides detailed steps for provisioning EdgeConnect for a Dynatrace environment.</p>
<h2 id="1-create-oauth-client">1. Create OAuth client<a class="headerlink" href="#1-create-oauth-client" title="Permanent link">&para;</a></h2>
<ol>
<li>Go to <a href="https://myaccount.dynatrace.com/"><strong>Account Management</strong>√Ø¬ª¬ø</a> &gt; <strong>Identity &amp; access management</strong> &gt; <strong>OAuth clients</strong>.</li>
<li>
<p>Create an OAuth client with the following scopes.</p>
</li>
<li>
<p><code>app-engine:edge-connects:connect</code></p>
</li>
<li><code>app-engine:edge-connects:write</code></li>
<li><code>app-engine:edge-connects:read</code></li>
<li><code>app-engine:edge-connects:delete</code></li>
<li><code>oauth2:clients:manage</code></li>
<li>Save the ID, secret, and your Dynatrace account URN.</li>
</ol>
<h2 id="2-create-oauth-credentials-secret">2. Create OAuth credentials secret<a class="headerlink" href="#2-create-oauth-credentials-secret" title="Permanent link">&para;</a></h2>
<ol>
<li>Create a secret with the OAuth credentials.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a>apiVersion: v1
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a>
<a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a>
<a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a>
<a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a>kind: Secret
<a id="__codelineno-93-6" name="__codelineno-93-6" href="#__codelineno-93-6"></a>
<a id="__codelineno-93-7" name="__codelineno-93-7" href="#__codelineno-93-7"></a>
<a id="__codelineno-93-8" name="__codelineno-93-8" href="#__codelineno-93-8"></a>
<a id="__codelineno-93-9" name="__codelineno-93-9" href="#__codelineno-93-9"></a>metadata:
<a id="__codelineno-93-10" name="__codelineno-93-10" href="#__codelineno-93-10"></a>
<a id="__codelineno-93-11" name="__codelineno-93-11" href="#__codelineno-93-11"></a>
<a id="__codelineno-93-12" name="__codelineno-93-12" href="#__codelineno-93-12"></a>
<a id="__codelineno-93-13" name="__codelineno-93-13" href="#__codelineno-93-13"></a>name: edgeconnect-oauth
<a id="__codelineno-93-14" name="__codelineno-93-14" href="#__codelineno-93-14"></a>
<a id="__codelineno-93-15" name="__codelineno-93-15" href="#__codelineno-93-15"></a>
<a id="__codelineno-93-16" name="__codelineno-93-16" href="#__codelineno-93-16"></a>
<a id="__codelineno-93-17" name="__codelineno-93-17" href="#__codelineno-93-17"></a>namespace: dynatrace
<a id="__codelineno-93-18" name="__codelineno-93-18" href="#__codelineno-93-18"></a>
<a id="__codelineno-93-19" name="__codelineno-93-19" href="#__codelineno-93-19"></a>
<a id="__codelineno-93-20" name="__codelineno-93-20" href="#__codelineno-93-20"></a>
<a id="__codelineno-93-21" name="__codelineno-93-21" href="#__codelineno-93-21"></a>data:
<a id="__codelineno-93-22" name="__codelineno-93-22" href="#__codelineno-93-22"></a>
<a id="__codelineno-93-23" name="__codelineno-93-23" href="#__codelineno-93-23"></a>
<a id="__codelineno-93-24" name="__codelineno-93-24" href="#__codelineno-93-24"></a>
<a id="__codelineno-93-25" name="__codelineno-93-25" href="#__codelineno-93-25"></a>oauth-client-id: &lt;base64 encoded client id&gt;
<a id="__codelineno-93-26" name="__codelineno-93-26" href="#__codelineno-93-26"></a>
<a id="__codelineno-93-27" name="__codelineno-93-27" href="#__codelineno-93-27"></a>
<a id="__codelineno-93-28" name="__codelineno-93-28" href="#__codelineno-93-28"></a>
<a id="__codelineno-93-29" name="__codelineno-93-29" href="#__codelineno-93-29"></a>oauth-client-secret: &lt;base64 encoded client secret&gt;
</code></pre></div>
2. Apply the secret.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a>kubectl apply -f edgeconnect-oauth-secret.yaml
</code></pre></div>
<h2 id="3-configure-edgeconnect">3. Configure EdgeConnect<a class="headerlink" href="#3-configure-edgeconnect" title="Permanent link">&para;</a></h2>
<ol>
<li>Configure the EdgeConnect custom resource file with the <code>provisioner: true</code> and the <code>hostPatterns</code> properties. For the <code>resource</code> property, use the Dynatrace account URN that you got earlier.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a>apiVersion: dynatrace.com/v1alpha2
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a>
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a>
<a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a>
<a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a>kind: EdgeConnect
<a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a>
<a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a>
<a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a>
<a id="__codelineno-95-9" name="__codelineno-95-9" href="#__codelineno-95-9"></a>metadata:
<a id="__codelineno-95-10" name="__codelineno-95-10" href="#__codelineno-95-10"></a>
<a id="__codelineno-95-11" name="__codelineno-95-11" href="#__codelineno-95-11"></a>
<a id="__codelineno-95-12" name="__codelineno-95-12" href="#__codelineno-95-12"></a>
<a id="__codelineno-95-13" name="__codelineno-95-13" href="#__codelineno-95-13"></a>name: sample-edge-connect-name
<a id="__codelineno-95-14" name="__codelineno-95-14" href="#__codelineno-95-14"></a>
<a id="__codelineno-95-15" name="__codelineno-95-15" href="#__codelineno-95-15"></a>
<a id="__codelineno-95-16" name="__codelineno-95-16" href="#__codelineno-95-16"></a>
<a id="__codelineno-95-17" name="__codelineno-95-17" href="#__codelineno-95-17"></a>namespace: dynatrace
<a id="__codelineno-95-18" name="__codelineno-95-18" href="#__codelineno-95-18"></a>
<a id="__codelineno-95-19" name="__codelineno-95-19" href="#__codelineno-95-19"></a>
<a id="__codelineno-95-20" name="__codelineno-95-20" href="#__codelineno-95-20"></a>
<a id="__codelineno-95-21" name="__codelineno-95-21" href="#__codelineno-95-21"></a>spec:
<a id="__codelineno-95-22" name="__codelineno-95-22" href="#__codelineno-95-22"></a>
<a id="__codelineno-95-23" name="__codelineno-95-23" href="#__codelineno-95-23"></a>
<a id="__codelineno-95-24" name="__codelineno-95-24" href="#__codelineno-95-24"></a>
<a id="__codelineno-95-25" name="__codelineno-95-25" href="#__codelineno-95-25"></a>apiServer: &quot;&lt;environment-id&gt;.apps.dynatrace.com&quot;
<a id="__codelineno-95-26" name="__codelineno-95-26" href="#__codelineno-95-26"></a>
<a id="__codelineno-95-27" name="__codelineno-95-27" href="#__codelineno-95-27"></a>
<a id="__codelineno-95-28" name="__codelineno-95-28" href="#__codelineno-95-28"></a>
<a id="__codelineno-95-29" name="__codelineno-95-29" href="#__codelineno-95-29"></a>hostPatterns:
<a id="__codelineno-95-30" name="__codelineno-95-30" href="#__codelineno-95-30"></a>
<a id="__codelineno-95-31" name="__codelineno-95-31" href="#__codelineno-95-31"></a>
<a id="__codelineno-95-32" name="__codelineno-95-32" href="#__codelineno-95-32"></a>
<a id="__codelineno-95-33" name="__codelineno-95-33" href="#__codelineno-95-33"></a>- &#39;*.mycompany.org&#39;
<a id="__codelineno-95-34" name="__codelineno-95-34" href="#__codelineno-95-34"></a>
<a id="__codelineno-95-35" name="__codelineno-95-35" href="#__codelineno-95-35"></a>
<a id="__codelineno-95-36" name="__codelineno-95-36" href="#__codelineno-95-36"></a>
<a id="__codelineno-95-37" name="__codelineno-95-37" href="#__codelineno-95-37"></a>oauth:
<a id="__codelineno-95-38" name="__codelineno-95-38" href="#__codelineno-95-38"></a>
<a id="__codelineno-95-39" name="__codelineno-95-39" href="#__codelineno-95-39"></a>
<a id="__codelineno-95-40" name="__codelineno-95-40" href="#__codelineno-95-40"></a>
<a id="__codelineno-95-41" name="__codelineno-95-41" href="#__codelineno-95-41"></a>provisioner: true
<a id="__codelineno-95-42" name="__codelineno-95-42" href="#__codelineno-95-42"></a>
<a id="__codelineno-95-43" name="__codelineno-95-43" href="#__codelineno-95-43"></a>
<a id="__codelineno-95-44" name="__codelineno-95-44" href="#__codelineno-95-44"></a>
<a id="__codelineno-95-45" name="__codelineno-95-45" href="#__codelineno-95-45"></a>clientSecret: edgeconnect-oauth
<a id="__codelineno-95-46" name="__codelineno-95-46" href="#__codelineno-95-46"></a>
<a id="__codelineno-95-47" name="__codelineno-95-47" href="#__codelineno-95-47"></a>
<a id="__codelineno-95-48" name="__codelineno-95-48" href="#__codelineno-95-48"></a>
<a id="__codelineno-95-49" name="__codelineno-95-49" href="#__codelineno-95-49"></a>endpoint: https://sso.dynatrace.com/sso/oauth2/token
<a id="__codelineno-95-50" name="__codelineno-95-50" href="#__codelineno-95-50"></a>
<a id="__codelineno-95-51" name="__codelineno-95-51" href="#__codelineno-95-51"></a>
<a id="__codelineno-95-52" name="__codelineno-95-52" href="#__codelineno-95-52"></a>
<a id="__codelineno-95-53" name="__codelineno-95-53" href="#__codelineno-95-53"></a>resource: urn:dtaccount:&lt;your-account-uuid&gt;
</code></pre></div>
2. Apply the EdgeConnect custom resource.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a>kubectl apply -f edgeconnect.yaml
</code></pre></div>
<p>Rotating the OAuth credentials is not immediately reflected in the EdgeConnect deployment. This may lead to authentication issues until Dynatrace Operator reconciles the EdgeConnect deployment.</p>
<h2 id="related-topics_3">Related topics<a class="headerlink" href="#related-topics_3" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/edgeconnect" title="Use EdgeConnect to control how your apps and workflows interact with your internal systems.">Configure and deploy EdgeConnect</a></li>
</ul>
<hr />
<h2 id="source-edge-connectmd">Source: edge-connect.md<a class="headerlink" href="#source-edge-connectmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Set up EdgeConnect
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/edgeconnect/edge-connect
scraped: 2026-02-15T09:07:09.645857</p>
<hr />
<h1 id="set-up-edgeconnect">Set up EdgeConnect<a class="headerlink" href="#set-up-edgeconnect" title="Permanent link">&para;</a></h1>
<h1 id="set-up-edgeconnect_1">Set up EdgeConnect<a class="headerlink" href="#set-up-edgeconnect_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Oct 11, 2023</li>
</ul>
<p>EdgeConnect facilitates secure interactions between applications, workflows, and internal systems within a Kubernetes environment. This guide provides information on how to deploy and configure EdgeConnect using Dynatrace.</p>
<p>[<img alt="Step 1" src="https://dt-cdn.net/images/step-1-086e22066c.svg" title="Step 1" /></p>
<p><strong>Create EdgeConnect</strong>](#create-edgeconnect)[<img alt="Step 2" src="https://dt-cdn.net/images/step-2-1a1384627e.svg" title="Step 2" /></p>
<p><strong>Create OAuth credentials secret</strong>](#create-secret)[<img alt="Step 3" src="https://dt-cdn.net/images/step-3-350cf6c19a.svg" title="Step 3" /></p>
<p><strong>Configure EdgeConnect</strong>](#configure-edgeconnect)[<img alt="Step 4" src="https://dt-cdn.net/images/step-4-3f89d67d41.svg" title="Step 4" /></p>
<p><strong>Verify that EdgeConnect is up</strong>](#check-edgeconnect)</p>
<h2 id="step-1-create-edgeconnect">Step 1 Create EdgeConnect<a class="headerlink" href="#step-1-create-edgeconnect" title="Permanent link">&para;</a></h2>
<p>To create EdgeConnect, follow the instruction provided in <a href="/docs/ingest-from/edgeconnect#createconfiguration" title="Use EdgeConnect to control how your apps and workflows interact with your internal systems.">Create a new EdgeConnect configuration</a>.</p>
<h2 id="step-2-create-oauth-credentials-secret">Step 2 Create OAuth credentials secret<a class="headerlink" href="#step-2-create-oauth-credentials-secret" title="Permanent link">&para;</a></h2>
<ol>
<li>Create a secret to hold your OAuth credentials. The values for the OAuth client ID and secret should be obtained from the EdgeConnect configuration created in <a href="#create-edgeconnect">Create EdgeConnect</a> step.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a>apiVersion: v1
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a>
<a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a>
<a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a>kind: Secret
<a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a>
<a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a>
<a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a>
<a id="__codelineno-97-9" name="__codelineno-97-9" href="#__codelineno-97-9"></a>metadata:
<a id="__codelineno-97-10" name="__codelineno-97-10" href="#__codelineno-97-10"></a>
<a id="__codelineno-97-11" name="__codelineno-97-11" href="#__codelineno-97-11"></a>
<a id="__codelineno-97-12" name="__codelineno-97-12" href="#__codelineno-97-12"></a>
<a id="__codelineno-97-13" name="__codelineno-97-13" href="#__codelineno-97-13"></a>name: edgeconnect-oauth
<a id="__codelineno-97-14" name="__codelineno-97-14" href="#__codelineno-97-14"></a>
<a id="__codelineno-97-15" name="__codelineno-97-15" href="#__codelineno-97-15"></a>
<a id="__codelineno-97-16" name="__codelineno-97-16" href="#__codelineno-97-16"></a>
<a id="__codelineno-97-17" name="__codelineno-97-17" href="#__codelineno-97-17"></a>namespace: dynatrace
<a id="__codelineno-97-18" name="__codelineno-97-18" href="#__codelineno-97-18"></a>
<a id="__codelineno-97-19" name="__codelineno-97-19" href="#__codelineno-97-19"></a>
<a id="__codelineno-97-20" name="__codelineno-97-20" href="#__codelineno-97-20"></a>
<a id="__codelineno-97-21" name="__codelineno-97-21" href="#__codelineno-97-21"></a>data:
<a id="__codelineno-97-22" name="__codelineno-97-22" href="#__codelineno-97-22"></a>
<a id="__codelineno-97-23" name="__codelineno-97-23" href="#__codelineno-97-23"></a>
<a id="__codelineno-97-24" name="__codelineno-97-24" href="#__codelineno-97-24"></a>
<a id="__codelineno-97-25" name="__codelineno-97-25" href="#__codelineno-97-25"></a>oauth-client-id: &lt;base64 encoded client id&gt;
<a id="__codelineno-97-26" name="__codelineno-97-26" href="#__codelineno-97-26"></a>
<a id="__codelineno-97-27" name="__codelineno-97-27" href="#__codelineno-97-27"></a>
<a id="__codelineno-97-28" name="__codelineno-97-28" href="#__codelineno-97-28"></a>
<a id="__codelineno-97-29" name="__codelineno-97-29" href="#__codelineno-97-29"></a>oauth-client-secret: &lt;base64 encoded client secret&gt;
</code></pre></div>
2. Apply the secret.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a>kubectl apply -f edgeconnect-oauth-secret.yaml
</code></pre></div>
<h2 id="step-3-configure-edgeconnect">Step 3 Configure EdgeConnect<a class="headerlink" href="#step-3-configure-edgeconnect" title="Permanent link">&para;</a></h2>
<ol>
<li>Before applying the configuration, ensure you have all the necessary details. See the configuration fields in <a href="/docs/ingest-from/setup-on-k8s/reference/edgeconnect-parameters" title="List of configuration parameters for EdgeConnect.">EdgeConnect parameters for Dynatrace Operator</a>.</li>
<li>Create the EdgeConnect custom resource file. Ensure the value for <code>metadata.name</code> matches the name you used when creating the EdgeConnect configuration in step 1.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a>apiVersion: dynatrace.com/v1alpha2
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a>
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a>
<a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a>
<a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a>kind: EdgeConnect
<a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a>
<a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a>
<a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a>
<a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a>metadata:
<a id="__codelineno-99-10" name="__codelineno-99-10" href="#__codelineno-99-10"></a>
<a id="__codelineno-99-11" name="__codelineno-99-11" href="#__codelineno-99-11"></a>
<a id="__codelineno-99-12" name="__codelineno-99-12" href="#__codelineno-99-12"></a>
<a id="__codelineno-99-13" name="__codelineno-99-13" href="#__codelineno-99-13"></a>name: sample-edge-connect-name
<a id="__codelineno-99-14" name="__codelineno-99-14" href="#__codelineno-99-14"></a>
<a id="__codelineno-99-15" name="__codelineno-99-15" href="#__codelineno-99-15"></a>
<a id="__codelineno-99-16" name="__codelineno-99-16" href="#__codelineno-99-16"></a>
<a id="__codelineno-99-17" name="__codelineno-99-17" href="#__codelineno-99-17"></a>namespace: dynatrace
<a id="__codelineno-99-18" name="__codelineno-99-18" href="#__codelineno-99-18"></a>
<a id="__codelineno-99-19" name="__codelineno-99-19" href="#__codelineno-99-19"></a>
<a id="__codelineno-99-20" name="__codelineno-99-20" href="#__codelineno-99-20"></a>
<a id="__codelineno-99-21" name="__codelineno-99-21" href="#__codelineno-99-21"></a>spec:
<a id="__codelineno-99-22" name="__codelineno-99-22" href="#__codelineno-99-22"></a>
<a id="__codelineno-99-23" name="__codelineno-99-23" href="#__codelineno-99-23"></a>
<a id="__codelineno-99-24" name="__codelineno-99-24" href="#__codelineno-99-24"></a>
<a id="__codelineno-99-25" name="__codelineno-99-25" href="#__codelineno-99-25"></a>apiServer: &quot;&lt;environment-id&gt;.apps.dynatrace.com&quot;
<a id="__codelineno-99-26" name="__codelineno-99-26" href="#__codelineno-99-26"></a>
<a id="__codelineno-99-27" name="__codelineno-99-27" href="#__codelineno-99-27"></a>
<a id="__codelineno-99-28" name="__codelineno-99-28" href="#__codelineno-99-28"></a>
<a id="__codelineno-99-29" name="__codelineno-99-29" href="#__codelineno-99-29"></a>replicas: 1
<a id="__codelineno-99-30" name="__codelineno-99-30" href="#__codelineno-99-30"></a>
<a id="__codelineno-99-31" name="__codelineno-99-31" href="#__codelineno-99-31"></a>
<a id="__codelineno-99-32" name="__codelineno-99-32" href="#__codelineno-99-32"></a>
<a id="__codelineno-99-33" name="__codelineno-99-33" href="#__codelineno-99-33"></a>oauth:
<a id="__codelineno-99-34" name="__codelineno-99-34" href="#__codelineno-99-34"></a>
<a id="__codelineno-99-35" name="__codelineno-99-35" href="#__codelineno-99-35"></a>
<a id="__codelineno-99-36" name="__codelineno-99-36" href="#__codelineno-99-36"></a>
<a id="__codelineno-99-37" name="__codelineno-99-37" href="#__codelineno-99-37"></a>clientSecret: edgeconnect-oauth
<a id="__codelineno-99-38" name="__codelineno-99-38" href="#__codelineno-99-38"></a>
<a id="__codelineno-99-39" name="__codelineno-99-39" href="#__codelineno-99-39"></a>
<a id="__codelineno-99-40" name="__codelineno-99-40" href="#__codelineno-99-40"></a>
<a id="__codelineno-99-41" name="__codelineno-99-41" href="#__codelineno-99-41"></a>endpoint: https://sso.dynatrace.com/sso/oauth2/token
<a id="__codelineno-99-42" name="__codelineno-99-42" href="#__codelineno-99-42"></a>
<a id="__codelineno-99-43" name="__codelineno-99-43" href="#__codelineno-99-43"></a>
<a id="__codelineno-99-44" name="__codelineno-99-44" href="#__codelineno-99-44"></a>
<a id="__codelineno-99-45" name="__codelineno-99-45" href="#__codelineno-99-45"></a>resource: urn:dtenvironment:&lt;tenant&gt;
</code></pre></div>
3. Apply the EdgeConnect custom resource.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a>kubectl apply -f edgeconnect.yaml
</code></pre></div>
<h2 id="step-4-verify-that-edgeconnect-is-up">Step 4 Verify that EdgeConnect is up<a class="headerlink" href="#step-4-verify-that-edgeconnect-is-up" title="Permanent link">&para;</a></h2>
<p>After configuring EdgeConnect, use the command below to check the status of your EdgeConnect.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a>kubectl get edgeconnects -n dynatrace
</code></pre></div>
<p>Ensure that the status displays <code>Running</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a>NAME          APISERVER                             STATUS    AGE
<a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a>
<a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a>
<a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a>
<a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a>sample-edge-connect-name   &lt;environment-id&gt;.apps.dynatrace.com   Running   16m
</code></pre></div>
<h2 id="related-topics_4">Related topics<a class="headerlink" href="#related-topics_4" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/edgeconnect" title="Use EdgeConnect to control how your apps and workflows interact with your internal systems.">Configure and deploy EdgeConnect</a></li>
</ul>
<hr />
<h2 id="source-istio-deploymentmd">Source: istio-deployment.md<a class="headerlink" href="#source-istio-deploymentmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Deploy Dynatrace alongside Istio
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/istio-deployment
scraped: 2026-02-17T04:49:19.800029</p>
<hr />
<h1 id="deploy-dynatrace-alongside-istio">Deploy Dynatrace alongside Istio<a class="headerlink" href="#deploy-dynatrace-alongside-istio" title="Permanent link">&para;</a></h1>
<h1 id="deploy-dynatrace-alongside-istio_1">Deploy Dynatrace alongside Istio<a class="headerlink" href="#deploy-dynatrace-alongside-istio_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide explains how Dynatrace components can be deployed alongside Istio. A Dynatrace deployment on Kubernetes contains several components that need to communicate with each other, with the Dynatrace cluster and other external resources.</p>
<p>For more information on communication of Dynatrace Operator and its managed components, see the <a href="/docs/ingest-from/setup-on-k8s/reference/network" title="Network traffic requirements for the Dynatrace Operator components in a Kubernetes cluster.">network traffic</a> reference page.</p>
<h2 id="limitations_2">Limitations<a class="headerlink" href="#limitations_2" title="Permanent link">&para;</a></h2>
<ul>
<li>Istio injection into the Dynatrace Operator namespace is not supported.</li>
<li>Istio spin-offs are currently not supported (for example, Maistra or OpenShift Service Mesh).</li>
<li>Istio East-West (sidecar combined with ambient) deployment is not supported.</li>
</ul>
<h2 id="setup-considerations">Setup considerations<a class="headerlink" href="#setup-considerations" title="Permanent link">&para;</a></h2>
<p>This guide covers two predefined configurations of Istio, chosen for their simplicity and common use cases. While Istio offers extensive customization options, these configurations serve as a starting point. This section explains the configuration scenarios and provides guidance on selecting the right Dynatrace setup that best suits your needs. Note that Dynatrace does not impose any limitations on how you configure Istio.</p>
<ul>
<li><strong>Default Istio configuration</strong> Recommended<br />
  This represents the default deployment of Istio, meaning no special mesh configuration. It's basically the result of following the official <a href="https://dt-url.net/hm03u3r">Istio installation guide√Ø¬ª¬ø</a>.
  This means Istio is installed either via Helm or <code>istioctl</code> in sidecar mode with the CNI node agent.</li>
</ul>
<p>Follow the <a href="#setup-guide-for-default-istio-configuration">setup guide for the default Istio configuration</a> if Istio is deployed accordingly.
* <strong>Secure Istio configuration</strong><br />
  This represents a "secure" configuration of Istio. However, this does not mean that we consider this the best practice for security configuration in Istio or that this should be seen as a guide for securing Istio. This setup is based on settings that are most likely to influence the deployed Dynatrace components and their connections. This scenario assumes that Istio is deployed with strict mTLS and <code>outboundTrafficPolicy</code> set to <code>REGISTRY_ONLY</code>. These options severely limit the incoming and outgoing connections for workloads in the mesh.</p>
<p>Choose this configuration if any point below applies:</p>
<ul>
<li>If you have enabled mTLS in strict mode.</li>
<li>If you have an <code>outboundTrafficPolicy</code> set to <code>REGISTRY_ONLY</code>.</li>
</ul>
<p>If none of the points above apply, choose <a href="#setup-guide-for-default-istio-configuration">Default Istio configuration</a>.<br />
  Follow the <a href="#setup-guide-for-secure-istio-configuration">setup guide for the secure Istio configuration</a> if Istio is deployed accordingly.</p>
<h3 id="other-deployment-considerations">Other deployment considerations<a class="headerlink" href="#other-deployment-considerations" title="Permanent link">&para;</a></h3>
<p>Disable injection of CNI pods</p>
<h4 id="disable-injection-of-cni-pods">Disable injection of CNI pods<a class="headerlink" href="#disable-injection-of-cni-pods" title="Permanent link">&para;</a></h4>
<p>This is relevant to you if all of the following applies to your deployment:</p>
<ul>
<li>Not supported Dynatrace Operator is deployed inside the mesh.</li>
<li>Istio is deployed using sidecars.</li>
<li>Istio is configured to use the CNI component.</li>
<li>You have not configured any namespace selector in the DynaKube that would exclude the <code>istio-system</code> namespace.</li>
</ul>
<p>In all scenarios, you should exclude the Istio CNI pods from being injected by the Dynatrace Operator. Otherwise, when adding a new node to the cluster, it is possible that a deadlock situation will occur.</p>
<p>Both the CSI driver and Istio's CNI agent are DeamonSets, and will therefore be deployed on any (new) node in the cluster.</p>
<ul>
<li>The CSI driver pod will be injected by Istio with an init container that waits for the correct setup of the redirection rules needed for the proxy sidecar to work.</li>
<li>The CNI pod will be injected by Dynatrace to include the required OneAgent binaries for instrumentation that are provided via a volume provisioned by the CSI driver on that Node.</li>
</ul>
<p>This leads to a situation where both pods cannot start:</p>
<ul>
<li>The CNI pod is waiting for the CSI driver to become ready to provide the volume.</li>
<li>The CSI pod is waiting for the CNI agent to provide the redirections for the proxy.</li>
</ul>
<p>Also all other workloads that are target of either the Istio or Dynatrace injection and get scheduled on that Node will be affected and won't be able to start.</p>
<p>The easiest way to exclude the CNI pods from the injection by the Dynatrace Operator is to add the annotation <code>oneagent.dynatrace.com/inject: "false"</code>. For example, for a Helm deployment of Istio, add the following to the values of the <code>cni</code> chart:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a>cni:
<a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a>
<a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a>
<a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a>
<a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a>podAnnotations:
<a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a>
<a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a>
<a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a>
<a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a>oneagent.dynatrace.com/inject: &quot;false&quot;
</code></pre></div>
<p>Native sidecar support</p>
<h4 id="native-sidecar-support">Native sidecar support<a class="headerlink" href="#native-sidecar-support" title="Permanent link">&para;</a></h4>
<p>Istio 1.28 deployed on a compatible Kubernetes cluster (&gt;=1.29) will use native sidecar containers. This new type of sidecar container is currently not supported by Dynatrace Operator. Disable native sidecars in your Istio deployment by adding the following environment variable to the pilot deployment.</p>
<p>Example values for the Istio helm chart:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a>pilot:
<a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a>
<a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a>
<a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a>
<a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a>...
<a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a>
<a id="__codelineno-104-7" name="__codelineno-104-7" href="#__codelineno-104-7"></a>
<a id="__codelineno-104-8" name="__codelineno-104-8" href="#__codelineno-104-8"></a>
<a id="__codelineno-104-9" name="__codelineno-104-9" href="#__codelineno-104-9"></a>env:
<a id="__codelineno-104-10" name="__codelineno-104-10" href="#__codelineno-104-10"></a>
<a id="__codelineno-104-11" name="__codelineno-104-11" href="#__codelineno-104-11"></a>
<a id="__codelineno-104-12" name="__codelineno-104-12" href="#__codelineno-104-12"></a>
<a id="__codelineno-104-13" name="__codelineno-104-13" href="#__codelineno-104-13"></a>ENABLE_NATIVE_SIDECARS: false
<a id="__codelineno-104-14" name="__codelineno-104-14" href="#__codelineno-104-14"></a>
<a id="__codelineno-104-15" name="__codelineno-104-15" href="#__codelineno-104-15"></a>
<a id="__codelineno-104-16" name="__codelineno-104-16" href="#__codelineno-104-16"></a>
<a id="__codelineno-104-17" name="__codelineno-104-17" href="#__codelineno-104-17"></a>...
</code></pre></div>
<h2 id="setup-guide-for-default-istio-configuration">Setup guide for default Istio configuration<a class="headerlink" href="#setup-guide-for-default-istio-configuration" title="Permanent link">&para;</a></h2>
<p>Because Dynatrace supports Istio in the default configuration, you only need to enable the <code>enableIstio</code> parameter in the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">DynaKube</a>. However, you don't need to set this parameter if you don't plan to use a restrictive <code>outboundTrafficPolicy</code>.</p>
<p>When this parameter is enabled, Dynatrace Operator will deploy <code>ServiceEntries</code> and <code>VirtualServices</code> to enable communication from inside the mesh to all relevant Dynatrace components and the Dynatrace environment. The <code>ServiceEntries</code> and <code>VirtualServices</code> work regardless of whether Dynatrace Operator's namespace itself is part of the mesh (if no <code>discoveryfilter</code> is set in Istio).</p>
<p>This enables all workloads and OneAgents to connect to the ActiveGate instance and all required connections to the Dynatrace environment. Therefore, all Dynatrace features are expected to work.</p>
<p><code>ServiceEntries</code> result in additional DNS queries executed by each sidecar proxy. This can put additional load on your DNS server.</p>
<p>To minimize the number of URLs, and therefore DNS queries, make sure the network zones in your Dynatrace environment are configured correctly. For a detailed setup description, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations/network-zones#kubernetes-cluster-with-restricted-egress" title="Set up and use network zones in Kubernetes environments with the Dynatrace Operator.">Kubernetes network zone docs</a>.</p>
<p>If this is not possible or sufficient in your environment, see <a href="https://dt-url.net/ab23uvy">Istio DNS proxying√Ø¬ª¬ø</a> for another possible mitigation.</p>
<h3 id="how-enableistio-works">How <code>enableIstio</code> works<a class="headerlink" href="#how-enableistio-works" title="Permanent link">&para;</a></h3>
<p>The <code>enableIstio</code> attribute is a convenience feature that automatically creates <code>ServiceEntries</code> and <code>VirtualServices</code> for connection endpoints required by:</p>
<ul>
<li>Dynatrace Operator: Uses <code>apiUrl</code> defined in DynaKube.</li>
<li>ActiveGate: Uses the <code>/v1/deployment/installer/gateway/connectioninfo</code> endpoint.</li>
<li>OneAgent injected into user containers: Uses the <code>/v1/deployment/installer/agent/connectioninfo</code>, which respects the <code>networkZone</code> attribute for routing.</li>
</ul>
<p>Note that <code>enableIstio</code> attribute will not consider pre-existing <code>ServiceEntries</code> and <code>VirtualServices</code>. Using this attribute prematurely might lead to conflicts in Istio configurations. In complex setups, manual configuration may yield better outcomes.</p>
<p>Changes to the <code>enableIstio</code> attribute require you to remove and reapply your DynaKube for the update to take effect.</p>
<p>Manual configuration</p>
<p>Manual configuration of <code>ServiceEntries</code> and <code>VirtualServices</code> may be required in the following cases:</p>
<h4 id="activegate">ActiveGate<a class="headerlink" href="#activegate" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Requirement</strong>: Necessary if the ActiveGate pod is part of the mesh.</li>
<li><strong>Configuration</strong>: Manually configure <code>ServiceEntries</code> and <code>VirtualServices</code> based on the output of the <code>/v1/deployment/installer/gateway/connectioninfo</code> endpoint.</li>
</ul>
<h4 id="cloudnativefullstack-and-applicationmonitoring"><code>cloudNativeFullstack</code> and <code>applicationMonitoring</code><a class="headerlink" href="#cloudnativefullstack-and-applicationmonitoring" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Requirement</strong>: Necessary if injected user applications are part of the mesh.</li>
<li><strong>Configuration</strong>: Manually configure <code>ServiceEntries</code> and <code>VirtualServices</code> based on the output of the <code>/v1/deployment/installer/agent/connectioninfo</code> endpoint.</li>
</ul>
<h2 id="setup-guide-for-secure-istio-configuration">Setup guide for secure Istio configuration<a class="headerlink" href="#setup-guide-for-secure-istio-configuration" title="Permanent link">&para;</a></h2>
<p>In such a restricted environment, and depending on your required Dynatrace features and other considerations, it might be necessary to create a few additional configuration rules for Istio. There are a few things to consider regarding the Dynatrace components when deciding how to deploy Dynatrace Operator.</p>
<ul>
<li>Even if routing is enabled on the ActiveGate, OneAgents will fall back to directly connecting to the Dynatrace environment if the ActiveGate is not reachable (for example because it's inside the mesh). That means no monitoring data is lost if some OneAgents can't connect to the ActiveGate because of the chosen deployment strategy.</li>
<li>The monitoring modes <code>classicFullStack</code> or <code>cloudNativeFullStack</code> create pods with host networking enabled. That means those pods can never be part of the mesh, as Istio does not support pods with host networking. For <code>classicFullStack</code>, those pods handle all application metrics, while for <code>cloudNativeFullStack</code>, only host monitoring is affected.</li>
<li>Some features of the ActiveGate might require direct connections to pods (for example, metric scraping). With mTLS enabled in Istio, direct connections to pod IPs are not possible. For a workaround for metric scraping, see <a href="#metric-scraping-using-istio-metric-merging">Istio metric merging</a>.</li>
</ul>
<h3 id="deployment-outside-the-mesh">Deployment outside the mesh<a class="headerlink" href="#deployment-outside-the-mesh" title="Permanent link">&para;</a></h3>
<p>In this scenario, the least complex deployment is outside the mesh. You still have to enable the <code>enableIstio</code> parameter in the DynaKube. The possible downsides of this deployment might include:</p>
<ul>
<li>Communication from inside the mesh to the ActiveGate will not be secured by mTLS. However, the communication is still encrypted via HTTPS.</li>
<li>The ActiveGate is not able to connect to any pod or service inside the mesh. If metric scraping is your only concern, see the <a href="#metric-scraping-using-istio-metric-merging">Metric scraping using Istio metric merging</a> workaround (not applicable for Istio ambient).</li>
</ul>
<p>Depending on whether most of your monitored workloads are part of the mesh or most of your targets for metric scraping are inside the mesh, deploying only the ActiveGate inside the mesh can be a more suitable option.</p>
<h3 id="activegate-deployment-inside-the-mesh">ActiveGate deployment inside the mesh<a class="headerlink" href="#activegate-deployment-inside-the-mesh" title="Permanent link">&para;</a></h3>
<p>The most compatible deployment option is to deploy only the ActiveGate inside the mesh. This deployment option makes the most sense if most of your monitored workloads are also part of the mesh or if you need the ActiveGate to directly connect to pods inside the mesh (for example, for Prometheus scraping).</p>
<ol>
<li>Make sure that the Dynatrace Operator namespace is not labeled for Istio injection (<code>istio-injection</code> or <code>istio.io/dataplane-mode</code> label is not set).</li>
<li>Label the ActiveGate pods for Istio by adding the following to your DynaKube:</li>
</ol>
<p>Sidecar</p>
<p>Ambient</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a>
<a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a>
<a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a>
<a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a>kind: DynaKube
<a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a>
<a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a>
<a id="__codelineno-105-8" name="__codelineno-105-8" href="#__codelineno-105-8"></a>
<a id="__codelineno-105-9" name="__codelineno-105-9" href="#__codelineno-105-9"></a>metadata:
<a id="__codelineno-105-10" name="__codelineno-105-10" href="#__codelineno-105-10"></a>
<a id="__codelineno-105-11" name="__codelineno-105-11" href="#__codelineno-105-11"></a>
<a id="__codelineno-105-12" name="__codelineno-105-12" href="#__codelineno-105-12"></a>
<a id="__codelineno-105-13" name="__codelineno-105-13" href="#__codelineno-105-13"></a>name: your-dynakube-name
<a id="__codelineno-105-14" name="__codelineno-105-14" href="#__codelineno-105-14"></a>
<a id="__codelineno-105-15" name="__codelineno-105-15" href="#__codelineno-105-15"></a>
<a id="__codelineno-105-16" name="__codelineno-105-16" href="#__codelineno-105-16"></a>
<a id="__codelineno-105-17" name="__codelineno-105-17" href="#__codelineno-105-17"></a>spec:
<a id="__codelineno-105-18" name="__codelineno-105-18" href="#__codelineno-105-18"></a>
<a id="__codelineno-105-19" name="__codelineno-105-19" href="#__codelineno-105-19"></a>
<a id="__codelineno-105-20" name="__codelineno-105-20" href="#__codelineno-105-20"></a>
<a id="__codelineno-105-21" name="__codelineno-105-21" href="#__codelineno-105-21"></a>enableIstio: true
<a id="__codelineno-105-22" name="__codelineno-105-22" href="#__codelineno-105-22"></a>
<a id="__codelineno-105-23" name="__codelineno-105-23" href="#__codelineno-105-23"></a>
<a id="__codelineno-105-24" name="__codelineno-105-24" href="#__codelineno-105-24"></a>
<a id="__codelineno-105-25" name="__codelineno-105-25" href="#__codelineno-105-25"></a>activeGate:
<a id="__codelineno-105-26" name="__codelineno-105-26" href="#__codelineno-105-26"></a>
<a id="__codelineno-105-27" name="__codelineno-105-27" href="#__codelineno-105-27"></a>
<a id="__codelineno-105-28" name="__codelineno-105-28" href="#__codelineno-105-28"></a>
<a id="__codelineno-105-29" name="__codelineno-105-29" href="#__codelineno-105-29"></a>labels:
<a id="__codelineno-105-30" name="__codelineno-105-30" href="#__codelineno-105-30"></a>
<a id="__codelineno-105-31" name="__codelineno-105-31" href="#__codelineno-105-31"></a>
<a id="__codelineno-105-32" name="__codelineno-105-32" href="#__codelineno-105-32"></a>
<a id="__codelineno-105-33" name="__codelineno-105-33" href="#__codelineno-105-33"></a>sidecar.istio.io/inject: &quot;true&quot;
</code></pre></div>
<p>Restart your ActiveGate pods to trigger the injection.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a>
<a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a>
<a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a>
<a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a>kind: DynaKube
<a id="__codelineno-106-6" name="__codelineno-106-6" href="#__codelineno-106-6"></a>
<a id="__codelineno-106-7" name="__codelineno-106-7" href="#__codelineno-106-7"></a>
<a id="__codelineno-106-8" name="__codelineno-106-8" href="#__codelineno-106-8"></a>
<a id="__codelineno-106-9" name="__codelineno-106-9" href="#__codelineno-106-9"></a>metadata:
<a id="__codelineno-106-10" name="__codelineno-106-10" href="#__codelineno-106-10"></a>
<a id="__codelineno-106-11" name="__codelineno-106-11" href="#__codelineno-106-11"></a>
<a id="__codelineno-106-12" name="__codelineno-106-12" href="#__codelineno-106-12"></a>
<a id="__codelineno-106-13" name="__codelineno-106-13" href="#__codelineno-106-13"></a>name: your-dynakube-name
<a id="__codelineno-106-14" name="__codelineno-106-14" href="#__codelineno-106-14"></a>
<a id="__codelineno-106-15" name="__codelineno-106-15" href="#__codelineno-106-15"></a>
<a id="__codelineno-106-16" name="__codelineno-106-16" href="#__codelineno-106-16"></a>
<a id="__codelineno-106-17" name="__codelineno-106-17" href="#__codelineno-106-17"></a>spec:
<a id="__codelineno-106-18" name="__codelineno-106-18" href="#__codelineno-106-18"></a>
<a id="__codelineno-106-19" name="__codelineno-106-19" href="#__codelineno-106-19"></a>
<a id="__codelineno-106-20" name="__codelineno-106-20" href="#__codelineno-106-20"></a>
<a id="__codelineno-106-21" name="__codelineno-106-21" href="#__codelineno-106-21"></a>enableIstio: true
<a id="__codelineno-106-22" name="__codelineno-106-22" href="#__codelineno-106-22"></a>
<a id="__codelineno-106-23" name="__codelineno-106-23" href="#__codelineno-106-23"></a>
<a id="__codelineno-106-24" name="__codelineno-106-24" href="#__codelineno-106-24"></a>
<a id="__codelineno-106-25" name="__codelineno-106-25" href="#__codelineno-106-25"></a>activeGate:
<a id="__codelineno-106-26" name="__codelineno-106-26" href="#__codelineno-106-26"></a>
<a id="__codelineno-106-27" name="__codelineno-106-27" href="#__codelineno-106-27"></a>
<a id="__codelineno-106-28" name="__codelineno-106-28" href="#__codelineno-106-28"></a>
<a id="__codelineno-106-29" name="__codelineno-106-29" href="#__codelineno-106-29"></a>labels:
<a id="__codelineno-106-30" name="__codelineno-106-30" href="#__codelineno-106-30"></a>
<a id="__codelineno-106-31" name="__codelineno-106-31" href="#__codelineno-106-31"></a>
<a id="__codelineno-106-32" name="__codelineno-106-32" href="#__codelineno-106-32"></a>
<a id="__codelineno-106-33" name="__codelineno-106-33" href="#__codelineno-106-33"></a>istio.io/dataplane-mode: &quot;ambient&quot;
</code></pre></div>
3. Optional You can enable communication from OneAgents outside the mesh to the ActiveGate by deploying the following <code>PeerAuthentication</code> resource:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a>apiVersion: security.istio.io/v1
<a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a>
<a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a>
<a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a>
<a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a>kind: PeerAuthentication
<a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a>
<a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a>
<a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a>
<a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a>metadata:
<a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a>
<a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a>
<a id="__codelineno-107-12" name="__codelineno-107-12" href="#__codelineno-107-12"></a>
<a id="__codelineno-107-13" name="__codelineno-107-13" href="#__codelineno-107-13"></a>name: ag-no-mtls # &lt;yourname&gt;
<a id="__codelineno-107-14" name="__codelineno-107-14" href="#__codelineno-107-14"></a>
<a id="__codelineno-107-15" name="__codelineno-107-15" href="#__codelineno-107-15"></a>
<a id="__codelineno-107-16" name="__codelineno-107-16" href="#__codelineno-107-16"></a>
<a id="__codelineno-107-17" name="__codelineno-107-17" href="#__codelineno-107-17"></a>namespace: dynatrace-operator # &lt;operator namespace&gt;
<a id="__codelineno-107-18" name="__codelineno-107-18" href="#__codelineno-107-18"></a>
<a id="__codelineno-107-19" name="__codelineno-107-19" href="#__codelineno-107-19"></a>
<a id="__codelineno-107-20" name="__codelineno-107-20" href="#__codelineno-107-20"></a>
<a id="__codelineno-107-21" name="__codelineno-107-21" href="#__codelineno-107-21"></a>spec:
<a id="__codelineno-107-22" name="__codelineno-107-22" href="#__codelineno-107-22"></a>
<a id="__codelineno-107-23" name="__codelineno-107-23" href="#__codelineno-107-23"></a>
<a id="__codelineno-107-24" name="__codelineno-107-24" href="#__codelineno-107-24"></a>
<a id="__codelineno-107-25" name="__codelineno-107-25" href="#__codelineno-107-25"></a>mtls:
<a id="__codelineno-107-26" name="__codelineno-107-26" href="#__codelineno-107-26"></a>
<a id="__codelineno-107-27" name="__codelineno-107-27" href="#__codelineno-107-27"></a>
<a id="__codelineno-107-28" name="__codelineno-107-28" href="#__codelineno-107-28"></a>
<a id="__codelineno-107-29" name="__codelineno-107-29" href="#__codelineno-107-29"></a>mode: PERMISSIVE
<a id="__codelineno-107-30" name="__codelineno-107-30" href="#__codelineno-107-30"></a>
<a id="__codelineno-107-31" name="__codelineno-107-31" href="#__codelineno-107-31"></a>
<a id="__codelineno-107-32" name="__codelineno-107-32" href="#__codelineno-107-32"></a>
<a id="__codelineno-107-33" name="__codelineno-107-33" href="#__codelineno-107-33"></a>selector:
<a id="__codelineno-107-34" name="__codelineno-107-34" href="#__codelineno-107-34"></a>
<a id="__codelineno-107-35" name="__codelineno-107-35" href="#__codelineno-107-35"></a>
<a id="__codelineno-107-36" name="__codelineno-107-36" href="#__codelineno-107-36"></a>
<a id="__codelineno-107-37" name="__codelineno-107-37" href="#__codelineno-107-37"></a>matchLabels:
<a id="__codelineno-107-38" name="__codelineno-107-38" href="#__codelineno-107-38"></a>
<a id="__codelineno-107-39" name="__codelineno-107-39" href="#__codelineno-107-39"></a>
<a id="__codelineno-107-40" name="__codelineno-107-40" href="#__codelineno-107-40"></a>
<a id="__codelineno-107-41" name="__codelineno-107-41" href="#__codelineno-107-41"></a>app.kubernetes.io/managed-by: dynatrace-operator
<a id="__codelineno-107-42" name="__codelineno-107-42" href="#__codelineno-107-42"></a>
<a id="__codelineno-107-43" name="__codelineno-107-43" href="#__codelineno-107-43"></a>
<a id="__codelineno-107-44" name="__codelineno-107-44" href="#__codelineno-107-44"></a>
<a id="__codelineno-107-45" name="__codelineno-107-45" href="#__codelineno-107-45"></a>app.kubernetes.io/name: activegate
</code></pre></div>
<p>All communication to the ActiveGate will still be encrypted using HTTPS.</p>
<p>Configure Dynatrace Operator CSI driver with Istio in registry-only mode and custom codeModulesImage</p>
<h3 id="configure-dynatrace-operator-csi-driver-with-istio-in-registry-only-mode">Configure Dynatrace Operator CSI driver with Istio in registry-only mode<a class="headerlink" href="#configure-dynatrace-operator-csi-driver-with-istio-in-registry-only-mode" title="Permanent link">&para;</a></h3>
<p>When using Istio configured to <code>REGISTRY_ONLY</code> mode with the <code>codeModulesImage</code> field for CSI driver, you need to apply additional configuration to ensure proper communication with the image registry.</p>
<h4 id="prerequisites_2">Prerequisites<a class="headerlink" href="#prerequisites_2" title="Permanent link">&para;</a></h4>
<ul>
<li>Istio is installed and configured in <code>REGISTRY_ONLY</code> mode.</li>
<li>Not supported Dynatrace Operator CSI driver is injected with Istio.</li>
<li><code>codeModulesImage</code> field is specified in the CSI driver configuration.</li>
</ul>
<h4 id="configure-serviceentry-for-csi-driver">Configure <code>ServiceEntry</code> for CSI driver<a class="headerlink" href="#configure-serviceentry-for-csi-driver" title="Permanent link">&para;</a></h4>
<ol>
<li>Create a <code>ServiceEntry</code>.</li>
</ol>
<p>The <code>ServiceEntry</code> configuration allows the Dynatrace Operator CSI driver to communicate with the specified image registry. Without this configuration, the image pull process will fail. See an example of <code>ServiceEntry</code> for <code>docker.io</code> below.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a>apiVersion: networking.istio.io/v1
<a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a>
<a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a>
<a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a>
<a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a>kind: ServiceEntry
<a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a>
<a id="__codelineno-108-7" name="__codelineno-108-7" href="#__codelineno-108-7"></a>
<a id="__codelineno-108-8" name="__codelineno-108-8" href="#__codelineno-108-8"></a>
<a id="__codelineno-108-9" name="__codelineno-108-9" href="#__codelineno-108-9"></a>metadata:
<a id="__codelineno-108-10" name="__codelineno-108-10" href="#__codelineno-108-10"></a>
<a id="__codelineno-108-11" name="__codelineno-108-11" href="#__codelineno-108-11"></a>
<a id="__codelineno-108-12" name="__codelineno-108-12" href="#__codelineno-108-12"></a>
<a id="__codelineno-108-13" name="__codelineno-108-13" href="#__codelineno-108-13"></a>name: codemodules-docker-io
<a id="__codelineno-108-14" name="__codelineno-108-14" href="#__codelineno-108-14"></a>
<a id="__codelineno-108-15" name="__codelineno-108-15" href="#__codelineno-108-15"></a>
<a id="__codelineno-108-16" name="__codelineno-108-16" href="#__codelineno-108-16"></a>
<a id="__codelineno-108-17" name="__codelineno-108-17" href="#__codelineno-108-17"></a>namespace: dynatrace
<a id="__codelineno-108-18" name="__codelineno-108-18" href="#__codelineno-108-18"></a>
<a id="__codelineno-108-19" name="__codelineno-108-19" href="#__codelineno-108-19"></a>
<a id="__codelineno-108-20" name="__codelineno-108-20" href="#__codelineno-108-20"></a>
<a id="__codelineno-108-21" name="__codelineno-108-21" href="#__codelineno-108-21"></a>spec:
<a id="__codelineno-108-22" name="__codelineno-108-22" href="#__codelineno-108-22"></a>
<a id="__codelineno-108-23" name="__codelineno-108-23" href="#__codelineno-108-23"></a>
<a id="__codelineno-108-24" name="__codelineno-108-24" href="#__codelineno-108-24"></a>
<a id="__codelineno-108-25" name="__codelineno-108-25" href="#__codelineno-108-25"></a>hosts:
<a id="__codelineno-108-26" name="__codelineno-108-26" href="#__codelineno-108-26"></a>
<a id="__codelineno-108-27" name="__codelineno-108-27" href="#__codelineno-108-27"></a>
<a id="__codelineno-108-28" name="__codelineno-108-28" href="#__codelineno-108-28"></a>
<a id="__codelineno-108-29" name="__codelineno-108-29" href="#__codelineno-108-29"></a>- index.docker.io
<a id="__codelineno-108-30" name="__codelineno-108-30" href="#__codelineno-108-30"></a>
<a id="__codelineno-108-31" name="__codelineno-108-31" href="#__codelineno-108-31"></a>
<a id="__codelineno-108-32" name="__codelineno-108-32" href="#__codelineno-108-32"></a>
<a id="__codelineno-108-33" name="__codelineno-108-33" href="#__codelineno-108-33"></a>- auth.docker.io
<a id="__codelineno-108-34" name="__codelineno-108-34" href="#__codelineno-108-34"></a>
<a id="__codelineno-108-35" name="__codelineno-108-35" href="#__codelineno-108-35"></a>
<a id="__codelineno-108-36" name="__codelineno-108-36" href="#__codelineno-108-36"></a>
<a id="__codelineno-108-37" name="__codelineno-108-37" href="#__codelineno-108-37"></a>- production.cloudflare.docker.com
<a id="__codelineno-108-38" name="__codelineno-108-38" href="#__codelineno-108-38"></a>
<a id="__codelineno-108-39" name="__codelineno-108-39" href="#__codelineno-108-39"></a>
<a id="__codelineno-108-40" name="__codelineno-108-40" href="#__codelineno-108-40"></a>
<a id="__codelineno-108-41" name="__codelineno-108-41" href="#__codelineno-108-41"></a>location: MESH_EXTERNAL
<a id="__codelineno-108-42" name="__codelineno-108-42" href="#__codelineno-108-42"></a>
<a id="__codelineno-108-43" name="__codelineno-108-43" href="#__codelineno-108-43"></a>
<a id="__codelineno-108-44" name="__codelineno-108-44" href="#__codelineno-108-44"></a>
<a id="__codelineno-108-45" name="__codelineno-108-45" href="#__codelineno-108-45"></a>ports:
<a id="__codelineno-108-46" name="__codelineno-108-46" href="#__codelineno-108-46"></a>
<a id="__codelineno-108-47" name="__codelineno-108-47" href="#__codelineno-108-47"></a>
<a id="__codelineno-108-48" name="__codelineno-108-48" href="#__codelineno-108-48"></a>
<a id="__codelineno-108-49" name="__codelineno-108-49" href="#__codelineno-108-49"></a>- name: https-443
<a id="__codelineno-108-50" name="__codelineno-108-50" href="#__codelineno-108-50"></a>
<a id="__codelineno-108-51" name="__codelineno-108-51" href="#__codelineno-108-51"></a>
<a id="__codelineno-108-52" name="__codelineno-108-52" href="#__codelineno-108-52"></a>
<a id="__codelineno-108-53" name="__codelineno-108-53" href="#__codelineno-108-53"></a>number: 443
<a id="__codelineno-108-54" name="__codelineno-108-54" href="#__codelineno-108-54"></a>
<a id="__codelineno-108-55" name="__codelineno-108-55" href="#__codelineno-108-55"></a>
<a id="__codelineno-108-56" name="__codelineno-108-56" href="#__codelineno-108-56"></a>
<a id="__codelineno-108-57" name="__codelineno-108-57" href="#__codelineno-108-57"></a>protocol: HTTPS
<a id="__codelineno-108-58" name="__codelineno-108-58" href="#__codelineno-108-58"></a>
<a id="__codelineno-108-59" name="__codelineno-108-59" href="#__codelineno-108-59"></a>
<a id="__codelineno-108-60" name="__codelineno-108-60" href="#__codelineno-108-60"></a>
<a id="__codelineno-108-61" name="__codelineno-108-61" href="#__codelineno-108-61"></a>resolution: DNS
</code></pre></div>
2. Apply the <code>ServiceEntry</code>.</p>
<p>Save and apply the above configuration to a file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a>kubectl apply -f serviceentry.yaml
</code></pre></div>
<h2 id="metric-scraping-using-istio-metric-merging">Metric scraping using Istio metric merging<a class="headerlink" href="#metric-scraping-using-istio-metric-merging" title="Permanent link">&para;</a></h2>
<p><a href="/docs/observe/infrastructure-observability/container-platform-monitoring/kubernetes-monitoring/monitor-prometheus-metrics" title="Metric ingestion from Prometheus endpoints in Kubernetes, metrics alerts, and monitoring consumption.">Dynatrace metric scraping</a> is done via the ActiveGate and configured via annotations. This results in the ActiveGate connecting directly to the pods on the configured endpoint to scrape the metrics. As stated earlier, this direct connection does not work with strict mTLS.</p>
<p>Istio ambient mode does not support metric merging as it requires a sidecar proxy. However, in ambient mode it's possible for the ActiveGate to directly connect to the pod IPs and scrape the configured targets. Depending on your mTLS policy, this might only be possible for pods inside the mesh if the ActiveGate is also part of the mesh.</p>
<p>Istio provides a feature called <a href="https://dt-url.net/5y43ufx">metric merging√Ø¬ª¬ø</a> that uses the (widely adopted) <code>prometheus.io/...</code> annotations to configure an additional endpoint in the sidecar proxy that serves Istio and Envoy metrics as well as the application metrics defined by the annotations. This newly created endpoint is excepted from mTLS and therefore reachable from outside the mesh despite having mTLS in strict mode.</p>
<p>You can now point the Dynatrace annotations to this endpoint to scrape metrics of Istio and the application. If you don't want to scrape the additional Istio and Envoy metrics, you can exclude them by using the <code>metrics.dynatrace.com/filter</code> annotation and excluding <code>istio_*</code> and <code>envoy_*</code> metrics.</p>
<p>This way, an ActiveGate outside (or inside) the mesh can scrape the metrics from pods inside the mesh.</p>
<p>Example of all required annotations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a>apiVersion: v1
<a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a>
<a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a>
<a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a>
<a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a>kind: Pod
<a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a>
<a id="__codelineno-110-7" name="__codelineno-110-7" href="#__codelineno-110-7"></a>
<a id="__codelineno-110-8" name="__codelineno-110-8" href="#__codelineno-110-8"></a>
<a id="__codelineno-110-9" name="__codelineno-110-9" href="#__codelineno-110-9"></a>metadata:
<a id="__codelineno-110-10" name="__codelineno-110-10" href="#__codelineno-110-10"></a>
<a id="__codelineno-110-11" name="__codelineno-110-11" href="#__codelineno-110-11"></a>
<a id="__codelineno-110-12" name="__codelineno-110-12" href="#__codelineno-110-12"></a>
<a id="__codelineno-110-13" name="__codelineno-110-13" href="#__codelineno-110-13"></a>annotations:
<a id="__codelineno-110-14" name="__codelineno-110-14" href="#__codelineno-110-14"></a>
<a id="__codelineno-110-15" name="__codelineno-110-15" href="#__codelineno-110-15"></a>
<a id="__codelineno-110-16" name="__codelineno-110-16" href="#__codelineno-110-16"></a>
<a id="__codelineno-110-17" name="__codelineno-110-17" href="#__codelineno-110-17"></a>...
<a id="__codelineno-110-18" name="__codelineno-110-18" href="#__codelineno-110-18"></a>
<a id="__codelineno-110-19" name="__codelineno-110-19" href="#__codelineno-110-19"></a>
<a id="__codelineno-110-20" name="__codelineno-110-20" href="#__codelineno-110-20"></a>
<a id="__codelineno-110-21" name="__codelineno-110-21" href="#__codelineno-110-21"></a>metrics.dynatrace.com/path: /stats/prometheus # Endpoint created by Istio
<a id="__codelineno-110-22" name="__codelineno-110-22" href="#__codelineno-110-22"></a>
<a id="__codelineno-110-23" name="__codelineno-110-23" href="#__codelineno-110-23"></a>
<a id="__codelineno-110-24" name="__codelineno-110-24" href="#__codelineno-110-24"></a>
<a id="__codelineno-110-25" name="__codelineno-110-25" href="#__codelineno-110-25"></a>metrics.dynatrace.com/port: &quot;15020&quot; # Port of the Envoy sidecar
<a id="__codelineno-110-26" name="__codelineno-110-26" href="#__codelineno-110-26"></a>
<a id="__codelineno-110-27" name="__codelineno-110-27" href="#__codelineno-110-27"></a>
<a id="__codelineno-110-28" name="__codelineno-110-28" href="#__codelineno-110-28"></a>
<a id="__codelineno-110-29" name="__codelineno-110-29" href="#__codelineno-110-29"></a>metrics.dynatrace.com/scrape: &quot;true&quot;
<a id="__codelineno-110-30" name="__codelineno-110-30" href="#__codelineno-110-30"></a>
<a id="__codelineno-110-31" name="__codelineno-110-31" href="#__codelineno-110-31"></a>
<a id="__codelineno-110-32" name="__codelineno-110-32" href="#__codelineno-110-32"></a>
<a id="__codelineno-110-33" name="__codelineno-110-33" href="#__codelineno-110-33"></a>prometheus.io/path: /metrics # Metric endpoint of the application
<a id="__codelineno-110-34" name="__codelineno-110-34" href="#__codelineno-110-34"></a>
<a id="__codelineno-110-35" name="__codelineno-110-35" href="#__codelineno-110-35"></a>
<a id="__codelineno-110-36" name="__codelineno-110-36" href="#__codelineno-110-36"></a>
<a id="__codelineno-110-37" name="__codelineno-110-37" href="#__codelineno-110-37"></a>prometheus.io/port: &quot;8080&quot; # Metric port of the application
<a id="__codelineno-110-38" name="__codelineno-110-38" href="#__codelineno-110-38"></a>
<a id="__codelineno-110-39" name="__codelineno-110-39" href="#__codelineno-110-39"></a>
<a id="__codelineno-110-40" name="__codelineno-110-40" href="#__codelineno-110-40"></a>
<a id="__codelineno-110-41" name="__codelineno-110-41" href="#__codelineno-110-41"></a>prometheus.io/scrape: &quot;true&quot;
<a id="__codelineno-110-42" name="__codelineno-110-42" href="#__codelineno-110-42"></a>
<a id="__codelineno-110-43" name="__codelineno-110-43" href="#__codelineno-110-43"></a>
<a id="__codelineno-110-44" name="__codelineno-110-44" href="#__codelineno-110-44"></a>
<a id="__codelineno-110-45" name="__codelineno-110-45" href="#__codelineno-110-45"></a>...
</code></pre></div>
<p>Keep in mind that Istio will rewrite the <code>prometheus.io/...</code> annotations to the generated endpoint and port when applying the above pod. That means that the resulting pod in the cluster will not match the applied YAML.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<p>Istio service registry</p>
<p>You can get all services known to Istio (a service registry) by executing the following command inside the <code>pilot</code> container of the <code>istiod</code> pod.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a>curl localhost:8080/debug/registryz
</code></pre></div>
<p>This dumps all known services as JSON. It should contain entries for the Dynatrace tenant and ActiveGate in the cluster.</p>
<p>If not, check if <code>enableIstio</code> is set to <code>true</code> in the DynaKube.</p>
<h2 id="related-topics_5">Related topics<a class="headerlink" href="#related-topics_5" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/opentelemetry/integrations/istio" title="Learn how to configure Istio on Kubernetes to deploy pre-configured proxy services for OpenTelemetry tracing.">Configure OpenTelemetry tracing with Istio</a></li>
</ul>
<hr />
<h2 id="source-instrument-nginxmd">Source: instrument-nginx.md<a class="headerlink" href="#source-instrument-nginxmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Instrument ingress-nginx
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/instrument-nginx
scraped: 2026-02-16T21:12:45.448003</p>
<hr />
<h1 id="instrument-ingress-nginx">Instrument ingress-nginx<a class="headerlink" href="#instrument-ingress-nginx" title="Permanent link">&para;</a></h1>
<h1 id="instrument-ingress-nginx_1">Instrument ingress-nginx<a class="headerlink" href="#instrument-ingress-nginx_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>1-min read</li>
<li>Published Sep 02, 2021</li>
</ul>
<p>The instructions below are relevant only for the <a href="https://dt-url.net/xr03xh3">official Kubernetes ingress controller implementation from Google√Ø¬ª¬ø</a>.</p>
<ul>
<li>Derivatives from the official project, such as the <a href="https://dt-url.net/ns03xjt">Bitnami ingress controller√Ø¬ª¬ø</a>, are not supported. However, you may instrument them manually by using the <a href="/docs/ingest-from/technology-support/application-software/nginx/manual-runtime-instrumentation" title="Learn how to force instrumenting patched/non-standard NGINX binaries during runtime.">Manual runtime instrumentation</a> for NGINX.</li>
<li>The <a href="https://dt-url.net/ph43xrd">ingress controller implementation from F5 NGINX√Ø¬ª¬ø</a> can be instrumented automatically; no manual steps are required.</li>
</ul>
<p>The NGINX process of the official Kubernetes ingress-nginx controller container image can't be instrumented automatically. To manually instrument ingress-nginx on Kubernetes, follow the instructions below.</p>
<h2 id="prerequisites_3">Prerequisites<a class="headerlink" href="#prerequisites_3" title="Permanent link">&para;</a></h2>
<p>ARM64 architecture is not supported.</p>
<ul>
<li>OneAgent version 1.227+</li>
<li>The pod name must contain the substring <code>ingress-nginx-</code> to ensure proper instrumentation of the NGINX binary. We recommend to maintain the default pod name <code>ingress-nginx-controller</code>.</li>
</ul>
<h2 id="instrument-kubernetes-ingress-nginx">Instrument Kubernetes ingress-nginx<a class="headerlink" href="#instrument-kubernetes-ingress-nginx" title="Permanent link">&para;</a></h2>
<p>To instrument ingress-nginx on Kubernetes, you need to load the NGINX module manually via a ConfigMap.</p>
<p>Ensure that OneAgent is running and capable of instrumenting the ingress-nginx containers when applying changes to the ingress-nginx ConfigMap. If these conditions are not met, NGINX will fail to start.</p>
<ol>
<li>Edit the ConfigMap.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a>kubectl edit configmap ingress-nginx-controller
</code></pre></div>
2. Add the following value to the <code>main-snippet</code> key (below <code>data</code>).</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a>data:
<a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a>
<a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a>
<a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a>
<a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a>main-snippet: load_module /opt/dynatrace/oneagent/agent/bin/current/linux-musl-x86-64/liboneagentnginx.so;
</code></pre></div>
<p>For <code>cloudNativeFullStack</code> and <code>applicationMonitoring</code> deployments, the path becomes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a>data:
<a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a>
<a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a>
<a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a>
<a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a>main-snippet: load_module /opt/dynatrace/oneagent-paas/agent/bin/current/linux-musl-x86-64/liboneagentnginx.so;
</code></pre></div>
<h2 id="verify-your-configuration">Verify your configuration<a class="headerlink" href="#verify-your-configuration" title="Permanent link">&para;</a></h2>
<p>If your pod isn't up and running, make sure that it hasn't exceeded either of the following:</p>
<ul>
<li>Its resource quota (especially for memory).</li>
<li>The initial liveness/readiness probe timeouts. You might need to increase <code>initialDelaySeconds</code> for these probes.</li>
</ul>
<hr />
<h2 id="source-k8s-api-monitoringmd">Source: k8s-api-monitoring.md<a class="headerlink" href="#source-k8s-api-monitoringmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Kubernetes API Monitoring
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/k8s-api-monitoring
scraped: 2026-02-16T21:17:23.705849</p>
<hr />
<h1 id="kubernetes-api-monitoring">Kubernetes API Monitoring<a class="headerlink" href="#kubernetes-api-monitoring" title="Permanent link">&para;</a></h1>
<h1 id="kubernetes-api-monitoring_1">Kubernetes API Monitoring<a class="headerlink" href="#kubernetes-api-monitoring_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>8-min read</li>
<li>Updated on Dec 09, 2025</li>
</ul>
<p>Dynatrace obtains information about Kubernetes entities and metadata by querying the Kubernetes API. This information is used for <a href="/docs/observe/infrastructure-observability/container-platform-monitoring/kubernetes-monitoring/alert-on-kubernetes-issues" title="Configure alerts at a Kubernetes/OpenShift cluster, node, namespace, or workload level.">out-of-the-box alerting for Kubernetes</a> and to provide all observability signals in a proper Kubernetes context within the Dynatrace platform, for example, by creating relationships among applications, (micro-)services, databases, and Kubernetes entities such as pods, namespaces, and nodes.</p>
<p>Dynatrace Operator manages the lifecycle of all Dynatrace components within a Kubernetes cluster and can be configured by deploying a DynaKube Custom Resource. Dynatrace ActiveGate√¢¬Ä¬îthe Dynatrace component required to monitor the Kubernetes API√¢¬Ä¬îoffers a capability for Kubernetes API Monitoring.</p>
<p>Follow the steps below to enable Kubernetes API monitoring.</p>
<p>[<img alt="Step 1" src="https://dt-cdn.net/images/step-1-086e22066c.svg" title="Step 1" /></p>
<p><strong>Install Dynatrace Operator</strong>](#install-dto)[<img alt="Step 2" src="https://dt-cdn.net/images/step-2-1a1384627e.svg" title="Step 2" /></p>
<p><strong>Configure DynaKube</strong>](#configure-dynakube)[<img alt="Step 3" src="https://dt-cdn.net/images/step-3-350cf6c19a.svg" title="Step 3" /></p>
<p><strong>Connect ActiveGate with Kubernetes API</strong>](#connect-ag)</p>
<h2 id="step-1-install-dynatrace-operator">Step 1 Install Dynatrace Operator<a class="headerlink" href="#step-1-install-dynatrace-operator" title="Permanent link">&para;</a></h2>
<p><a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">Install Dynatrace Operator in any deployment mode</a></p>
<h2 id="step-2-configure-dynakube">Step 2 Configure DynaKube<a class="headerlink" href="#step-2-configure-dynakube" title="Permanent link">&para;</a></h2>
<p>Configure the <strong>ActiveGate</strong> values of the DynaKube according to the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters#ag" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">list of parameters</a> and add <code>kubernetes-monitoring</code> to the ActiveGate capabilities.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a>...
<a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a>
<a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a>
<a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a>
<a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a>activeGate:
<a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a>
<a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a>
<a id="__codelineno-115-8" name="__codelineno-115-8" href="#__codelineno-115-8"></a>
<a id="__codelineno-115-9" name="__codelineno-115-9" href="#__codelineno-115-9"></a>capabilities:
<a id="__codelineno-115-10" name="__codelineno-115-10" href="#__codelineno-115-10"></a>
<a id="__codelineno-115-11" name="__codelineno-115-11" href="#__codelineno-115-11"></a>
<a id="__codelineno-115-12" name="__codelineno-115-12" href="#__codelineno-115-12"></a>
<a id="__codelineno-115-13" name="__codelineno-115-13" href="#__codelineno-115-13"></a>- routing
<a id="__codelineno-115-14" name="__codelineno-115-14" href="#__codelineno-115-14"></a>
<a id="__codelineno-115-15" name="__codelineno-115-15" href="#__codelineno-115-15"></a>
<a id="__codelineno-115-16" name="__codelineno-115-16" href="#__codelineno-115-16"></a>
<a id="__codelineno-115-17" name="__codelineno-115-17" href="#__codelineno-115-17"></a>- kubernetes-monitoring
<a id="__codelineno-115-18" name="__codelineno-115-18" href="#__codelineno-115-18"></a>
<a id="__codelineno-115-19" name="__codelineno-115-19" href="#__codelineno-115-19"></a>
<a id="__codelineno-115-20" name="__codelineno-115-20" href="#__codelineno-115-20"></a>
<a id="__codelineno-115-21" name="__codelineno-115-21" href="#__codelineno-115-21"></a>...
</code></pre></div>
<h2 id="step-3-connect-activegate-with-kubernetes-api">Step 3 Connect ActiveGate with Kubernetes API<a class="headerlink" href="#step-3-connect-activegate-with-kubernetes-api" title="Permanent link">&para;</a></h2>
<p>You have two options:</p>
<ul>
<li>Connect the containerized ActiveGate to a local Kubernetes API endpoint.</li>
<li>Connect the containerized ActiveGate to the public Kubernetes API URL.</li>
</ul>
<p>See below for instructions for both options.</p>
<h3 id="connect-to-a-local-kubernetes-api-endpoint">Connect to a local Kubernetes API endpoint<a class="headerlink" href="#connect-to-a-local-kubernetes-api-endpoint" title="Permanent link">&para;</a></h3>
<p>You can enable monitoring by connecting a containerized ActiveGate to a local Kubernetes API endpoint.</p>
<p>There are two ways to connect to the local Kubernetes API endpoint:</p>
<ul>
<li>Recommended <a href="#auto">Let Dynatrace Operator automatically handle the connection</a></li>
<li><a href="#manual">Configure the connection manually</a></li>
</ul>
<p>See below for details on both methods.</p>
<p>Connect automatically</p>
<p>Connect manually</p>
<p>This feature flag is deprecated and enabled by default starting from Dynatrace Operator version 0.13.0.</p>
<p>To connect automatically to the local Kubernetes API endpoint</p>
<ol>
<li>Make sure to enable the <strong>Read entities</strong>, <strong>Read settings</strong>, and <strong>Write settings</strong> permissions (API v2) for your access token (see <a href="/docs/ingest-from/setup-on-k8s/deployment/tokens-permissions" title="Configure tokens and permissions to monitor your Kubernetes cluster">Access tokens and permissions</a>).</li>
<li>Make sure that you have the <code>kubernetes-monitoring</code> capability enabled in your DynaKube custom resource.</li>
<li>Add the following annotation (see example below).</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a>
<a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a>
<a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a>
<a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a>kind: DynaKube
<a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a>
<a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a>
<a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a>
<a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a>metadata:
<a id="__codelineno-116-10" name="__codelineno-116-10" href="#__codelineno-116-10"></a>
<a id="__codelineno-116-11" name="__codelineno-116-11" href="#__codelineno-116-11"></a>
<a id="__codelineno-116-12" name="__codelineno-116-12" href="#__codelineno-116-12"></a>
<a id="__codelineno-116-13" name="__codelineno-116-13" href="#__codelineno-116-13"></a>name: dynakube
<a id="__codelineno-116-14" name="__codelineno-116-14" href="#__codelineno-116-14"></a>
<a id="__codelineno-116-15" name="__codelineno-116-15" href="#__codelineno-116-15"></a>
<a id="__codelineno-116-16" name="__codelineno-116-16" href="#__codelineno-116-16"></a>
<a id="__codelineno-116-17" name="__codelineno-116-17" href="#__codelineno-116-17"></a>namespace: dynatrace
<a id="__codelineno-116-18" name="__codelineno-116-18" href="#__codelineno-116-18"></a>
<a id="__codelineno-116-19" name="__codelineno-116-19" href="#__codelineno-116-19"></a>
<a id="__codelineno-116-20" name="__codelineno-116-20" href="#__codelineno-116-20"></a>
<a id="__codelineno-116-21" name="__codelineno-116-21" href="#__codelineno-116-21"></a>annotations:
<a id="__codelineno-116-22" name="__codelineno-116-22" href="#__codelineno-116-22"></a>
<a id="__codelineno-116-23" name="__codelineno-116-23" href="#__codelineno-116-23"></a>
<a id="__codelineno-116-24" name="__codelineno-116-24" href="#__codelineno-116-24"></a>
<a id="__codelineno-116-25" name="__codelineno-116-25" href="#__codelineno-116-25"></a>feature.dynatrace.com/automatic-kubernetes-api-monitoring: &quot;true&quot;
<a id="__codelineno-116-26" name="__codelineno-116-26" href="#__codelineno-116-26"></a>
<a id="__codelineno-116-27" name="__codelineno-116-27" href="#__codelineno-116-27"></a>
<a id="__codelineno-116-28" name="__codelineno-116-28" href="#__codelineno-116-28"></a>
<a id="__codelineno-116-29" name="__codelineno-116-29" href="#__codelineno-116-29"></a>spec:
<a id="__codelineno-116-30" name="__codelineno-116-30" href="#__codelineno-116-30"></a>
<a id="__codelineno-116-31" name="__codelineno-116-31" href="#__codelineno-116-31"></a>
<a id="__codelineno-116-32" name="__codelineno-116-32" href="#__codelineno-116-32"></a>
<a id="__codelineno-116-33" name="__codelineno-116-33" href="#__codelineno-116-33"></a>...
<a id="__codelineno-116-34" name="__codelineno-116-34" href="#__codelineno-116-34"></a>
<a id="__codelineno-116-35" name="__codelineno-116-35" href="#__codelineno-116-35"></a>
<a id="__codelineno-116-36" name="__codelineno-116-36" href="#__codelineno-116-36"></a>
<a id="__codelineno-116-37" name="__codelineno-116-37" href="#__codelineno-116-37"></a>activeGate:
<a id="__codelineno-116-38" name="__codelineno-116-38" href="#__codelineno-116-38"></a>
<a id="__codelineno-116-39" name="__codelineno-116-39" href="#__codelineno-116-39"></a>
<a id="__codelineno-116-40" name="__codelineno-116-40" href="#__codelineno-116-40"></a>
<a id="__codelineno-116-41" name="__codelineno-116-41" href="#__codelineno-116-41"></a>capabilities:
<a id="__codelineno-116-42" name="__codelineno-116-42" href="#__codelineno-116-42"></a>
<a id="__codelineno-116-43" name="__codelineno-116-43" href="#__codelineno-116-43"></a>
<a id="__codelineno-116-44" name="__codelineno-116-44" href="#__codelineno-116-44"></a>
<a id="__codelineno-116-45" name="__codelineno-116-45" href="#__codelineno-116-45"></a>- kubernetes-monitoring
</code></pre></div>
<p>After adding this annotation, the name of the cluster displayed in Dynatrace will be the same as the DynaKube custom resource where the annotation is configured. You can change the cluster name displayed in Dynatrace by adding the <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring-cluster-name: "custom-cluster-name"</code> annotation as well.</p>
<p>Example with custom cluster name:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a>
<a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a>
<a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a>
<a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a>kind: DynaKube
<a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a>
<a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a>
<a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a>
<a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a>metadata:
<a id="__codelineno-117-10" name="__codelineno-117-10" href="#__codelineno-117-10"></a>
<a id="__codelineno-117-11" name="__codelineno-117-11" href="#__codelineno-117-11"></a>
<a id="__codelineno-117-12" name="__codelineno-117-12" href="#__codelineno-117-12"></a>
<a id="__codelineno-117-13" name="__codelineno-117-13" href="#__codelineno-117-13"></a>name: dynakube
<a id="__codelineno-117-14" name="__codelineno-117-14" href="#__codelineno-117-14"></a>
<a id="__codelineno-117-15" name="__codelineno-117-15" href="#__codelineno-117-15"></a>
<a id="__codelineno-117-16" name="__codelineno-117-16" href="#__codelineno-117-16"></a>
<a id="__codelineno-117-17" name="__codelineno-117-17" href="#__codelineno-117-17"></a>namespace: dynatrace
<a id="__codelineno-117-18" name="__codelineno-117-18" href="#__codelineno-117-18"></a>
<a id="__codelineno-117-19" name="__codelineno-117-19" href="#__codelineno-117-19"></a>
<a id="__codelineno-117-20" name="__codelineno-117-20" href="#__codelineno-117-20"></a>
<a id="__codelineno-117-21" name="__codelineno-117-21" href="#__codelineno-117-21"></a>annotations:
<a id="__codelineno-117-22" name="__codelineno-117-22" href="#__codelineno-117-22"></a>
<a id="__codelineno-117-23" name="__codelineno-117-23" href="#__codelineno-117-23"></a>
<a id="__codelineno-117-24" name="__codelineno-117-24" href="#__codelineno-117-24"></a>
<a id="__codelineno-117-25" name="__codelineno-117-25" href="#__codelineno-117-25"></a>feature.dynatrace.com/automatic-kubernetes-api-monitoring: &quot;true&quot;
<a id="__codelineno-117-26" name="__codelineno-117-26" href="#__codelineno-117-26"></a>
<a id="__codelineno-117-27" name="__codelineno-117-27" href="#__codelineno-117-27"></a>
<a id="__codelineno-117-28" name="__codelineno-117-28" href="#__codelineno-117-28"></a>
<a id="__codelineno-117-29" name="__codelineno-117-29" href="#__codelineno-117-29"></a>feature.dynatrace.com/automatic-kubernetes-api-monitoring-cluster-name: &quot;custom-cluster-name&quot;
<a id="__codelineno-117-30" name="__codelineno-117-30" href="#__codelineno-117-30"></a>
<a id="__codelineno-117-31" name="__codelineno-117-31" href="#__codelineno-117-31"></a>
<a id="__codelineno-117-32" name="__codelineno-117-32" href="#__codelineno-117-32"></a>
<a id="__codelineno-117-33" name="__codelineno-117-33" href="#__codelineno-117-33"></a>spec:
<a id="__codelineno-117-34" name="__codelineno-117-34" href="#__codelineno-117-34"></a>
<a id="__codelineno-117-35" name="__codelineno-117-35" href="#__codelineno-117-35"></a>
<a id="__codelineno-117-36" name="__codelineno-117-36" href="#__codelineno-117-36"></a>
<a id="__codelineno-117-37" name="__codelineno-117-37" href="#__codelineno-117-37"></a>...
<a id="__codelineno-117-38" name="__codelineno-117-38" href="#__codelineno-117-38"></a>
<a id="__codelineno-117-39" name="__codelineno-117-39" href="#__codelineno-117-39"></a>
<a id="__codelineno-117-40" name="__codelineno-117-40" href="#__codelineno-117-40"></a>
<a id="__codelineno-117-41" name="__codelineno-117-41" href="#__codelineno-117-41"></a>activeGate:
<a id="__codelineno-117-42" name="__codelineno-117-42" href="#__codelineno-117-42"></a>
<a id="__codelineno-117-43" name="__codelineno-117-43" href="#__codelineno-117-43"></a>
<a id="__codelineno-117-44" name="__codelineno-117-44" href="#__codelineno-117-44"></a>
<a id="__codelineno-117-45" name="__codelineno-117-45" href="#__codelineno-117-45"></a>capabilities:
<a id="__codelineno-117-46" name="__codelineno-117-46" href="#__codelineno-117-46"></a>
<a id="__codelineno-117-47" name="__codelineno-117-47" href="#__codelineno-117-47"></a>
<a id="__codelineno-117-48" name="__codelineno-117-48" href="#__codelineno-117-48"></a>
<a id="__codelineno-117-49" name="__codelineno-117-49" href="#__codelineno-117-49"></a>- kubernetes-monitoring
</code></pre></div>
4. Apply your configuration.</p>
<p>To disable the configuration, remove the annotation.</p>
<p>To connect to a local Kubernetes API endpoint manually, you only need to provide the unique Kubernetes cluster ID (the uuid of the kube-system namespace). The containerized ActiveGate then identifies the unique cluster ID and sends it over to Dynatrace.</p>
<h4 id="step-1-get-the-kubernetes-cluster-id">Step 1 Get the Kubernetes cluster ID<a class="headerlink" href="#step-1-get-the-kubernetes-cluster-id" title="Permanent link">&para;</a></h4>
<p>Run the command below and grab the UID from the output.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a>kubectl get namespace kube-system -o jsonpath=&#39;{.metadata.uid}&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a>oc get namespace kube-system -o jsonpath=&#39;{.metadata.uid}&#39;
</code></pre></div>
<h4 id="step-2-provide-the-kubernetes-cluster-id-in-dynatrace">Step 2 Provide the Kubernetes cluster ID in Dynatrace<a class="headerlink" href="#step-2-provide-the-kubernetes-cluster-id-in-dynatrace" title="Permanent link">&para;</a></h4>
<ol>
<li>Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong>.</li>
<li>Select <strong>Connect manually</strong>.</li>
<li>On the Kubernetes cluster connection settings page, provide a <strong>Name</strong>, and then turn on <strong>Connect containerized ActiveGate to local Kubernetes API endpoint</strong>.</li>
<li>For <strong>Kubernetes cluster ID</strong>, enter the UID obtained earlier.</li>
<li>Select <strong>Save changes</strong> to save your configuration.</li>
</ol>
<p>You can save your configuration even if the ActiveGate isn't ready to connect, and finish the configuration later. To verify if it's ready, select <strong>Test configuration</strong>.</p>
<h3 id="connect-to-the-public-kubernetes-api">Connect to the public Kubernetes API<a class="headerlink" href="#connect-to-the-public-kubernetes-api" title="Permanent link">&para;</a></h3>
<p>To connect to the public Kubernetes API, follow the instructions that apply to your Kubernetes version:</p>
<ul>
<li><a href="#k8s-new">Kubernetes version 1.24+</a></li>
<li><a href="#k8s-old">Kubernetes version earlier than 1.24</a></li>
</ul>
<h4 id="kubernetes-version-124">Kubernetes version 1.24+<a class="headerlink" href="#kubernetes-version-124" title="Permanent link">&para;</a></h4>
<ol>
<li>Get the Kubernetes API URL.</li>
</ol>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a>kubectl config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a>oc config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
<p>If you set <code>enableIstio</code> to <code>true</code> in the <a href="https://dt-url.net/dynakube-samples">DynaKube custom resource√Ø¬ª¬ø</a>, use the command below to get the Kubernetes API URL:</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a>kubectl -n default get svc/kubernetes -o jsonpath=&#39;https://{.spec.clusterIP}&#39;
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a>oc -n default get svc/kubernetes -o jsonpath=&#39;https://{.spec.clusterIP}&#39;
</code></pre></div>
2. Create a file named <code>token-secret.yaml</code> with the following content:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a>apiVersion: v1
<a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a>
<a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a>
<a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a>
<a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a>kind: Secret
<a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a>
<a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a>
<a id="__codelineno-124-8" name="__codelineno-124-8" href="#__codelineno-124-8"></a>
<a id="__codelineno-124-9" name="__codelineno-124-9" href="#__codelineno-124-9"></a>metadata:
<a id="__codelineno-124-10" name="__codelineno-124-10" href="#__codelineno-124-10"></a>
<a id="__codelineno-124-11" name="__codelineno-124-11" href="#__codelineno-124-11"></a>
<a id="__codelineno-124-12" name="__codelineno-124-12" href="#__codelineno-124-12"></a>
<a id="__codelineno-124-13" name="__codelineno-124-13" href="#__codelineno-124-13"></a>name: dynatrace-activegate
<a id="__codelineno-124-14" name="__codelineno-124-14" href="#__codelineno-124-14"></a>
<a id="__codelineno-124-15" name="__codelineno-124-15" href="#__codelineno-124-15"></a>
<a id="__codelineno-124-16" name="__codelineno-124-16" href="#__codelineno-124-16"></a>
<a id="__codelineno-124-17" name="__codelineno-124-17" href="#__codelineno-124-17"></a>annotations:
<a id="__codelineno-124-18" name="__codelineno-124-18" href="#__codelineno-124-18"></a>
<a id="__codelineno-124-19" name="__codelineno-124-19" href="#__codelineno-124-19"></a>
<a id="__codelineno-124-20" name="__codelineno-124-20" href="#__codelineno-124-20"></a>
<a id="__codelineno-124-21" name="__codelineno-124-21" href="#__codelineno-124-21"></a>kubernetes.io/service-account.name: &quot;dynatrace-activegate&quot;
<a id="__codelineno-124-22" name="__codelineno-124-22" href="#__codelineno-124-22"></a>
<a id="__codelineno-124-23" name="__codelineno-124-23" href="#__codelineno-124-23"></a>
<a id="__codelineno-124-24" name="__codelineno-124-24" href="#__codelineno-124-24"></a>
<a id="__codelineno-124-25" name="__codelineno-124-25" href="#__codelineno-124-25"></a>type: kubernetes.io/service-account-token
</code></pre></div>
3. Apply the file to create the <code>dynatrace-activegate</code> secret.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a>kubectl apply -n dynatrace -f token-secret.yaml
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a>oc apply -n dynatrace -f token-secret.yaml
</code></pre></div>
4. Get the bearer token.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a>kubectl get secret dynatrace-activegate -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a>oc get secret dynatrace-activegate -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
5. Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong> and select <strong>Connect manually</strong>.
6. On the Kubernetes cluster connection settings page, provide a <strong>Name</strong>, the <strong>Kubernetes API URL</strong>, and the <strong>Bearer token</strong> for the Kubernetes cluster.
7. Select <strong>Save changes</strong>.</p>
<h4 id="kubernetes-version-earlier-than-124">Kubernetes version earlier than 1.24<a class="headerlink" href="#kubernetes-version-earlier-than-124" title="Permanent link">&para;</a></h4>
<ol>
<li>Get the Kubernetes API URL.</li>
</ol>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a>kubectl config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a>oc config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
<p>If you set <code>enableIstio</code> to <code>true</code> in the <a href="https://dt-url.net/dynakube-samples">DynaKube custom resource√Ø¬ª¬ø</a>, use the command below to get the Kubernetes API URL:</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a>kubectl -n default get svc/kubernetes -o jsonpath=&#39;https://{.spec.clusterIP}&#39;
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a>oc -n default get svc/kubernetes -o jsonpath=&#39;https://{.spec.clusterIP}&#39;
</code></pre></div>
2. Get the bearer token.</p>
<p>Kubernetes</p>
<p>OpenShift v3.x</p>
<p>OpenShift v4.x</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a>kubectl get secret $(kubectl get sa dynatrace-activegate -o jsonpath=&#39;{.secrets[0].name}&#39; -n dynatrace) -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a>oc get secret $(oc get sa dynatrace-activegate -o jsonpath=&#39;{.secrets[0].name}&#39; -n dynatrace) -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a>oc get secret $(oc get sa dynatrace-activegate -o jsonpath=&#39;{.secrets[1].name}&#39; -n dynatrace) -o jsonpath=&#39;{.data.token}&#39; -n dynatrace | base64 --decode
</code></pre></div>
<p>Special instructions for Rancher distributions to get the API URL and the bearer token</p>
<p>For <strong>Rancher distributions</strong> of Kubernetes, you need to use the bearer token and API URL <strong>of the Rancher server</strong>, because this server manages and secures traffic to the Kubernetes API server. Follow the steps below.</p>
<ol>
<li>
<p>Get the <strong>Kubernetes API URL</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a>kubectl config view --minify -o jsonpath=&#39;{.clusters[0].cluster.server}&#39;
</code></pre></div>
   2. Configure a user.</p>
<p>In the Rancher web UI, either create a new user or use an existing user to associate with the token. We recommend creating a new user.
   3. Set permissions.</p>
<p>Make sure the user has either <strong>Owner</strong> or <strong>Custom</strong> permissions to the cluster you want to monitor.</p>
<p><strong>Recommended:</strong> select <strong>Custom</strong> permissions, and be sure to select these two roles: <strong>View all Projects</strong> and <strong>View Nodes</strong>.
   4. Create an API key.</p>
<p>Go to <strong>API &amp; Keys</strong> and create a key either for your specific account (enter your cluster name) or for all clusters (enter <strong>No scope</strong>). For security reasons, we recommend selecting the first option.</p>
<p>Newly created keys display four fields. Make sure to use the content of the field called <strong>Bearer token</strong> to set up the connection to the Kubernetes API described in the next section.
3. Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong> and select <strong>Connect manually</strong>.
4. On the Kubernetes cluster connection settings page, provide a <strong>Name</strong>, the <strong>Kubernetes API URL</strong>, and the <strong>Bearer token</strong> for the Kubernetes cluster.</p>
</li>
</ol>
<p>For Rancher distributions, you need the bearer token that was created in the Rancher web UI, as described in <strong>Special instructions for Rancher distributions to get the API URL and the bearer token</strong> above.
5. Select <strong>Save changes</strong>.</p>
<h2 id="other-options">Other Options<a class="headerlink" href="#other-options" title="Permanent link">&para;</a></h2>
<ul>
<li>If you can't use Dynatrace Operator, you can <a href="/docs/ingest-from/setup-on-k8s/deployment/other/ag-statefulset" title="Install and configure ActiveGate in Kubernetes as a StatefulSet.">deploy ActiveGate directly as a StatefulSet</a> (not recommended).</li>
<li>If you want to monitor several Kubernetes clusters with one ActiveGate and don't need to separate networks for administrative or operational traffic, you can <a href="/docs/ingest-from/setup-on-k8s/deployment/other/ag-in-vm" title="Set up and configure an ActiveGate for Kubernetes platform monitoring in a virtual machine.">install an ActiveGate on a virtual machine using a conventional installer</a>.</li>
</ul>
<p>Dynatrace recommends to use the containerized ActiveGate for Kubernetes API monitoring</p>
<h2 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h2>
<p>Can I change settings for Kubernetes API monitoring?</p>
<p>You can change Kubernetes cluster connection and monitoring settings at any time from your Kubernetes cluster details page.</p>
<ol>
<li>Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong>.</li>
<li>Find your Kubernetes cluster, and then select <strong>Actions</strong> &gt; <strong>Settings</strong>.</li>
<li>Adjust your settings, and then select <strong>Save changes</strong>.</li>
</ol>
<p>How can I delete the Kubernetes Platform Monitoring configuration for a Kubernetes cluster?</p>
<p>To delete the connection to a local Kubernetes API endpoint</p>
<ol>
<li>Go to <img alt="Kubernetes" src="https://dt-cdn.net/images/kubernetes-512-90e7075764.png" title="Kubernetes" /> <strong>Kubernetes Classic</strong>.</li>
<li>Find your Kubernetes cluster, and then select <strong>Actions</strong> &gt; <strong>Settings</strong>.</li>
<li>Select <strong>Use defaults</strong>, and then select <strong>Save changes</strong>.</li>
</ol>
<p>When does the ActiveGate get updated?</p>
<p>ActiveGate is updated automatically on pod restart whenever there is a new version available, unless the image version is specified in <code>cr.yaml</code>.</p>
<hr />
<h2 id="source-ag-resource-limitsmd">Source: ag-resource-limits.md<a class="headerlink" href="#source-ag-resource-limitsmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Sizing guide for Dynatrace ActiveGates in the Kubernetes monitoring use-case
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/resource-management/ag-resource-limits
scraped: 2026-02-17T05:08:42.141470</p>
<hr />
<h1 id="sizing-guide-for-dynatrace-activegates-in-the-kubernetes-monitoring-use-case">Sizing guide for Dynatrace ActiveGates in the Kubernetes monitoring use-case<a class="headerlink" href="#sizing-guide-for-dynatrace-activegates-in-the-kubernetes-monitoring-use-case" title="Permanent link">&para;</a></h1>
<h1 id="sizing-guide-for-dynatrace-activegates-in-the-kubernetes-monitoring-use-case_1">Sizing guide for Dynatrace ActiveGates in the Kubernetes monitoring use-case<a class="headerlink" href="#sizing-guide-for-dynatrace-activegates-in-the-kubernetes-monitoring-use-case_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>5-min read</li>
<li>Updated on Jan 26, 2026</li>
</ul>
<p>Setting appropriate resource requests (and limits, when needed) keeps Dynatrace ActiveGate instances stable and predictable. This guide details sizing methods based on scale and workload.</p>
<p>A stable, healthy ActiveGate ensures continuous gap√¢¬Ä¬ëfree monitoring data.</p>
<h2 id="understanding-the-sizing-drivers">Understanding the sizing drivers<a class="headerlink" href="#understanding-the-sizing-drivers" title="Permanent link">&para;</a></h2>
<p>Actual required resources increase with:</p>
<ul>
<li><strong>Number of pods</strong>√¢¬Ä¬ìThe primary sizing driver is the number of monitored pods. The resource consumption (CPU and memory) for Dynatrace ActiveGate components scales with the number of pods primarily due to increased data processing and storage needs. As the number of monitored pods grows, the ActiveGate handles more entity data, events, and metrics, resulting in higher CPU load for ingestion and processing, as well as increased memory for caching pod-related information. This is the primary sizing driver, with consumption scaling proportionally to pod count.</li>
<li><strong>Prometheus metrics volume</strong>√¢¬Ä¬ìThe number of Prometheus annotated pods directly correlates with increased resource requirements for Dynatrace ActiveGate, primarily through higher CPU consumption. As the count of annotated pods rises, the volume of scraped metrics grows, demanding more CPU cycles for collection, aggregation, and forwarding tasks. Memory impact is secondary, as metrics are forwarded to the Dynatrace tenant without long-term storage on the ActiveGate, though it scales proportionally with peak ingest rates.</li>
<li><strong>Number of nodes</strong>√¢¬Ä¬ìThe resource consumption (CPU and memory) for Dynatrace ActiveGate components scales with the number of nodes primarily due to increased monitoring overhead and load from node-level system pods. As the node count grows, the ActiveGate must handle more system-level data collection, entity processing, and event ingestion, leading to higher computational demands. This is a secondary driver compared to the number of pods, but it contributes proportionally to overall resource needs, especially in larger clusters where node-level monitoring adds cumulative load.</li>
<li><strong>Number of clusters monitored</strong>√¢¬Ä¬ìA single ActiveGate can monitor multiple clusters, however, this deployment pattern is <strong>not recommended</strong>. Monitoring multiple clusters with a single ActiveGate increases both CPU and memory requirements proportionally for each additional cluster, as the ActiveGate must handle more data processing, entity management, and event ingestion across clusters. This can lead to resource contention, higher risk of throttling or OOM restarts, and potential gaps in monitoring data.</li>
</ul>
<p><strong>We recommend a setup where one containerized ActiveGate is monitoring one Kubernetes cluster.</strong></p>
<p>This ensures optimal performance and reliability. This approach simplifies troubleshooting, avoids resource contention, and ensures predictable scaling as each ActiveGate handles only one cluster√¢¬Ä¬ôs workload.</p>
<h2 id="signs-of-an-unhealthy-activegate">Signs of an unhealthy ActiveGate<a class="headerlink" href="#signs-of-an-unhealthy-activegate" title="Permanent link">&para;</a></h2>
<p>These symptoms indicate exhausted resources and potential data loss.</p>
<h3 id="gaps-in-monitoring-data">Gaps in monitoring data<a class="headerlink" href="#gaps-in-monitoring-data" title="Permanent link">&para;</a></h3>
<p>ActiveGate collects different types of data independently (for example, Prometheus metrics, Kubernetes events, entities). If one collection task takes longer than 1 minute, only that data type experiences a gap for that window. Other collection tasks continue operating normally.</p>
<ul>
<li>Metrics will have missing data point for the given minute.</li>
<li>Events for the given collection timeframes are not available at all.</li>
<li>Entities may not reflect the latest updates or may be missing at all if short-living.</li>
</ul>
<h3 id="heavy-cpu-throttling">Heavy CPU throttling<a class="headerlink" href="#heavy-cpu-throttling" title="Permanent link">&para;</a></h3>
<p>Sustained high throttling means insufficient CPU. Heavy throttling can cause gaps. Minor throttling is usually harmless.
If the throttling affects the pod serving the monitoring ActiveGate this can cause data gaps.</p>
<h3 id="outaofamemory-restarts">Out√¢¬Ä¬ëof√¢¬Ä¬ëmemory restarts<a class="headerlink" href="#outaofamemory-restarts" title="Permanent link">&para;</a></h3>
<p>If the ActiveGate is OOM-killed, data becomes unavailable until it restarts. After a restart, repeated OOM kills are likely to occur.</p>
<h2 id="monitoring-and-validation">Monitoring and validation<a class="headerlink" href="#monitoring-and-validation" title="Permanent link">&para;</a></h2>
<p>The following indicators can be tracked to understand if the ActiveGate is in a healthy operational state.</p>
<ul>
<li><strong>CPU usage vs requests</strong>√¢¬Ä¬ìIf CPU utilization consistently exceeds 85% increase the CPU request.</li>
<li><strong>CPU throttling</strong> (container_cpu_cfs_throttled_periods_total / periods)√¢¬Ä¬ìIf throttling exceeds 10% consistently, increase the CPU request.</li>
<li><strong>Memory working set vs request</strong>√¢¬Ä¬ìIf usage consistently exceeds 80%, increase the memory request.</li>
<li><strong>ActiveGate restart count</strong>√¢¬Ä¬ìAfter an OOM-based restart, promptly raise the configured memory to prevent recurrence.</li>
<li><strong>Processing duration / cycle time</strong> √¢¬Ä¬ìIf the execution time of pipelines consistently exceeds 50 - 60 seconds, increase the CPU request. The pipeline execution time also depends on the amount of ingested data and other factors.</li>
<li><strong>Garbage collection times</strong>√¢¬Ä¬ìIncreasing garbage collection times are a clear indicator for an under-provisioned ActiveGate.</li>
</ul>
<p>Metrics reference</p>
<p>The indicators for unhealthy ActiveGates are as following:</p>
<table>
<thead>
<tr>
<th>Indicator</th>
<th>Platform metrics for validation</th>
<th>Classic metrics for validation</th>
<th>Detail level</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU usage</td>
<td><code>dt.kubernetes.container.cpu_usage</code></td>
<td><code>builtin:kubernetes.node.cpu_usage</code> <code>builtin:kubernetes.workload.cpu_usage</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>CPU requests</td>
<td><code>dt.kubernetes.resourcequota.requests_cpu</code></td>
<td><code>builtin:kubernetes.node.requests_cpu</code> <code>builtin:kubernetes.workload.requests_cpu</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>CPU throttling</td>
<td><code>dt.kubernetes.container.cpu_throttled</code></td>
<td><code>builtin:kubernetes.workload.cpu_throttled</code> <code>builtin:kubernetes.node.cpu_throttled</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>Memory working set</td>
<td><code>dt.kubernetes.container.memory_working_set</code></td>
<td><code>builtin:kubernetes.node.memory_working_set</code> <code>builtin:kubernetes.workload.memory_working_set</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>Memory requests</td>
<td><code>dt.kubernetes.resourcequota.requests_memory</code></td>
<td><code>builtin:kubernetes.node.requests_memory</code> <code>builtin:kubernetes.workload.requests_memory</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>Restart count</td>
<td><code>dt.kubernetes.container.restarts</code></td>
<td><code>builtin:kubernetes.container.restarts</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>OOM kills</td>
<td><code>dt.kubernetes.container.oom_kills</code></td>
<td><code>builtin:kubernetes.container.oom_kills</code></td>
<td>ActiveGate pod</td>
</tr>
<tr>
<td>Processing duration</td>
<td><code>dt.sfm.active_gate.kubernetes.pipeline_duration</code></td>
<td><code>dsfm:active_gate.kubernetes.pipeline_duration</code></td>
<td>ActiveGate ID</td>
</tr>
<tr>
<td>Garbage collection times</td>
<td><code>dt.sfm.active_gate.jvm.gc.major_collection_time</code></td>
<td><code>dsfm:active_gate.jvm.gc.major_collection_time</code></td>
<td>ActiveGate ID</td>
</tr>
</tbody>
</table>
<h3 id="increasing-resources">Increasing resources<a class="headerlink" href="#increasing-resources" title="Permanent link">&para;</a></h3>
<p>Start with the recommended values below.</p>
<ol>
<li>Verify ActiveGate health using the monitoring indicators.</li>
<li>
<p>Adjust resources as needed:</p>
</li>
<li>
<p>Increase memory in 2Gi increments.</p>
</li>
<li>Increase CPU in 500m increments.</li>
<li>
<p>Adjust request first and in a later step adjust the limits.</p>
</li>
<li>
<p>Regarding CPU: Use limits only if required by policy.</p>
</li>
</ol>
<h2 id="using-a-dedicated-activegate-for-kubernetes-platform-monitoring">Using a dedicated ActiveGate for Kubernetes platform monitoring<a class="headerlink" href="#using-a-dedicated-activegate-for-kubernetes-platform-monitoring" title="Permanent link">&para;</a></h2>
<p>Splitting ActiveGate responsibilities into two groups is recommended: One group handling everything related to Kubernetes platform monitoring, including KSPM, and the other managing Agent traffic routing, telemetry ingest, and extensions. This separation provides several advantages:</p>
<ul>
<li><strong>Isolation</strong>√¢¬Ä¬ìResource contention in one module doesn't affect the other. A spike in OneAgent traffic won't slow down Kubernetes metrics collection, and vice versa.</li>
<li>
<p><strong>Independent scaling</strong>√¢¬Ä¬ìTraffic forwarding and platform monitoring have fundamentally different scaling characteristics:</p>
</li>
<li>
<p><strong>Kubernetes platform monitoring</strong> can only scale vertically √¢¬Ä¬î when cluster size grows, you increase CPU and memory resources for the corresponding ActiveGate.</p>
</li>
<li><strong>OneAgent traffic routing</strong> can be horizontally scaled √¢¬Ä¬î when OneAgent traffic increases, additional routing ActiveGate replicas help distribute and share the load.</li>
</ul>
<p>Separate ActiveGates let you scale each dimension independently without over√¢¬Ä¬ëprovisioning resources. For example, you can add 3 more routing replicas to handle increased application traffic without unnecessarily increasing resources for platform monitoring.
* <strong>Easier troubleshooting</strong> √¢¬Ä¬î When issues occur, you can immediately identify whether they originate from platform monitoring or OneAgent traffic, reducing diagnosis time.</p>
<h2 id="sizing-activegate">Sizing ActiveGate<a class="headerlink" href="#sizing-activegate" title="Permanent link">&para;</a></h2>
<p>Scenarios are established based on the number of pods that are monitored by a single ActiveGate. The necessary resources can be taken from the following tables.</p>
<ul>
<li><strong>Scenario S</strong>: &lt;1000 pods</li>
<li><strong>Scenario M</strong>: 1000√¢¬Ä¬ì5000 pods</li>
<li><strong>Scenario L</strong>: 5000√¢¬Ä¬ì20000 pods</li>
</ul>
<p>This guide does not cover environments with more than 20,000 pods. Due to the many variables involved, providing precise recommendations for such large-scale setups isn√¢¬Ä¬ôt feasible. As a starting point, you can use the guidance for the L scenario and gradually increase resources until stable gap-free monitoring is established.
  For tailored advice, we recommend reaching out to Dynatrace Support to ensure the best configuration for your environment.</p>
<h3 id="secondary-factors">Secondary factors<a class="headerlink" href="#secondary-factors" title="Permanent link">&para;</a></h3>
<h4 id="node-count">Node count<a class="headerlink" href="#node-count" title="Permanent link">&para;</a></h4>
<p>As the number of nodes in your Kubernetes cluster increases, the ActiveGate needs more CPU and memory resources to handle the extra monitoring workload. This includes processing data from node-level system components and events, which adds up proportionally.
We group node counts into these categories for sizing guidance:</p>
<ul>
<li>Up to 25 nodes</li>
<li>Up to 100 nodes</li>
<li>Up to 500 nodes</li>
</ul>
<p>If your cluster has more than 100 nodes, you'll need to adjust the resource allocations upward to account for the additional demands, ensuring stable and gap-free monitoring. For clusters beyond 500 nodes, consult Dynatrace Support for tailored recommendations.</p>
<h4 id="amount-of-prometheus-metrics-scraped">Amount of Prometheus metrics scraped<a class="headerlink" href="#amount-of-prometheus-metrics-scraped" title="Permanent link">&para;</a></h4>
<p>Dynatrace supports up to 1000 pod exporters, with each exporter able to provide up to 1000 metrics. If your environment approaches these limits, you'll need to increase the resources allocated to the ActiveGate to ensure reliable performance.</p>
<h3 id="activegate-for-kubernetes-platform-monitoring">ActiveGate for Kubernetes platform monitoring<a class="headerlink" href="#activegate-for-kubernetes-platform-monitoring" title="Permanent link">&para;</a></h3>
<p>All the following use cases have actually the same requirements on the ActiveGate taking over the Kubernetes platform monitoring part.</p>
<ul>
<li>Kubernetes platform monitoring only</li>
<li>Kubernetes platform monitoring + Application observability</li>
<li>Kubernetes platform monitoring + Full-stack observability</li>
</ul>
<table>
<thead>
<tr>
<th>Pod count</th>
<th>CPU resource</th>
<th>Memory resource</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt; 1000 ( Small )</td>
<td>requests: 200m (limits: 1000m)</td>
<td>requests: 6Gi limits: 6Gi</td>
</tr>
<tr>
<td>&lt; 5000 ( Medium )</td>
<td>requests: 1000m (limits: 2000m)</td>
<td>requests: 10Gi limits: 10Gi</td>
</tr>
<tr>
<td>&lt; 20000 ( Large )</td>
<td>requests: 2000m (limits: 4000m)</td>
<td>requests: 12Gi limits: 12Gi</td>
</tr>
</tbody>
</table>
<p>We recommend running ActiveGates without CPU limits.</p>
<h3 id="activegate-for-oneagent-traffic-routing-and-proxying">ActiveGate for OneAgent traffic routing and proxying<a class="headerlink" href="#activegate-for-oneagent-traffic-routing-and-proxying" title="Permanent link">&para;</a></h3>
<p>The second ActiveGate does not actively participate in Kubernetes platform monitoring but is instead used as a router/proxy on behalf of data streams originating from the OneAgent.
We recommend to use separate ActiveGates for traffic forwarding and platform monitoring. Traffic forwarding scales horizontally by adding replicas. Kubernetes monitoring itself does not scale horizontally; instead increase resources.</p>
<p>This setup is required in the following use-cases:</p>
<ul>
<li>Kubernetes platform monitoring + Application observability</li>
<li>Kubernetes platform monitoring + Full-stack observability</li>
</ul>
<table>
<thead>
<tr>
<th>Pod count</th>
<th>CPU resource</th>
<th>Memory resource</th>
<th>replicas</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt; 1000 ( Small )</td>
<td>requests: 250m (limits: 1000m)</td>
<td>requests: 2Gi limits: 2Gi</td>
<td>3</td>
</tr>
<tr>
<td>&lt; 5000 ( Medium )</td>
<td>requests: 500m (limits: 2000m)</td>
<td>requests: 4Gi limits: 4Gi</td>
<td>3</td>
</tr>
<tr>
<td>&lt; 20000 ( Large )</td>
<td>requests: 1000m (limits: 4000m)</td>
<td>requests: 6Gi limits: 6Gi</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>We recommend running ActiveGates without CPU limits.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>The following examples apply the reasoning of splitting the ActiveGates into units with separate concerns. One ActiveGate is responsible for Kubernetes platform monitoring and Kubernetes security posture management, whereas the 2nd ActiveGate is then responsible for agent traffic routing, telemetry ingest and extensions.
Adjust requests (and limits if required) to fit your environment.</p>
<h3 id="kubernetes-platform-monitoring">Kubernetes platform monitoring<a class="headerlink" href="#kubernetes-platform-monitoring" title="Permanent link">&para;</a></h3>
<p>This Dynakube resource declares the ActiveGate that is used for the Kubernetes platform monitoring.</p>
<p>CPU limits are commented out. We recommend defining requests only so the ActiveGate can use additional CPU when available. If limits are required, set them equal to or higher than requests.</p>
<p>This snippet includes configuration for Kubernetes Security Posture Management. It's a complementing, opt-in security feature next to Kubernetes platform monitoring.</p>
<p>DynaKube for Kubernetes platform monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a>
<a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a>
<a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a>
<a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a>kind: DynaKube
<a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a>
<a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a>
<a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a>
<a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a>metadata:
<a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a>
<a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a>
<a id="__codelineno-137-12" name="__codelineno-137-12" href="#__codelineno-137-12"></a>
<a id="__codelineno-137-13" name="__codelineno-137-13" href="#__codelineno-137-13"></a>name: k8s-monitoring
<a id="__codelineno-137-14" name="__codelineno-137-14" href="#__codelineno-137-14"></a>
<a id="__codelineno-137-15" name="__codelineno-137-15" href="#__codelineno-137-15"></a>
<a id="__codelineno-137-16" name="__codelineno-137-16" href="#__codelineno-137-16"></a>
<a id="__codelineno-137-17" name="__codelineno-137-17" href="#__codelineno-137-17"></a>namespace: dynatrace
<a id="__codelineno-137-18" name="__codelineno-137-18" href="#__codelineno-137-18"></a>
<a id="__codelineno-137-19" name="__codelineno-137-19" href="#__codelineno-137-19"></a>
<a id="__codelineno-137-20" name="__codelineno-137-20" href="#__codelineno-137-20"></a>
<a id="__codelineno-137-21" name="__codelineno-137-21" href="#__codelineno-137-21"></a>annotations:
<a id="__codelineno-137-22" name="__codelineno-137-22" href="#__codelineno-137-22"></a>
<a id="__codelineno-137-23" name="__codelineno-137-23" href="#__codelineno-137-23"></a>
<a id="__codelineno-137-24" name="__codelineno-137-24" href="#__codelineno-137-24"></a>
<a id="__codelineno-137-25" name="__codelineno-137-25" href="#__codelineno-137-25"></a>feature.dynatrace.com/k8s-app-enabled: &quot;true&quot;
<a id="__codelineno-137-26" name="__codelineno-137-26" href="#__codelineno-137-26"></a>
<a id="__codelineno-137-27" name="__codelineno-137-27" href="#__codelineno-137-27"></a>
<a id="__codelineno-137-28" name="__codelineno-137-28" href="#__codelineno-137-28"></a>
<a id="__codelineno-137-29" name="__codelineno-137-29" href="#__codelineno-137-29"></a>spec:
<a id="__codelineno-137-30" name="__codelineno-137-30" href="#__codelineno-137-30"></a>
<a id="__codelineno-137-31" name="__codelineno-137-31" href="#__codelineno-137-31"></a>
<a id="__codelineno-137-32" name="__codelineno-137-32" href="#__codelineno-137-32"></a>
<a id="__codelineno-137-33" name="__codelineno-137-33" href="#__codelineno-137-33"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-137-34" name="__codelineno-137-34" href="#__codelineno-137-34"></a>
<a id="__codelineno-137-35" name="__codelineno-137-35" href="#__codelineno-137-35"></a>
<a id="__codelineno-137-36" name="__codelineno-137-36" href="#__codelineno-137-36"></a>
<a id="__codelineno-137-37" name="__codelineno-137-37" href="#__codelineno-137-37"></a>tokens: &lt;SECRET NAME&gt;
<a id="__codelineno-137-38" name="__codelineno-137-38" href="#__codelineno-137-38"></a>
<a id="__codelineno-137-39" name="__codelineno-137-39" href="#__codelineno-137-39"></a>
<a id="__codelineno-137-40" name="__codelineno-137-40" href="#__codelineno-137-40"></a>
<a id="__codelineno-137-41" name="__codelineno-137-41" href="#__codelineno-137-41"></a>metadataEnrichment:
<a id="__codelineno-137-42" name="__codelineno-137-42" href="#__codelineno-137-42"></a>
<a id="__codelineno-137-43" name="__codelineno-137-43" href="#__codelineno-137-43"></a>
<a id="__codelineno-137-44" name="__codelineno-137-44" href="#__codelineno-137-44"></a>
<a id="__codelineno-137-45" name="__codelineno-137-45" href="#__codelineno-137-45"></a>enabled: true
<a id="__codelineno-137-46" name="__codelineno-137-46" href="#__codelineno-137-46"></a>
<a id="__codelineno-137-47" name="__codelineno-137-47" href="#__codelineno-137-47"></a>
<a id="__codelineno-137-48" name="__codelineno-137-48" href="#__codelineno-137-48"></a>
<a id="__codelineno-137-49" name="__codelineno-137-49" href="#__codelineno-137-49"></a># Link to api reference for further information: https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
<a id="__codelineno-137-50" name="__codelineno-137-50" href="#__codelineno-137-50"></a>
<a id="__codelineno-137-51" name="__codelineno-137-51" href="#__codelineno-137-51"></a>
<a id="__codelineno-137-52" name="__codelineno-137-52" href="#__codelineno-137-52"></a>
<a id="__codelineno-137-53" name="__codelineno-137-53" href="#__codelineno-137-53"></a>activeGate:
<a id="__codelineno-137-54" name="__codelineno-137-54" href="#__codelineno-137-54"></a>
<a id="__codelineno-137-55" name="__codelineno-137-55" href="#__codelineno-137-55"></a>
<a id="__codelineno-137-56" name="__codelineno-137-56" href="#__codelineno-137-56"></a>
<a id="__codelineno-137-57" name="__codelineno-137-57" href="#__codelineno-137-57"></a>capabilities:
<a id="__codelineno-137-58" name="__codelineno-137-58" href="#__codelineno-137-58"></a>
<a id="__codelineno-137-59" name="__codelineno-137-59" href="#__codelineno-137-59"></a>
<a id="__codelineno-137-60" name="__codelineno-137-60" href="#__codelineno-137-60"></a>
<a id="__codelineno-137-61" name="__codelineno-137-61" href="#__codelineno-137-61"></a>- kubernetes-monitoring
<a id="__codelineno-137-62" name="__codelineno-137-62" href="#__codelineno-137-62"></a>
<a id="__codelineno-137-63" name="__codelineno-137-63" href="#__codelineno-137-63"></a>
<a id="__codelineno-137-64" name="__codelineno-137-64" href="#__codelineno-137-64"></a>
<a id="__codelineno-137-65" name="__codelineno-137-65" href="#__codelineno-137-65"></a>resources:
<a id="__codelineno-137-66" name="__codelineno-137-66" href="#__codelineno-137-66"></a>
<a id="__codelineno-137-67" name="__codelineno-137-67" href="#__codelineno-137-67"></a>
<a id="__codelineno-137-68" name="__codelineno-137-68" href="#__codelineno-137-68"></a>
<a id="__codelineno-137-69" name="__codelineno-137-69" href="#__codelineno-137-69"></a>requests:
<a id="__codelineno-137-70" name="__codelineno-137-70" href="#__codelineno-137-70"></a>
<a id="__codelineno-137-71" name="__codelineno-137-71" href="#__codelineno-137-71"></a>
<a id="__codelineno-137-72" name="__codelineno-137-72" href="#__codelineno-137-72"></a>
<a id="__codelineno-137-73" name="__codelineno-137-73" href="#__codelineno-137-73"></a>cpu: 1000m
<a id="__codelineno-137-74" name="__codelineno-137-74" href="#__codelineno-137-74"></a>
<a id="__codelineno-137-75" name="__codelineno-137-75" href="#__codelineno-137-75"></a>
<a id="__codelineno-137-76" name="__codelineno-137-76" href="#__codelineno-137-76"></a>
<a id="__codelineno-137-77" name="__codelineno-137-77" href="#__codelineno-137-77"></a>memory: 10Gi
<a id="__codelineno-137-78" name="__codelineno-137-78" href="#__codelineno-137-78"></a>
<a id="__codelineno-137-79" name="__codelineno-137-79" href="#__codelineno-137-79"></a>
<a id="__codelineno-137-80" name="__codelineno-137-80" href="#__codelineno-137-80"></a>
<a id="__codelineno-137-81" name="__codelineno-137-81" href="#__codelineno-137-81"></a>limits:
<a id="__codelineno-137-82" name="__codelineno-137-82" href="#__codelineno-137-82"></a>
<a id="__codelineno-137-83" name="__codelineno-137-83" href="#__codelineno-137-83"></a>
<a id="__codelineno-137-84" name="__codelineno-137-84" href="#__codelineno-137-84"></a>
<a id="__codelineno-137-85" name="__codelineno-137-85" href="#__codelineno-137-85"></a># cpu: 2000m
<a id="__codelineno-137-86" name="__codelineno-137-86" href="#__codelineno-137-86"></a>
<a id="__codelineno-137-87" name="__codelineno-137-87" href="#__codelineno-137-87"></a>
<a id="__codelineno-137-88" name="__codelineno-137-88" href="#__codelineno-137-88"></a>
<a id="__codelineno-137-89" name="__codelineno-137-89" href="#__codelineno-137-89"></a>memory: 10Gi
<a id="__codelineno-137-90" name="__codelineno-137-90" href="#__codelineno-137-90"></a>
<a id="__codelineno-137-91" name="__codelineno-137-91" href="#__codelineno-137-91"></a>
<a id="__codelineno-137-92" name="__codelineno-137-92" href="#__codelineno-137-92"></a>
<a id="__codelineno-137-93" name="__codelineno-137-93" href="#__codelineno-137-93"></a>#kspm:
<a id="__codelineno-137-94" name="__codelineno-137-94" href="#__codelineno-137-94"></a>
<a id="__codelineno-137-95" name="__codelineno-137-95" href="#__codelineno-137-95"></a>
<a id="__codelineno-137-96" name="__codelineno-137-96" href="#__codelineno-137-96"></a>
<a id="__codelineno-137-97" name="__codelineno-137-97" href="#__codelineno-137-97"></a>#mappedHostPaths:
<a id="__codelineno-137-98" name="__codelineno-137-98" href="#__codelineno-137-98"></a>
<a id="__codelineno-137-99" name="__codelineno-137-99" href="#__codelineno-137-99"></a>
<a id="__codelineno-137-100" name="__codelineno-137-100" href="#__codelineno-137-100"></a>
<a id="__codelineno-137-101" name="__codelineno-137-101" href="#__codelineno-137-101"></a>#- /boot
<a id="__codelineno-137-102" name="__codelineno-137-102" href="#__codelineno-137-102"></a>
<a id="__codelineno-137-103" name="__codelineno-137-103" href="#__codelineno-137-103"></a>
<a id="__codelineno-137-104" name="__codelineno-137-104" href="#__codelineno-137-104"></a>
<a id="__codelineno-137-105" name="__codelineno-137-105" href="#__codelineno-137-105"></a>#- /etc
<a id="__codelineno-137-106" name="__codelineno-137-106" href="#__codelineno-137-106"></a>
<a id="__codelineno-137-107" name="__codelineno-137-107" href="#__codelineno-137-107"></a>
<a id="__codelineno-137-108" name="__codelineno-137-108" href="#__codelineno-137-108"></a>
<a id="__codelineno-137-109" name="__codelineno-137-109" href="#__codelineno-137-109"></a>#- /proc/sys/kernel
<a id="__codelineno-137-110" name="__codelineno-137-110" href="#__codelineno-137-110"></a>
<a id="__codelineno-137-111" name="__codelineno-137-111" href="#__codelineno-137-111"></a>
<a id="__codelineno-137-112" name="__codelineno-137-112" href="#__codelineno-137-112"></a>
<a id="__codelineno-137-113" name="__codelineno-137-113" href="#__codelineno-137-113"></a>#- /sys/fs
<a id="__codelineno-137-114" name="__codelineno-137-114" href="#__codelineno-137-114"></a>
<a id="__codelineno-137-115" name="__codelineno-137-115" href="#__codelineno-137-115"></a>
<a id="__codelineno-137-116" name="__codelineno-137-116" href="#__codelineno-137-116"></a>
<a id="__codelineno-137-117" name="__codelineno-137-117" href="#__codelineno-137-117"></a>#- /sys/kernel/security/apparmor
<a id="__codelineno-137-118" name="__codelineno-137-118" href="#__codelineno-137-118"></a>
<a id="__codelineno-137-119" name="__codelineno-137-119" href="#__codelineno-137-119"></a>
<a id="__codelineno-137-120" name="__codelineno-137-120" href="#__codelineno-137-120"></a>
<a id="__codelineno-137-121" name="__codelineno-137-121" href="#__codelineno-137-121"></a>#- /usr/lib/systemd/system
<a id="__codelineno-137-122" name="__codelineno-137-122" href="#__codelineno-137-122"></a>
<a id="__codelineno-137-123" name="__codelineno-137-123" href="#__codelineno-137-123"></a>
<a id="__codelineno-137-124" name="__codelineno-137-124" href="#__codelineno-137-124"></a>
<a id="__codelineno-137-125" name="__codelineno-137-125" href="#__codelineno-137-125"></a>#- /var/lib
<a id="__codelineno-137-126" name="__codelineno-137-126" href="#__codelineno-137-126"></a>
<a id="__codelineno-137-127" name="__codelineno-137-127" href="#__codelineno-137-127"></a>
<a id="__codelineno-137-128" name="__codelineno-137-128" href="#__codelineno-137-128"></a>
<a id="__codelineno-137-129" name="__codelineno-137-129" href="#__codelineno-137-129"></a>#templates:
<a id="__codelineno-137-130" name="__codelineno-137-130" href="#__codelineno-137-130"></a>
<a id="__codelineno-137-131" name="__codelineno-137-131" href="#__codelineno-137-131"></a>
<a id="__codelineno-137-132" name="__codelineno-137-132" href="#__codelineno-137-132"></a>
<a id="__codelineno-137-133" name="__codelineno-137-133" href="#__codelineno-137-133"></a>#kspmNodeConfigurationCollector:
<a id="__codelineno-137-134" name="__codelineno-137-134" href="#__codelineno-137-134"></a>
<a id="__codelineno-137-135" name="__codelineno-137-135" href="#__codelineno-137-135"></a>
<a id="__codelineno-137-136" name="__codelineno-137-136" href="#__codelineno-137-136"></a>
<a id="__codelineno-137-137" name="__codelineno-137-137" href="#__codelineno-137-137"></a>#imageRef:
<a id="__codelineno-137-138" name="__codelineno-137-138" href="#__codelineno-137-138"></a>
<a id="__codelineno-137-139" name="__codelineno-137-139" href="#__codelineno-137-139"></a>
<a id="__codelineno-137-140" name="__codelineno-137-140" href="#__codelineno-137-140"></a>
<a id="__codelineno-137-141" name="__codelineno-137-141" href="#__codelineno-137-141"></a>#repository: public.ecr.aws/dynatrace/dynatrace-k8s-node-config-collector
<a id="__codelineno-137-142" name="__codelineno-137-142" href="#__codelineno-137-142"></a>
<a id="__codelineno-137-143" name="__codelineno-137-143" href="#__codelineno-137-143"></a>
<a id="__codelineno-137-144" name="__codelineno-137-144" href="#__codelineno-137-144"></a>
<a id="__codelineno-137-145" name="__codelineno-137-145" href="#__codelineno-137-145"></a>#tag: 1.5.2
</code></pre></div>
<h3 id="oneagent-telemetry-ingest-and-other-features">OneAgent, telemetry ingest and other features<a class="headerlink" href="#oneagent-telemetry-ingest-and-other-features" title="Permanent link">&para;</a></h3>
<p>This Dynakube resource declares the ActiveGate that is taking over the OneAgent traffic routing function and other features (except Kubernetes platform monitoring and KSPM).</p>
<p>CPU limits are commented out. We recommend defining requests only so the ActiveGate can use additional CPU when available. If limits are required, set them equal to or higher than requests.</p>
<p>This snippet includes configurations for log monitoring, extensions and telemetry ingest. These sections are considered optional on a per-section basis.</p>
<p>DynaKube for OneAgent, telemetry ingest and other features</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a>
<a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a>
<a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a>
<a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a>kind: DynaKube
<a id="__codelineno-138-6" name="__codelineno-138-6" href="#__codelineno-138-6"></a>
<a id="__codelineno-138-7" name="__codelineno-138-7" href="#__codelineno-138-7"></a>
<a id="__codelineno-138-8" name="__codelineno-138-8" href="#__codelineno-138-8"></a>
<a id="__codelineno-138-9" name="__codelineno-138-9" href="#__codelineno-138-9"></a>metadata:
<a id="__codelineno-138-10" name="__codelineno-138-10" href="#__codelineno-138-10"></a>
<a id="__codelineno-138-11" name="__codelineno-138-11" href="#__codelineno-138-11"></a>
<a id="__codelineno-138-12" name="__codelineno-138-12" href="#__codelineno-138-12"></a>
<a id="__codelineno-138-13" name="__codelineno-138-13" href="#__codelineno-138-13"></a>name: agents
<a id="__codelineno-138-14" name="__codelineno-138-14" href="#__codelineno-138-14"></a>
<a id="__codelineno-138-15" name="__codelineno-138-15" href="#__codelineno-138-15"></a>
<a id="__codelineno-138-16" name="__codelineno-138-16" href="#__codelineno-138-16"></a>
<a id="__codelineno-138-17" name="__codelineno-138-17" href="#__codelineno-138-17"></a>namespace: dynatrace
<a id="__codelineno-138-18" name="__codelineno-138-18" href="#__codelineno-138-18"></a>
<a id="__codelineno-138-19" name="__codelineno-138-19" href="#__codelineno-138-19"></a>
<a id="__codelineno-138-20" name="__codelineno-138-20" href="#__codelineno-138-20"></a>
<a id="__codelineno-138-21" name="__codelineno-138-21" href="#__codelineno-138-21"></a># Link to api reference for further information: https://docs.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
<a id="__codelineno-138-22" name="__codelineno-138-22" href="#__codelineno-138-22"></a>
<a id="__codelineno-138-23" name="__codelineno-138-23" href="#__codelineno-138-23"></a>
<a id="__codelineno-138-24" name="__codelineno-138-24" href="#__codelineno-138-24"></a>
<a id="__codelineno-138-25" name="__codelineno-138-25" href="#__codelineno-138-25"></a>spec:
<a id="__codelineno-138-26" name="__codelineno-138-26" href="#__codelineno-138-26"></a>
<a id="__codelineno-138-27" name="__codelineno-138-27" href="#__codelineno-138-27"></a>
<a id="__codelineno-138-28" name="__codelineno-138-28" href="#__codelineno-138-28"></a>
<a id="__codelineno-138-29" name="__codelineno-138-29" href="#__codelineno-138-29"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-138-30" name="__codelineno-138-30" href="#__codelineno-138-30"></a>
<a id="__codelineno-138-31" name="__codelineno-138-31" href="#__codelineno-138-31"></a>
<a id="__codelineno-138-32" name="__codelineno-138-32" href="#__codelineno-138-32"></a>
<a id="__codelineno-138-33" name="__codelineno-138-33" href="#__codelineno-138-33"></a>tokens: &lt;SECRET NAME&gt;
<a id="__codelineno-138-34" name="__codelineno-138-34" href="#__codelineno-138-34"></a>
<a id="__codelineno-138-35" name="__codelineno-138-35" href="#__codelineno-138-35"></a>
<a id="__codelineno-138-36" name="__codelineno-138-36" href="#__codelineno-138-36"></a>
<a id="__codelineno-138-37" name="__codelineno-138-37" href="#__codelineno-138-37"></a>metadataEnrichment:
<a id="__codelineno-138-38" name="__codelineno-138-38" href="#__codelineno-138-38"></a>
<a id="__codelineno-138-39" name="__codelineno-138-39" href="#__codelineno-138-39"></a>
<a id="__codelineno-138-40" name="__codelineno-138-40" href="#__codelineno-138-40"></a>
<a id="__codelineno-138-41" name="__codelineno-138-41" href="#__codelineno-138-41"></a>enabled: true
<a id="__codelineno-138-42" name="__codelineno-138-42" href="#__codelineno-138-42"></a>
<a id="__codelineno-138-43" name="__codelineno-138-43" href="#__codelineno-138-43"></a>
<a id="__codelineno-138-44" name="__codelineno-138-44" href="#__codelineno-138-44"></a>
<a id="__codelineno-138-45" name="__codelineno-138-45" href="#__codelineno-138-45"></a>oneAgent:
<a id="__codelineno-138-46" name="__codelineno-138-46" href="#__codelineno-138-46"></a>
<a id="__codelineno-138-47" name="__codelineno-138-47" href="#__codelineno-138-47"></a>
<a id="__codelineno-138-48" name="__codelineno-138-48" href="#__codelineno-138-48"></a>
<a id="__codelineno-138-49" name="__codelineno-138-49" href="#__codelineno-138-49"></a>applicationMonitoring: {}
<a id="__codelineno-138-50" name="__codelineno-138-50" href="#__codelineno-138-50"></a>
<a id="__codelineno-138-51" name="__codelineno-138-51" href="#__codelineno-138-51"></a>
<a id="__codelineno-138-52" name="__codelineno-138-52" href="#__codelineno-138-52"></a>
<a id="__codelineno-138-53" name="__codelineno-138-53" href="#__codelineno-138-53"></a>activeGate:
<a id="__codelineno-138-54" name="__codelineno-138-54" href="#__codelineno-138-54"></a>
<a id="__codelineno-138-55" name="__codelineno-138-55" href="#__codelineno-138-55"></a>
<a id="__codelineno-138-56" name="__codelineno-138-56" href="#__codelineno-138-56"></a>
<a id="__codelineno-138-57" name="__codelineno-138-57" href="#__codelineno-138-57"></a>capabilities:
<a id="__codelineno-138-58" name="__codelineno-138-58" href="#__codelineno-138-58"></a>
<a id="__codelineno-138-59" name="__codelineno-138-59" href="#__codelineno-138-59"></a>
<a id="__codelineno-138-60" name="__codelineno-138-60" href="#__codelineno-138-60"></a>
<a id="__codelineno-138-61" name="__codelineno-138-61" href="#__codelineno-138-61"></a>- routing
<a id="__codelineno-138-62" name="__codelineno-138-62" href="#__codelineno-138-62"></a>
<a id="__codelineno-138-63" name="__codelineno-138-63" href="#__codelineno-138-63"></a>
<a id="__codelineno-138-64" name="__codelineno-138-64" href="#__codelineno-138-64"></a>
<a id="__codelineno-138-65" name="__codelineno-138-65" href="#__codelineno-138-65"></a>- debugging
<a id="__codelineno-138-66" name="__codelineno-138-66" href="#__codelineno-138-66"></a>
<a id="__codelineno-138-67" name="__codelineno-138-67" href="#__codelineno-138-67"></a>
<a id="__codelineno-138-68" name="__codelineno-138-68" href="#__codelineno-138-68"></a>
<a id="__codelineno-138-69" name="__codelineno-138-69" href="#__codelineno-138-69"></a>resources:
<a id="__codelineno-138-70" name="__codelineno-138-70" href="#__codelineno-138-70"></a>
<a id="__codelineno-138-71" name="__codelineno-138-71" href="#__codelineno-138-71"></a>
<a id="__codelineno-138-72" name="__codelineno-138-72" href="#__codelineno-138-72"></a>
<a id="__codelineno-138-73" name="__codelineno-138-73" href="#__codelineno-138-73"></a>requests:
<a id="__codelineno-138-74" name="__codelineno-138-74" href="#__codelineno-138-74"></a>
<a id="__codelineno-138-75" name="__codelineno-138-75" href="#__codelineno-138-75"></a>
<a id="__codelineno-138-76" name="__codelineno-138-76" href="#__codelineno-138-76"></a>
<a id="__codelineno-138-77" name="__codelineno-138-77" href="#__codelineno-138-77"></a>cpu: 1000m
<a id="__codelineno-138-78" name="__codelineno-138-78" href="#__codelineno-138-78"></a>
<a id="__codelineno-138-79" name="__codelineno-138-79" href="#__codelineno-138-79"></a>
<a id="__codelineno-138-80" name="__codelineno-138-80" href="#__codelineno-138-80"></a>
<a id="__codelineno-138-81" name="__codelineno-138-81" href="#__codelineno-138-81"></a>memory: 6Gi
<a id="__codelineno-138-82" name="__codelineno-138-82" href="#__codelineno-138-82"></a>
<a id="__codelineno-138-83" name="__codelineno-138-83" href="#__codelineno-138-83"></a>
<a id="__codelineno-138-84" name="__codelineno-138-84" href="#__codelineno-138-84"></a>
<a id="__codelineno-138-85" name="__codelineno-138-85" href="#__codelineno-138-85"></a>limits:
<a id="__codelineno-138-86" name="__codelineno-138-86" href="#__codelineno-138-86"></a>
<a id="__codelineno-138-87" name="__codelineno-138-87" href="#__codelineno-138-87"></a>
<a id="__codelineno-138-88" name="__codelineno-138-88" href="#__codelineno-138-88"></a>
<a id="__codelineno-138-89" name="__codelineno-138-89" href="#__codelineno-138-89"></a># cpu: 4000m
<a id="__codelineno-138-90" name="__codelineno-138-90" href="#__codelineno-138-90"></a>
<a id="__codelineno-138-91" name="__codelineno-138-91" href="#__codelineno-138-91"></a>
<a id="__codelineno-138-92" name="__codelineno-138-92" href="#__codelineno-138-92"></a>
<a id="__codelineno-138-93" name="__codelineno-138-93" href="#__codelineno-138-93"></a>memory: 6Gi
<a id="__codelineno-138-94" name="__codelineno-138-94" href="#__codelineno-138-94"></a>
<a id="__codelineno-138-95" name="__codelineno-138-95" href="#__codelineno-138-95"></a>
<a id="__codelineno-138-96" name="__codelineno-138-96" href="#__codelineno-138-96"></a>
<a id="__codelineno-138-97" name="__codelineno-138-97" href="#__codelineno-138-97"></a>replicas: 6
<a id="__codelineno-138-98" name="__codelineno-138-98" href="#__codelineno-138-98"></a>
<a id="__codelineno-138-99" name="__codelineno-138-99" href="#__codelineno-138-99"></a>
<a id="__codelineno-138-100" name="__codelineno-138-100" href="#__codelineno-138-100"></a>
<a id="__codelineno-138-101" name="__codelineno-138-101" href="#__codelineno-138-101"></a>#customProperties:
<a id="__codelineno-138-102" name="__codelineno-138-102" href="#__codelineno-138-102"></a>
<a id="__codelineno-138-103" name="__codelineno-138-103" href="#__codelineno-138-103"></a>
<a id="__codelineno-138-104" name="__codelineno-138-104" href="#__codelineno-138-104"></a>
<a id="__codelineno-138-105" name="__codelineno-138-105" href="#__codelineno-138-105"></a>#value: |
<a id="__codelineno-138-106" name="__codelineno-138-106" href="#__codelineno-138-106"></a>
<a id="__codelineno-138-107" name="__codelineno-138-107" href="#__codelineno-138-107"></a>
<a id="__codelineno-138-108" name="__codelineno-138-108" href="#__codelineno-138-108"></a>
<a id="__codelineno-138-109" name="__codelineno-138-109" href="#__codelineno-138-109"></a>#[otlp_ingest]
<a id="__codelineno-138-110" name="__codelineno-138-110" href="#__codelineno-138-110"></a>
<a id="__codelineno-138-111" name="__codelineno-138-111" href="#__codelineno-138-111"></a>
<a id="__codelineno-138-112" name="__codelineno-138-112" href="#__codelineno-138-112"></a>
<a id="__codelineno-138-113" name="__codelineno-138-113" href="#__codelineno-138-113"></a>#otlp_ingest_enabled = true
<a id="__codelineno-138-114" name="__codelineno-138-114" href="#__codelineno-138-114"></a>
<a id="__codelineno-138-115" name="__codelineno-138-115" href="#__codelineno-138-115"></a>
<a id="__codelineno-138-116" name="__codelineno-138-116" href="#__codelineno-138-116"></a>
<a id="__codelineno-138-117" name="__codelineno-138-117" href="#__codelineno-138-117"></a>#logMonitoring: {}
<a id="__codelineno-138-118" name="__codelineno-138-118" href="#__codelineno-138-118"></a>
<a id="__codelineno-138-119" name="__codelineno-138-119" href="#__codelineno-138-119"></a>
<a id="__codelineno-138-120" name="__codelineno-138-120" href="#__codelineno-138-120"></a>
<a id="__codelineno-138-121" name="__codelineno-138-121" href="#__codelineno-138-121"></a>#extensions: {}
<a id="__codelineno-138-122" name="__codelineno-138-122" href="#__codelineno-138-122"></a>
<a id="__codelineno-138-123" name="__codelineno-138-123" href="#__codelineno-138-123"></a>
<a id="__codelineno-138-124" name="__codelineno-138-124" href="#__codelineno-138-124"></a>
<a id="__codelineno-138-125" name="__codelineno-138-125" href="#__codelineno-138-125"></a>#telemetryIngest:
<a id="__codelineno-138-126" name="__codelineno-138-126" href="#__codelineno-138-126"></a>
<a id="__codelineno-138-127" name="__codelineno-138-127" href="#__codelineno-138-127"></a>
<a id="__codelineno-138-128" name="__codelineno-138-128" href="#__codelineno-138-128"></a>
<a id="__codelineno-138-129" name="__codelineno-138-129" href="#__codelineno-138-129"></a>#protocols:
<a id="__codelineno-138-130" name="__codelineno-138-130" href="#__codelineno-138-130"></a>
<a id="__codelineno-138-131" name="__codelineno-138-131" href="#__codelineno-138-131"></a>
<a id="__codelineno-138-132" name="__codelineno-138-132" href="#__codelineno-138-132"></a>
<a id="__codelineno-138-133" name="__codelineno-138-133" href="#__codelineno-138-133"></a>#- jaeger
<a id="__codelineno-138-134" name="__codelineno-138-134" href="#__codelineno-138-134"></a>
<a id="__codelineno-138-135" name="__codelineno-138-135" href="#__codelineno-138-135"></a>
<a id="__codelineno-138-136" name="__codelineno-138-136" href="#__codelineno-138-136"></a>
<a id="__codelineno-138-137" name="__codelineno-138-137" href="#__codelineno-138-137"></a>#- otlp
<a id="__codelineno-138-138" name="__codelineno-138-138" href="#__codelineno-138-138"></a>
<a id="__codelineno-138-139" name="__codelineno-138-139" href="#__codelineno-138-139"></a>
<a id="__codelineno-138-140" name="__codelineno-138-140" href="#__codelineno-138-140"></a>
<a id="__codelineno-138-141" name="__codelineno-138-141" href="#__codelineno-138-141"></a>#- statsd
<a id="__codelineno-138-142" name="__codelineno-138-142" href="#__codelineno-138-142"></a>
<a id="__codelineno-138-143" name="__codelineno-138-143" href="#__codelineno-138-143"></a>
<a id="__codelineno-138-144" name="__codelineno-138-144" href="#__codelineno-138-144"></a>
<a id="__codelineno-138-145" name="__codelineno-138-145" href="#__codelineno-138-145"></a>#- zipkin
<a id="__codelineno-138-146" name="__codelineno-138-146" href="#__codelineno-138-146"></a>
<a id="__codelineno-138-147" name="__codelineno-138-147" href="#__codelineno-138-147"></a>
<a id="__codelineno-138-148" name="__codelineno-138-148" href="#__codelineno-138-148"></a>
<a id="__codelineno-138-149" name="__codelineno-138-149" href="#__codelineno-138-149"></a>#serviceName: telemetry-ingest
<a id="__codelineno-138-150" name="__codelineno-138-150" href="#__codelineno-138-150"></a>
<a id="__codelineno-138-151" name="__codelineno-138-151" href="#__codelineno-138-151"></a>
<a id="__codelineno-138-152" name="__codelineno-138-152" href="#__codelineno-138-152"></a>
<a id="__codelineno-138-153" name="__codelineno-138-153" href="#__codelineno-138-153"></a>templates:
<a id="__codelineno-138-154" name="__codelineno-138-154" href="#__codelineno-138-154"></a>
<a id="__codelineno-138-155" name="__codelineno-138-155" href="#__codelineno-138-155"></a>
<a id="__codelineno-138-156" name="__codelineno-138-156" href="#__codelineno-138-156"></a>
<a id="__codelineno-138-157" name="__codelineno-138-157" href="#__codelineno-138-157"></a>#logMonitoring:
<a id="__codelineno-138-158" name="__codelineno-138-158" href="#__codelineno-138-158"></a>
<a id="__codelineno-138-159" name="__codelineno-138-159" href="#__codelineno-138-159"></a>
<a id="__codelineno-138-160" name="__codelineno-138-160" href="#__codelineno-138-160"></a>
<a id="__codelineno-138-161" name="__codelineno-138-161" href="#__codelineno-138-161"></a>#imageRef:
<a id="__codelineno-138-162" name="__codelineno-138-162" href="#__codelineno-138-162"></a>
<a id="__codelineno-138-163" name="__codelineno-138-163" href="#__codelineno-138-163"></a>
<a id="__codelineno-138-164" name="__codelineno-138-164" href="#__codelineno-138-164"></a>
<a id="__codelineno-138-165" name="__codelineno-138-165" href="#__codelineno-138-165"></a>#repository: public.ecr.aws/dynatrace/dynatrace-logmodule
<a id="__codelineno-138-166" name="__codelineno-138-166" href="#__codelineno-138-166"></a>
<a id="__codelineno-138-167" name="__codelineno-138-167" href="#__codelineno-138-167"></a>
<a id="__codelineno-138-168" name="__codelineno-138-168" href="#__codelineno-138-168"></a>
<a id="__codelineno-138-169" name="__codelineno-138-169" href="#__codelineno-138-169"></a>#tag: &lt;&gt;
<a id="__codelineno-138-170" name="__codelineno-138-170" href="#__codelineno-138-170"></a>
<a id="__codelineno-138-171" name="__codelineno-138-171" href="#__codelineno-138-171"></a>
<a id="__codelineno-138-172" name="__codelineno-138-172" href="#__codelineno-138-172"></a>
<a id="__codelineno-138-173" name="__codelineno-138-173" href="#__codelineno-138-173"></a>#tolerations:
<a id="__codelineno-138-174" name="__codelineno-138-174" href="#__codelineno-138-174"></a>
<a id="__codelineno-138-175" name="__codelineno-138-175" href="#__codelineno-138-175"></a>
<a id="__codelineno-138-176" name="__codelineno-138-176" href="#__codelineno-138-176"></a>
<a id="__codelineno-138-177" name="__codelineno-138-177" href="#__codelineno-138-177"></a>#- effect: NoSchedule
<a id="__codelineno-138-178" name="__codelineno-138-178" href="#__codelineno-138-178"></a>
<a id="__codelineno-138-179" name="__codelineno-138-179" href="#__codelineno-138-179"></a>
<a id="__codelineno-138-180" name="__codelineno-138-180" href="#__codelineno-138-180"></a>
<a id="__codelineno-138-181" name="__codelineno-138-181" href="#__codelineno-138-181"></a>#  key: node-role.kubernetes.io/master
<a id="__codelineno-138-182" name="__codelineno-138-182" href="#__codelineno-138-182"></a>
<a id="__codelineno-138-183" name="__codelineno-138-183" href="#__codelineno-138-183"></a>
<a id="__codelineno-138-184" name="__codelineno-138-184" href="#__codelineno-138-184"></a>
<a id="__codelineno-138-185" name="__codelineno-138-185" href="#__codelineno-138-185"></a>#  operator: Exists
<a id="__codelineno-138-186" name="__codelineno-138-186" href="#__codelineno-138-186"></a>
<a id="__codelineno-138-187" name="__codelineno-138-187" href="#__codelineno-138-187"></a>
<a id="__codelineno-138-188" name="__codelineno-138-188" href="#__codelineno-138-188"></a>
<a id="__codelineno-138-189" name="__codelineno-138-189" href="#__codelineno-138-189"></a>#- effect: NoSchedule
<a id="__codelineno-138-190" name="__codelineno-138-190" href="#__codelineno-138-190"></a>
<a id="__codelineno-138-191" name="__codelineno-138-191" href="#__codelineno-138-191"></a>
<a id="__codelineno-138-192" name="__codelineno-138-192" href="#__codelineno-138-192"></a>
<a id="__codelineno-138-193" name="__codelineno-138-193" href="#__codelineno-138-193"></a>#  key: node-role.kubernetes.io/control-plane
<a id="__codelineno-138-194" name="__codelineno-138-194" href="#__codelineno-138-194"></a>
<a id="__codelineno-138-195" name="__codelineno-138-195" href="#__codelineno-138-195"></a>
<a id="__codelineno-138-196" name="__codelineno-138-196" href="#__codelineno-138-196"></a>
<a id="__codelineno-138-197" name="__codelineno-138-197" href="#__codelineno-138-197"></a>#  operator: Exists
<a id="__codelineno-138-198" name="__codelineno-138-198" href="#__codelineno-138-198"></a>
<a id="__codelineno-138-199" name="__codelineno-138-199" href="#__codelineno-138-199"></a>
<a id="__codelineno-138-200" name="__codelineno-138-200" href="#__codelineno-138-200"></a>
<a id="__codelineno-138-201" name="__codelineno-138-201" href="#__codelineno-138-201"></a>#extensionExecutionController:
<a id="__codelineno-138-202" name="__codelineno-138-202" href="#__codelineno-138-202"></a>
<a id="__codelineno-138-203" name="__codelineno-138-203" href="#__codelineno-138-203"></a>
<a id="__codelineno-138-204" name="__codelineno-138-204" href="#__codelineno-138-204"></a>
<a id="__codelineno-138-205" name="__codelineno-138-205" href="#__codelineno-138-205"></a>#imageRef:
<a id="__codelineno-138-206" name="__codelineno-138-206" href="#__codelineno-138-206"></a>
<a id="__codelineno-138-207" name="__codelineno-138-207" href="#__codelineno-138-207"></a>
<a id="__codelineno-138-208" name="__codelineno-138-208" href="#__codelineno-138-208"></a>
<a id="__codelineno-138-209" name="__codelineno-138-209" href="#__codelineno-138-209"></a>#repository: &lt;ENVIRONMENTID&gt;/dynatrace/linux/dynatrace-eec
<a id="__codelineno-138-210" name="__codelineno-138-210" href="#__codelineno-138-210"></a>
<a id="__codelineno-138-211" name="__codelineno-138-211" href="#__codelineno-138-211"></a>
<a id="__codelineno-138-212" name="__codelineno-138-212" href="#__codelineno-138-212"></a>
<a id="__codelineno-138-213" name="__codelineno-138-213" href="#__codelineno-138-213"></a>#tag: latest
<a id="__codelineno-138-214" name="__codelineno-138-214" href="#__codelineno-138-214"></a>
<a id="__codelineno-138-215" name="__codelineno-138-215" href="#__codelineno-138-215"></a>
<a id="__codelineno-138-216" name="__codelineno-138-216" href="#__codelineno-138-216"></a>
<a id="__codelineno-138-217" name="__codelineno-138-217" href="#__codelineno-138-217"></a>#otelCollector:
<a id="__codelineno-138-218" name="__codelineno-138-218" href="#__codelineno-138-218"></a>
<a id="__codelineno-138-219" name="__codelineno-138-219" href="#__codelineno-138-219"></a>
<a id="__codelineno-138-220" name="__codelineno-138-220" href="#__codelineno-138-220"></a>
<a id="__codelineno-138-221" name="__codelineno-138-221" href="#__codelineno-138-221"></a>#replicas: 1
<a id="__codelineno-138-222" name="__codelineno-138-222" href="#__codelineno-138-222"></a>
<a id="__codelineno-138-223" name="__codelineno-138-223" href="#__codelineno-138-223"></a>
<a id="__codelineno-138-224" name="__codelineno-138-224" href="#__codelineno-138-224"></a>
<a id="__codelineno-138-225" name="__codelineno-138-225" href="#__codelineno-138-225"></a>#imageRef:
<a id="__codelineno-138-226" name="__codelineno-138-226" href="#__codelineno-138-226"></a>
<a id="__codelineno-138-227" name="__codelineno-138-227" href="#__codelineno-138-227"></a>
<a id="__codelineno-138-228" name="__codelineno-138-228" href="#__codelineno-138-228"></a>
<a id="__codelineno-138-229" name="__codelineno-138-229" href="#__codelineno-138-229"></a>#repository: public.ecr.aws/dynatrace/dynatrace-otel-collector
<a id="__codelineno-138-230" name="__codelineno-138-230" href="#__codelineno-138-230"></a>
<a id="__codelineno-138-231" name="__codelineno-138-231" href="#__codelineno-138-231"></a>
<a id="__codelineno-138-232" name="__codelineno-138-232" href="#__codelineno-138-232"></a>
<a id="__codelineno-138-233" name="__codelineno-138-233" href="#__codelineno-138-233"></a>#tag: &lt;tag&gt;
</code></pre></div>
<hr />
<h2 id="source-auto-update-componentsmd">Source: auto-update-components.md<a class="headerlink" href="#source-auto-update-componentsmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Configure auto-update for Dynatrace Operator managed components
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components
scraped: 2026-02-17T05:05:13.666058</p>
<hr />
<h1 id="configure-auto-update-for-dynatrace-operator-managed-components">Configure auto-update for Dynatrace Operator managed components<a class="headerlink" href="#configure-auto-update-for-dynatrace-operator-managed-components" title="Permanent link">&para;</a></h1>
<h1 id="configure-auto-update-for-dynatrace-operator-managed-components_1">Configure auto-update for Dynatrace Operator managed components<a class="headerlink" href="#configure-auto-update-for-dynatrace-operator-managed-components_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Updated on Sep 05, 2025</li>
</ul>
<p>Dynatrace Operator manages the rollout and updates of the following components in Kubernetes:</p>
<ul>
<li>OneAgent: Configured in the DynaKube</li>
<li>ActiveGate: Configured in the DynaKube</li>
<li>EdgeConnect: Configured by the EdgeConnect Custom Resource (CR)</li>
</ul>
<p>The default settings for OneAgent and ActiveGate automatically roll out updates as soon as they become available. DynaKube also defaults to update all pods when updates are detected automatically. Note that updates may take up to 15 minutes due to Dynatrace Operator checking for updates at 15-minute intervals. If you set a custom <code>image</code> or <code>version</code>, it will disable automatic updates.</p>
<h2 id="configure-oneagent-auto-update">Configure OneAgent auto-update<a class="headerlink" href="#configure-oneagent-auto-update" title="Permanent link">&para;</a></h2>
<p>Set the target version on the Dynatrace Server to a relative version, for example, <code>Latest stable version</code>. Dynatrace Operator will periodically check for updates and propagate them to the Kubernetes environment. An update of the OneAgent version will always cause restart of the OneAgent pods.</p>
<p>Minimal DynaKube configuration that uses auto-update:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a>
<a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a>
<a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a>
<a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a>kind: DynaKube
<a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a>
<a id="__codelineno-139-7" name="__codelineno-139-7" href="#__codelineno-139-7"></a>
<a id="__codelineno-139-8" name="__codelineno-139-8" href="#__codelineno-139-8"></a>
<a id="__codelineno-139-9" name="__codelineno-139-9" href="#__codelineno-139-9"></a>metadata:
<a id="__codelineno-139-10" name="__codelineno-139-10" href="#__codelineno-139-10"></a>
<a id="__codelineno-139-11" name="__codelineno-139-11" href="#__codelineno-139-11"></a>
<a id="__codelineno-139-12" name="__codelineno-139-12" href="#__codelineno-139-12"></a>
<a id="__codelineno-139-13" name="__codelineno-139-13" href="#__codelineno-139-13"></a>name: dynakube
<a id="__codelineno-139-14" name="__codelineno-139-14" href="#__codelineno-139-14"></a>
<a id="__codelineno-139-15" name="__codelineno-139-15" href="#__codelineno-139-15"></a>
<a id="__codelineno-139-16" name="__codelineno-139-16" href="#__codelineno-139-16"></a>
<a id="__codelineno-139-17" name="__codelineno-139-17" href="#__codelineno-139-17"></a>namespace: dynatrace
<a id="__codelineno-139-18" name="__codelineno-139-18" href="#__codelineno-139-18"></a>
<a id="__codelineno-139-19" name="__codelineno-139-19" href="#__codelineno-139-19"></a>
<a id="__codelineno-139-20" name="__codelineno-139-20" href="#__codelineno-139-20"></a>
<a id="__codelineno-139-21" name="__codelineno-139-21" href="#__codelineno-139-21"></a>spec:
<a id="__codelineno-139-22" name="__codelineno-139-22" href="#__codelineno-139-22"></a>
<a id="__codelineno-139-23" name="__codelineno-139-23" href="#__codelineno-139-23"></a>
<a id="__codelineno-139-24" name="__codelineno-139-24" href="#__codelineno-139-24"></a>
<a id="__codelineno-139-25" name="__codelineno-139-25" href="#__codelineno-139-25"></a>apiUrl: https://ENVIRONMENTID.live.dynatrace.com/api
<a id="__codelineno-139-26" name="__codelineno-139-26" href="#__codelineno-139-26"></a>
<a id="__codelineno-139-27" name="__codelineno-139-27" href="#__codelineno-139-27"></a>
<a id="__codelineno-139-28" name="__codelineno-139-28" href="#__codelineno-139-28"></a>
<a id="__codelineno-139-29" name="__codelineno-139-29" href="#__codelineno-139-29"></a>oneAgent:
<a id="__codelineno-139-30" name="__codelineno-139-30" href="#__codelineno-139-30"></a>
<a id="__codelineno-139-31" name="__codelineno-139-31" href="#__codelineno-139-31"></a>
<a id="__codelineno-139-32" name="__codelineno-139-32" href="#__codelineno-139-32"></a>
<a id="__codelineno-139-33" name="__codelineno-139-33" href="#__codelineno-139-33"></a>cloudNativeFullStack: {}
</code></pre></div>
<p>Update windows currently do not apply in Kubernetes environments.</p>
<p>If <code>autoUpdate</code> is set to <code>false</code> in the DynaKube, the OneAgents will not get version updates based on the target version of the Dynatrace environment after the initial deployment of the OneAgents.</p>
<p>We do not recommend setting <code>autoUpdate: false</code> directly. To control OneAgent version updates, we recommend doing one of the following:</p>
<ul>
<li>Set <code>autoUpdate: true</code> and set the target version in the Dynatrace environment's web UI</li>
<li>Configure the <code>image</code> field in the DynaKube</li>
<li>Configure the <code>version</code> field in the DynaKube</li>
</ul>
<h2 id="configure-code-module-auto-update-of-monitored-applications">Configure code module auto-update of monitored applications<a class="headerlink" href="#configure-code-module-auto-update-of-monitored-applications" title="Permanent link">&para;</a></h2>
<p>While new images are downloaded, applications are only updated when restarted. Keep in mind that autoscaling also injects the most recent CodeModule.</p>
<h2 id="configure-activegate-auto-update">Configure ActiveGate auto-update<a class="headerlink" href="#configure-activegate-auto-update" title="Permanent link">&para;</a></h2>
<p>Similar to OneAgent, the ActiveGate update can be configured in the UI, resulting in a changed ActiveGate image, visible to Dynatrace Operator.</p>
<h2 id="configure-edgeconnect-auto-update">Configure EdgeConnect auto-update<a class="headerlink" href="#configure-edgeconnect-auto-update" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator can be configured to disable auto-updates by setting the <code>autoUpdate</code> field in the <a href="/docs/ingest-from/setup-on-k8s/reference/edgeconnect-parameters#spec" title="List of configuration parameters for EdgeConnect.">EdgeConnect spec</a> section to <code>false</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a>apiVersion: dynatrace.com/v1alpha2
<a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a>
<a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a>
<a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a>
<a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a>kind: EdgeConnect
<a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a>
<a id="__codelineno-140-7" name="__codelineno-140-7" href="#__codelineno-140-7"></a>
<a id="__codelineno-140-8" name="__codelineno-140-8" href="#__codelineno-140-8"></a>
<a id="__codelineno-140-9" name="__codelineno-140-9" href="#__codelineno-140-9"></a>metadata:
<a id="__codelineno-140-10" name="__codelineno-140-10" href="#__codelineno-140-10"></a>
<a id="__codelineno-140-11" name="__codelineno-140-11" href="#__codelineno-140-11"></a>
<a id="__codelineno-140-12" name="__codelineno-140-12" href="#__codelineno-140-12"></a>
<a id="__codelineno-140-13" name="__codelineno-140-13" href="#__codelineno-140-13"></a>name: edgeconnect
<a id="__codelineno-140-14" name="__codelineno-140-14" href="#__codelineno-140-14"></a>
<a id="__codelineno-140-15" name="__codelineno-140-15" href="#__codelineno-140-15"></a>
<a id="__codelineno-140-16" name="__codelineno-140-16" href="#__codelineno-140-16"></a>
<a id="__codelineno-140-17" name="__codelineno-140-17" href="#__codelineno-140-17"></a>namespace: dynatrace
<a id="__codelineno-140-18" name="__codelineno-140-18" href="#__codelineno-140-18"></a>
<a id="__codelineno-140-19" name="__codelineno-140-19" href="#__codelineno-140-19"></a>
<a id="__codelineno-140-20" name="__codelineno-140-20" href="#__codelineno-140-20"></a>
<a id="__codelineno-140-21" name="__codelineno-140-21" href="#__codelineno-140-21"></a>spec:
<a id="__codelineno-140-22" name="__codelineno-140-22" href="#__codelineno-140-22"></a>
<a id="__codelineno-140-23" name="__codelineno-140-23" href="#__codelineno-140-23"></a>
<a id="__codelineno-140-24" name="__codelineno-140-24" href="#__codelineno-140-24"></a>
<a id="__codelineno-140-25" name="__codelineno-140-25" href="#__codelineno-140-25"></a>autoUpdate: false
</code></pre></div>
<hr />
<h2 id="source-dto-auto-updatemd">Source: dto-auto-update.md<a class="headerlink" href="#source-dto-auto-updatemd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Auto-update for Dynatrace Operator
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/dto-auto-update
scraped: 2026-02-17T04:58:15.005340</p>
<hr />
<h1 id="auto-update-for-dynatrace-operator">Auto-update for Dynatrace Operator<a class="headerlink" href="#auto-update-for-dynatrace-operator" title="Permanent link">&para;</a></h1>
<h1 id="auto-update-for-dynatrace-operator_1">Auto-update for Dynatrace Operator<a class="headerlink" href="#auto-update-for-dynatrace-operator_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Mar 25, 2024</li>
</ul>
<p>Dynatrace Operator manages and auto-updates the components it deploys. To achieve a similar effect for Dynatrace Operator itself, we recommend using GitOps and open-source tools.</p>
<h2 id="recommended-setup">Recommended setup<a class="headerlink" href="#recommended-setup" title="Permanent link">&para;</a></h2>
<ul>
<li>Keep the Dynatrace Operator configuration in a Git repository.</li>
<li>Use <a href="https://dt-url.net/hi037z9">ArgoCD√Ø¬ª¬ø</a> to deploy the configuration from the Git repository into the Kubernetes environment.</li>
<li>Implement <a href="https://dt-url.net/vn237h6">Renovate√Ø¬ª¬ø</a> to automatically update the Git repository with the latest Dynatrace Operator configurations.</li>
</ul>
<h2 id="automated-update-workflow">Automated update workflow<a class="headerlink" href="#automated-update-workflow" title="Permanent link">&para;</a></h2>
<p>The workflow outlined below is a direct result of the recommended setup, ensuring that Dynatrace Operator is automatically kept up to date in your Kubernetes environment.</p>
<ol>
<li>ArgoCD deploys the configuration from the Git repository into the Kubernetes environment.</li>
<li>Renovate detects a new release of Dynatrace Operator and updates the version in the Git repository.</li>
<li>ArgoCD notices the change in the Git repository and updates Dynatrace Operator in the Kubernetes environment accordingly.</li>
</ol>
<h3 id="deploy-with-argocd">Deploy with ArgoCD<a class="headerlink" href="#deploy-with-argocd" title="Permanent link">&para;</a></h3>
<p><a href="https://dt-url.net/wt4379d">Argo√Ø¬ª¬ø</a> offers a suite of open-source tools for Kubernetes app deployment and management. ArgoCD, a continuous delivery tool, is used to keep the Dynatrace Operator configuration in sync with the Kubernetes cluster.</p>
<p>After you set up ArgoCD in your cluster, create an <code>ApplicationSet</code> YAML that specifies the source Helm chart for Dynatrace Operator, the version you want to deploy, and the target environment for the deployment.</p>
<p>ArgoCD ApplicationSet example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a># For exact syntax refer to the official ArgoCD documentation
<a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a>
<a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a>
<a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a>
<a id="__codelineno-141-5" name="__codelineno-141-5" href="#__codelineno-141-5"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-141-6" name="__codelineno-141-6" href="#__codelineno-141-6"></a>
<a id="__codelineno-141-7" name="__codelineno-141-7" href="#__codelineno-141-7"></a>
<a id="__codelineno-141-8" name="__codelineno-141-8" href="#__codelineno-141-8"></a>
<a id="__codelineno-141-9" name="__codelineno-141-9" href="#__codelineno-141-9"></a>kind: ApplicationSet
<a id="__codelineno-141-10" name="__codelineno-141-10" href="#__codelineno-141-10"></a>
<a id="__codelineno-141-11" name="__codelineno-141-11" href="#__codelineno-141-11"></a>
<a id="__codelineno-141-12" name="__codelineno-141-12" href="#__codelineno-141-12"></a>
<a id="__codelineno-141-13" name="__codelineno-141-13" href="#__codelineno-141-13"></a>metadata:
<a id="__codelineno-141-14" name="__codelineno-141-14" href="#__codelineno-141-14"></a>
<a id="__codelineno-141-15" name="__codelineno-141-15" href="#__codelineno-141-15"></a>
<a id="__codelineno-141-16" name="__codelineno-141-16" href="#__codelineno-141-16"></a>
<a id="__codelineno-141-17" name="__codelineno-141-17" href="#__codelineno-141-17"></a>name: dynatrace-operator
<a id="__codelineno-141-18" name="__codelineno-141-18" href="#__codelineno-141-18"></a>
<a id="__codelineno-141-19" name="__codelineno-141-19" href="#__codelineno-141-19"></a>
<a id="__codelineno-141-20" name="__codelineno-141-20" href="#__codelineno-141-20"></a>
<a id="__codelineno-141-21" name="__codelineno-141-21" href="#__codelineno-141-21"></a>spec:
<a id="__codelineno-141-22" name="__codelineno-141-22" href="#__codelineno-141-22"></a>
<a id="__codelineno-141-23" name="__codelineno-141-23" href="#__codelineno-141-23"></a>
<a id="__codelineno-141-24" name="__codelineno-141-24" href="#__codelineno-141-24"></a>
<a id="__codelineno-141-25" name="__codelineno-141-25" href="#__codelineno-141-25"></a>generators:
<a id="__codelineno-141-26" name="__codelineno-141-26" href="#__codelineno-141-26"></a>
<a id="__codelineno-141-27" name="__codelineno-141-27" href="#__codelineno-141-27"></a>
<a id="__codelineno-141-28" name="__codelineno-141-28" href="#__codelineno-141-28"></a>
<a id="__codelineno-141-29" name="__codelineno-141-29" href="#__codelineno-141-29"></a>...
<a id="__codelineno-141-30" name="__codelineno-141-30" href="#__codelineno-141-30"></a>
<a id="__codelineno-141-31" name="__codelineno-141-31" href="#__codelineno-141-31"></a>
<a id="__codelineno-141-32" name="__codelineno-141-32" href="#__codelineno-141-32"></a>
<a id="__codelineno-141-33" name="__codelineno-141-33" href="#__codelineno-141-33"></a>template:
<a id="__codelineno-141-34" name="__codelineno-141-34" href="#__codelineno-141-34"></a>
<a id="__codelineno-141-35" name="__codelineno-141-35" href="#__codelineno-141-35"></a>
<a id="__codelineno-141-36" name="__codelineno-141-36" href="#__codelineno-141-36"></a>
<a id="__codelineno-141-37" name="__codelineno-141-37" href="#__codelineno-141-37"></a>...
<a id="__codelineno-141-38" name="__codelineno-141-38" href="#__codelineno-141-38"></a>
<a id="__codelineno-141-39" name="__codelineno-141-39" href="#__codelineno-141-39"></a>
<a id="__codelineno-141-40" name="__codelineno-141-40" href="#__codelineno-141-40"></a>
<a id="__codelineno-141-41" name="__codelineno-141-41" href="#__codelineno-141-41"></a>spec:
<a id="__codelineno-141-42" name="__codelineno-141-42" href="#__codelineno-141-42"></a>
<a id="__codelineno-141-43" name="__codelineno-141-43" href="#__codelineno-141-43"></a>
<a id="__codelineno-141-44" name="__codelineno-141-44" href="#__codelineno-141-44"></a>
<a id="__codelineno-141-45" name="__codelineno-141-45" href="#__codelineno-141-45"></a>...
<a id="__codelineno-141-46" name="__codelineno-141-46" href="#__codelineno-141-46"></a>
<a id="__codelineno-141-47" name="__codelineno-141-47" href="#__codelineno-141-47"></a>
<a id="__codelineno-141-48" name="__codelineno-141-48" href="#__codelineno-141-48"></a>
<a id="__codelineno-141-49" name="__codelineno-141-49" href="#__codelineno-141-49"></a>source:
<a id="__codelineno-141-50" name="__codelineno-141-50" href="#__codelineno-141-50"></a>
<a id="__codelineno-141-51" name="__codelineno-141-51" href="#__codelineno-141-51"></a>
<a id="__codelineno-141-52" name="__codelineno-141-52" href="#__codelineno-141-52"></a>
<a id="__codelineno-141-53" name="__codelineno-141-53" href="#__codelineno-141-53"></a>repoURL: https://raw.githubusercontent.com/Dynatrace/dynatrace-operator/main/config/helm/repos/stable
<a id="__codelineno-141-54" name="__codelineno-141-54" href="#__codelineno-141-54"></a>
<a id="__codelineno-141-55" name="__codelineno-141-55" href="#__codelineno-141-55"></a>
<a id="__codelineno-141-56" name="__codelineno-141-56" href="#__codelineno-141-56"></a>
<a id="__codelineno-141-57" name="__codelineno-141-57" href="#__codelineno-141-57"></a>chart: dynatrace-operator
<a id="__codelineno-141-58" name="__codelineno-141-58" href="#__codelineno-141-58"></a>
<a id="__codelineno-141-59" name="__codelineno-141-59" href="#__codelineno-141-59"></a>
<a id="__codelineno-141-60" name="__codelineno-141-60" href="#__codelineno-141-60"></a>
<a id="__codelineno-141-61" name="__codelineno-141-61" href="#__codelineno-141-61"></a>targetRevision: &lt;version&gt;
</code></pre></div>
<h3 id="automate-updates-with-renovate">Automate updates with Renovate<a class="headerlink" href="#automate-updates-with-renovate" title="Permanent link">&para;</a></h3>
<p>Renovate automates the updating of dependencies in Git repositories. Integrating Renovate into your workflow ensures that the Dynatrace Operator version specified in your <code>ApplicationSet</code> is always up to date. Use the <a href="https://dt-url.net/67637gq">Renovate guide√Ø¬ª¬ø</a> for instructions on updating ArgoCD configurations.</p>
<h2 id="related-topics_6">Related topics<a class="headerlink" href="#related-topics_6" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/using-gitops" title="How to deploy Dynatrace Operator and DynaKube using GitOps.">Manage Dynatrace deployments using GitOps</a></li>
</ul>
<hr />
<h2 id="source-using-gitopsmd">Source: using-gitops.md<a class="headerlink" href="#source-using-gitopsmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Manage Dynatrace deployments using GitOps
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/using-gitops
scraped: 2026-02-17T04:48:36.842745</p>
<hr />
<h1 id="manage-dynatrace-deployments-using-gitops">Manage Dynatrace deployments using GitOps<a class="headerlink" href="#manage-dynatrace-deployments-using-gitops" title="Permanent link">&para;</a></h1>
<h1 id="manage-dynatrace-deployments-using-gitops_1">Manage Dynatrace deployments using GitOps<a class="headerlink" href="#manage-dynatrace-deployments-using-gitops_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>4-min read</li>
<li>Published Mar 25, 2024</li>
</ul>
<p>With many companies today adopting GitOps for streamlined Kubernetes deployments, there's a growing interest in applying these practices to Dynatrace components. This guide focuses on deploying Dynatrace Operator with GitOps tools and setting up monitoring efficiently using the DynaKube custom resource (CR), aligning with modern deployment strategies.</p>
<h2 id="using-argocd">Using ArgoCD<a class="headerlink" href="#using-argocd" title="Permanent link">&para;</a></h2>
<p>This section discusses deploying Dynatrace Operator and applying a DynaKube CR using <a href="https://dt-url.net/hi037z9">ArgoCD√Ø¬ª¬ø</a>. Additionally, it outlines options and tips for flexible integration with ArgoCD.</p>
<p>The following three points describe Dynatrace deployment options outlined by the subsections and combinations of them.</p>
<ol>
<li>Individually <a href="#deploy-dynatrace-operator">Deploy Dynatrace Operator</a> and <a href="#apply-dynakube-custom-resource">Apply DynaKube CR</a> via ArgoCD Applications</li>
<li>Apply ArgoCD's <a href="#applying-the-app-of-apps-pattern">App of Apps pattern</a></li>
<li>Use <a href="#using-multiple-sources-for-an-argocd-application-beta-feature">multiple sources</a> for an ArgoCD Application (beta feature)</li>
</ol>
<p>This guide was developed and tested with ArgoCD version 2.10.3.</p>
<h3 id="deploy-dynatrace-operator">Deploy Dynatrace Operator<a class="headerlink" href="#deploy-dynatrace-operator" title="Permanent link">&para;</a></h3>
<p>The following ArgoCD Application defines Dynatrace Operator deployment using the OCI-based Helm chart from Amazon ECR:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a>
<a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a>
<a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a>
<a id="__codelineno-142-5" name="__codelineno-142-5" href="#__codelineno-142-5"></a>kind: Application
<a id="__codelineno-142-6" name="__codelineno-142-6" href="#__codelineno-142-6"></a>
<a id="__codelineno-142-7" name="__codelineno-142-7" href="#__codelineno-142-7"></a>
<a id="__codelineno-142-8" name="__codelineno-142-8" href="#__codelineno-142-8"></a>
<a id="__codelineno-142-9" name="__codelineno-142-9" href="#__codelineno-142-9"></a>metadata:
<a id="__codelineno-142-10" name="__codelineno-142-10" href="#__codelineno-142-10"></a>
<a id="__codelineno-142-11" name="__codelineno-142-11" href="#__codelineno-142-11"></a>
<a id="__codelineno-142-12" name="__codelineno-142-12" href="#__codelineno-142-12"></a>
<a id="__codelineno-142-13" name="__codelineno-142-13" href="#__codelineno-142-13"></a>name: dynatrace-operator
<a id="__codelineno-142-14" name="__codelineno-142-14" href="#__codelineno-142-14"></a>
<a id="__codelineno-142-15" name="__codelineno-142-15" href="#__codelineno-142-15"></a>
<a id="__codelineno-142-16" name="__codelineno-142-16" href="#__codelineno-142-16"></a>
<a id="__codelineno-142-17" name="__codelineno-142-17" href="#__codelineno-142-17"></a>namespace: argocd
<a id="__codelineno-142-18" name="__codelineno-142-18" href="#__codelineno-142-18"></a>
<a id="__codelineno-142-19" name="__codelineno-142-19" href="#__codelineno-142-19"></a>
<a id="__codelineno-142-20" name="__codelineno-142-20" href="#__codelineno-142-20"></a>
<a id="__codelineno-142-21" name="__codelineno-142-21" href="#__codelineno-142-21"></a>spec:
<a id="__codelineno-142-22" name="__codelineno-142-22" href="#__codelineno-142-22"></a>
<a id="__codelineno-142-23" name="__codelineno-142-23" href="#__codelineno-142-23"></a>
<a id="__codelineno-142-24" name="__codelineno-142-24" href="#__codelineno-142-24"></a>
<a id="__codelineno-142-25" name="__codelineno-142-25" href="#__codelineno-142-25"></a>project: default
<a id="__codelineno-142-26" name="__codelineno-142-26" href="#__codelineno-142-26"></a>
<a id="__codelineno-142-27" name="__codelineno-142-27" href="#__codelineno-142-27"></a>
<a id="__codelineno-142-28" name="__codelineno-142-28" href="#__codelineno-142-28"></a>
<a id="__codelineno-142-29" name="__codelineno-142-29" href="#__codelineno-142-29"></a>destination:
<a id="__codelineno-142-30" name="__codelineno-142-30" href="#__codelineno-142-30"></a>
<a id="__codelineno-142-31" name="__codelineno-142-31" href="#__codelineno-142-31"></a>
<a id="__codelineno-142-32" name="__codelineno-142-32" href="#__codelineno-142-32"></a>
<a id="__codelineno-142-33" name="__codelineno-142-33" href="#__codelineno-142-33"></a>server: https://kubernetes.default.svc
<a id="__codelineno-142-34" name="__codelineno-142-34" href="#__codelineno-142-34"></a>
<a id="__codelineno-142-35" name="__codelineno-142-35" href="#__codelineno-142-35"></a>
<a id="__codelineno-142-36" name="__codelineno-142-36" href="#__codelineno-142-36"></a>
<a id="__codelineno-142-37" name="__codelineno-142-37" href="#__codelineno-142-37"></a>namespace: dynatrace
<a id="__codelineno-142-38" name="__codelineno-142-38" href="#__codelineno-142-38"></a>
<a id="__codelineno-142-39" name="__codelineno-142-39" href="#__codelineno-142-39"></a>
<a id="__codelineno-142-40" name="__codelineno-142-40" href="#__codelineno-142-40"></a>
<a id="__codelineno-142-41" name="__codelineno-142-41" href="#__codelineno-142-41"></a>source:
<a id="__codelineno-142-42" name="__codelineno-142-42" href="#__codelineno-142-42"></a>
<a id="__codelineno-142-43" name="__codelineno-142-43" href="#__codelineno-142-43"></a>
<a id="__codelineno-142-44" name="__codelineno-142-44" href="#__codelineno-142-44"></a>
<a id="__codelineno-142-45" name="__codelineno-142-45" href="#__codelineno-142-45"></a>repoURL: public.ecr.aws/dynatrace
<a id="__codelineno-142-46" name="__codelineno-142-46" href="#__codelineno-142-46"></a>
<a id="__codelineno-142-47" name="__codelineno-142-47" href="#__codelineno-142-47"></a>
<a id="__codelineno-142-48" name="__codelineno-142-48" href="#__codelineno-142-48"></a>
<a id="__codelineno-142-49" name="__codelineno-142-49" href="#__codelineno-142-49"></a>chart: dynatrace-operator
<a id="__codelineno-142-50" name="__codelineno-142-50" href="#__codelineno-142-50"></a>
<a id="__codelineno-142-51" name="__codelineno-142-51" href="#__codelineno-142-51"></a>
<a id="__codelineno-142-52" name="__codelineno-142-52" href="#__codelineno-142-52"></a>
<a id="__codelineno-142-53" name="__codelineno-142-53" href="#__codelineno-142-53"></a>targetRevision: 1.0.0
<a id="__codelineno-142-54" name="__codelineno-142-54" href="#__codelineno-142-54"></a>
<a id="__codelineno-142-55" name="__codelineno-142-55" href="#__codelineno-142-55"></a>
<a id="__codelineno-142-56" name="__codelineno-142-56" href="#__codelineno-142-56"></a>
<a id="__codelineno-142-57" name="__codelineno-142-57" href="#__codelineno-142-57"></a>helm: {}
</code></pre></div>
<p>For deployment customization via Helm values, please refer to ArgoCD's <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/helm/">Helm user guide√Ø¬ª¬ø</a>.</p>
<p>The Application CR can be applied in the following ways:</p>
<ul>
<li>Directly via <em>kubectl</em></li>
<li>By <a href="#applying-the-app-of-apps-pattern">applying the App of Apps pattern</a></li>
</ul>
<h4 id="multi-cluster-deployments-via-argocd-applicationset">Multi-cluster deployments via ArgoCD ApplicationSet<a class="headerlink" href="#multi-cluster-deployments-via-argocd-applicationset" title="Permanent link">&para;</a></h4>
<p>To use ApplicationSet CRs for multi-cluster deployments, use the Application CR from above as a template and integrate it into an ApplicationSet CR according to <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/applicationset/#the-applicationset-resource">ArgoCD's official documentation√Ø¬ª¬ø</a>.</p>
<h3 id="apply-dynakube-custom-resource">Apply DynaKube custom resource<a class="headerlink" href="#apply-dynakube-custom-resource" title="Permanent link">&para;</a></h3>
<p>The following ArgoCD Application references a Git repository holding a DynaKube CR under the specified filepath:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a>
<a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a>
<a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a>
<a id="__codelineno-143-5" name="__codelineno-143-5" href="#__codelineno-143-5"></a>kind: Application
<a id="__codelineno-143-6" name="__codelineno-143-6" href="#__codelineno-143-6"></a>
<a id="__codelineno-143-7" name="__codelineno-143-7" href="#__codelineno-143-7"></a>
<a id="__codelineno-143-8" name="__codelineno-143-8" href="#__codelineno-143-8"></a>
<a id="__codelineno-143-9" name="__codelineno-143-9" href="#__codelineno-143-9"></a>metadata:
<a id="__codelineno-143-10" name="__codelineno-143-10" href="#__codelineno-143-10"></a>
<a id="__codelineno-143-11" name="__codelineno-143-11" href="#__codelineno-143-11"></a>
<a id="__codelineno-143-12" name="__codelineno-143-12" href="#__codelineno-143-12"></a>
<a id="__codelineno-143-13" name="__codelineno-143-13" href="#__codelineno-143-13"></a>name: dynakube
<a id="__codelineno-143-14" name="__codelineno-143-14" href="#__codelineno-143-14"></a>
<a id="__codelineno-143-15" name="__codelineno-143-15" href="#__codelineno-143-15"></a>
<a id="__codelineno-143-16" name="__codelineno-143-16" href="#__codelineno-143-16"></a>
<a id="__codelineno-143-17" name="__codelineno-143-17" href="#__codelineno-143-17"></a>namespace: argocd
<a id="__codelineno-143-18" name="__codelineno-143-18" href="#__codelineno-143-18"></a>
<a id="__codelineno-143-19" name="__codelineno-143-19" href="#__codelineno-143-19"></a>
<a id="__codelineno-143-20" name="__codelineno-143-20" href="#__codelineno-143-20"></a>
<a id="__codelineno-143-21" name="__codelineno-143-21" href="#__codelineno-143-21"></a>spec:
<a id="__codelineno-143-22" name="__codelineno-143-22" href="#__codelineno-143-22"></a>
<a id="__codelineno-143-23" name="__codelineno-143-23" href="#__codelineno-143-23"></a>
<a id="__codelineno-143-24" name="__codelineno-143-24" href="#__codelineno-143-24"></a>
<a id="__codelineno-143-25" name="__codelineno-143-25" href="#__codelineno-143-25"></a>project: default
<a id="__codelineno-143-26" name="__codelineno-143-26" href="#__codelineno-143-26"></a>
<a id="__codelineno-143-27" name="__codelineno-143-27" href="#__codelineno-143-27"></a>
<a id="__codelineno-143-28" name="__codelineno-143-28" href="#__codelineno-143-28"></a>
<a id="__codelineno-143-29" name="__codelineno-143-29" href="#__codelineno-143-29"></a>destination:
<a id="__codelineno-143-30" name="__codelineno-143-30" href="#__codelineno-143-30"></a>
<a id="__codelineno-143-31" name="__codelineno-143-31" href="#__codelineno-143-31"></a>
<a id="__codelineno-143-32" name="__codelineno-143-32" href="#__codelineno-143-32"></a>
<a id="__codelineno-143-33" name="__codelineno-143-33" href="#__codelineno-143-33"></a>server: https://kubernetes.default.svc
<a id="__codelineno-143-34" name="__codelineno-143-34" href="#__codelineno-143-34"></a>
<a id="__codelineno-143-35" name="__codelineno-143-35" href="#__codelineno-143-35"></a>
<a id="__codelineno-143-36" name="__codelineno-143-36" href="#__codelineno-143-36"></a>
<a id="__codelineno-143-37" name="__codelineno-143-37" href="#__codelineno-143-37"></a>namespace: dynatrace
<a id="__codelineno-143-38" name="__codelineno-143-38" href="#__codelineno-143-38"></a>
<a id="__codelineno-143-39" name="__codelineno-143-39" href="#__codelineno-143-39"></a>
<a id="__codelineno-143-40" name="__codelineno-143-40" href="#__codelineno-143-40"></a>
<a id="__codelineno-143-41" name="__codelineno-143-41" href="#__codelineno-143-41"></a>source:
<a id="__codelineno-143-42" name="__codelineno-143-42" href="#__codelineno-143-42"></a>
<a id="__codelineno-143-43" name="__codelineno-143-43" href="#__codelineno-143-43"></a>
<a id="__codelineno-143-44" name="__codelineno-143-44" href="#__codelineno-143-44"></a>
<a id="__codelineno-143-45" name="__codelineno-143-45" href="#__codelineno-143-45"></a>repoURL: &lt;git-reopository-url&gt;
<a id="__codelineno-143-46" name="__codelineno-143-46" href="#__codelineno-143-46"></a>
<a id="__codelineno-143-47" name="__codelineno-143-47" href="#__codelineno-143-47"></a>
<a id="__codelineno-143-48" name="__codelineno-143-48" href="#__codelineno-143-48"></a>
<a id="__codelineno-143-49" name="__codelineno-143-49" href="#__codelineno-143-49"></a>targetRevision: &lt;revision&gt;
<a id="__codelineno-143-50" name="__codelineno-143-50" href="#__codelineno-143-50"></a>
<a id="__codelineno-143-51" name="__codelineno-143-51" href="#__codelineno-143-51"></a>
<a id="__codelineno-143-52" name="__codelineno-143-52" href="#__codelineno-143-52"></a>
<a id="__codelineno-143-53" name="__codelineno-143-53" href="#__codelineno-143-53"></a>path: &lt;path-to-dynakube-dir&gt;
</code></pre></div>
<p>Replace the <code>repoURL</code>, <code>targetRevision</code>, and <code>path</code> source fields with meaningful values before applying the Application CR in either of these ways:</p>
<ul>
<li>Directly via <em>kubectl</em></li>
<li>By <a href="#applying-the-app-of-apps-pattern">applying the App of Apps pattern</a></li>
</ul>
<p>For details on DynaKube CR configuration, see the <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">deployment modes</a> documentation.</p>
<h3 id="apply-the-app-of-apps-pattern">Apply the App of Apps pattern<a class="headerlink" href="#apply-the-app-of-apps-pattern" title="Permanent link">&para;</a></h3>
<p>ArgoCD's <a href="https://dt-url.net/s963lbz">App Of Apps pattern√Ø¬ª¬ø</a> describes a very common approach in the ArgoCD community enabling automatic cluster bootstrapping. In combination with <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/">Sync Phases and Waves√Ø¬ª¬ø</a>, the App of Apps pattern provides sequential control over Application synchronization required for deploying Dynatrace Operator before applying a DynaKube CR <a href="#fn-1-1-def">1</a>.</p>
<p>Add the <code>argocd.argoproj.io/sync-wave</code> annotation with the respective value to the Application CRs from the above sections as illustrated in the following snippet:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a>
<a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a>
<a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a>
<a id="__codelineno-144-5" name="__codelineno-144-5" href="#__codelineno-144-5"></a>kind: Application
<a id="__codelineno-144-6" name="__codelineno-144-6" href="#__codelineno-144-6"></a>
<a id="__codelineno-144-7" name="__codelineno-144-7" href="#__codelineno-144-7"></a>
<a id="__codelineno-144-8" name="__codelineno-144-8" href="#__codelineno-144-8"></a>
<a id="__codelineno-144-9" name="__codelineno-144-9" href="#__codelineno-144-9"></a>metadata:
<a id="__codelineno-144-10" name="__codelineno-144-10" href="#__codelineno-144-10"></a>
<a id="__codelineno-144-11" name="__codelineno-144-11" href="#__codelineno-144-11"></a>
<a id="__codelineno-144-12" name="__codelineno-144-12" href="#__codelineno-144-12"></a>
<a id="__codelineno-144-13" name="__codelineno-144-13" href="#__codelineno-144-13"></a>annotations:
<a id="__codelineno-144-14" name="__codelineno-144-14" href="#__codelineno-144-14"></a>
<a id="__codelineno-144-15" name="__codelineno-144-15" href="#__codelineno-144-15"></a>
<a id="__codelineno-144-16" name="__codelineno-144-16" href="#__codelineno-144-16"></a>
<a id="__codelineno-144-17" name="__codelineno-144-17" href="#__codelineno-144-17"></a>argocd.argoproj.io/sync-wave: &quot;0&quot;
<a id="__codelineno-144-18" name="__codelineno-144-18" href="#__codelineno-144-18"></a>
<a id="__codelineno-144-19" name="__codelineno-144-19" href="#__codelineno-144-19"></a>
<a id="__codelineno-144-20" name="__codelineno-144-20" href="#__codelineno-144-20"></a>
<a id="__codelineno-144-21" name="__codelineno-144-21" href="#__codelineno-144-21"></a>name: dynatrace-operator
<a id="__codelineno-144-22" name="__codelineno-144-22" href="#__codelineno-144-22"></a>
<a id="__codelineno-144-23" name="__codelineno-144-23" href="#__codelineno-144-23"></a>
<a id="__codelineno-144-24" name="__codelineno-144-24" href="#__codelineno-144-24"></a>
<a id="__codelineno-144-25" name="__codelineno-144-25" href="#__codelineno-144-25"></a>namespace: argocd
<a id="__codelineno-144-26" name="__codelineno-144-26" href="#__codelineno-144-26"></a>
<a id="__codelineno-144-27" name="__codelineno-144-27" href="#__codelineno-144-27"></a>
<a id="__codelineno-144-28" name="__codelineno-144-28" href="#__codelineno-144-28"></a>
<a id="__codelineno-144-29" name="__codelineno-144-29" href="#__codelineno-144-29"></a>spec:
<a id="__codelineno-144-30" name="__codelineno-144-30" href="#__codelineno-144-30"></a>
<a id="__codelineno-144-31" name="__codelineno-144-31" href="#__codelineno-144-31"></a>
<a id="__codelineno-144-32" name="__codelineno-144-32" href="#__codelineno-144-32"></a>
<a id="__codelineno-144-33" name="__codelineno-144-33" href="#__codelineno-144-33"></a>...
<a id="__codelineno-144-34" name="__codelineno-144-34" href="#__codelineno-144-34"></a>
<a id="__codelineno-144-35" name="__codelineno-144-35" href="#__codelineno-144-35"></a>
<a id="__codelineno-144-36" name="__codelineno-144-36" href="#__codelineno-144-36"></a>
<a id="__codelineno-144-37" name="__codelineno-144-37" href="#__codelineno-144-37"></a>---
<a id="__codelineno-144-38" name="__codelineno-144-38" href="#__codelineno-144-38"></a>
<a id="__codelineno-144-39" name="__codelineno-144-39" href="#__codelineno-144-39"></a>
<a id="__codelineno-144-40" name="__codelineno-144-40" href="#__codelineno-144-40"></a>
<a id="__codelineno-144-41" name="__codelineno-144-41" href="#__codelineno-144-41"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-144-42" name="__codelineno-144-42" href="#__codelineno-144-42"></a>
<a id="__codelineno-144-43" name="__codelineno-144-43" href="#__codelineno-144-43"></a>
<a id="__codelineno-144-44" name="__codelineno-144-44" href="#__codelineno-144-44"></a>
<a id="__codelineno-144-45" name="__codelineno-144-45" href="#__codelineno-144-45"></a>kind: Application
<a id="__codelineno-144-46" name="__codelineno-144-46" href="#__codelineno-144-46"></a>
<a id="__codelineno-144-47" name="__codelineno-144-47" href="#__codelineno-144-47"></a>
<a id="__codelineno-144-48" name="__codelineno-144-48" href="#__codelineno-144-48"></a>
<a id="__codelineno-144-49" name="__codelineno-144-49" href="#__codelineno-144-49"></a>metadata:
<a id="__codelineno-144-50" name="__codelineno-144-50" href="#__codelineno-144-50"></a>
<a id="__codelineno-144-51" name="__codelineno-144-51" href="#__codelineno-144-51"></a>
<a id="__codelineno-144-52" name="__codelineno-144-52" href="#__codelineno-144-52"></a>
<a id="__codelineno-144-53" name="__codelineno-144-53" href="#__codelineno-144-53"></a>annotations:
<a id="__codelineno-144-54" name="__codelineno-144-54" href="#__codelineno-144-54"></a>
<a id="__codelineno-144-55" name="__codelineno-144-55" href="#__codelineno-144-55"></a>
<a id="__codelineno-144-56" name="__codelineno-144-56" href="#__codelineno-144-56"></a>
<a id="__codelineno-144-57" name="__codelineno-144-57" href="#__codelineno-144-57"></a>argocd.argoproj.io/sync-wave: &quot;10&quot;
<a id="__codelineno-144-58" name="__codelineno-144-58" href="#__codelineno-144-58"></a>
<a id="__codelineno-144-59" name="__codelineno-144-59" href="#__codelineno-144-59"></a>
<a id="__codelineno-144-60" name="__codelineno-144-60" href="#__codelineno-144-60"></a>
<a id="__codelineno-144-61" name="__codelineno-144-61" href="#__codelineno-144-61"></a>name: dynakube
<a id="__codelineno-144-62" name="__codelineno-144-62" href="#__codelineno-144-62"></a>
<a id="__codelineno-144-63" name="__codelineno-144-63" href="#__codelineno-144-63"></a>
<a id="__codelineno-144-64" name="__codelineno-144-64" href="#__codelineno-144-64"></a>
<a id="__codelineno-144-65" name="__codelineno-144-65" href="#__codelineno-144-65"></a>namespace: argocd
<a id="__codelineno-144-66" name="__codelineno-144-66" href="#__codelineno-144-66"></a>
<a id="__codelineno-144-67" name="__codelineno-144-67" href="#__codelineno-144-67"></a>
<a id="__codelineno-144-68" name="__codelineno-144-68" href="#__codelineno-144-68"></a>
<a id="__codelineno-144-69" name="__codelineno-144-69" href="#__codelineno-144-69"></a>spec:
<a id="__codelineno-144-70" name="__codelineno-144-70" href="#__codelineno-144-70"></a>
<a id="__codelineno-144-71" name="__codelineno-144-71" href="#__codelineno-144-71"></a>
<a id="__codelineno-144-72" name="__codelineno-144-72" href="#__codelineno-144-72"></a>
<a id="__codelineno-144-73" name="__codelineno-144-73" href="#__codelineno-144-73"></a>...
</code></pre></div>
<p>Both Application CRs are meant to be applied via the App of Apps pattern (which requires a parent Application CR).</p>
<p>1</p>
<p><a href="https://dt-url.net/8g23lou">Creating Custom Resource Definitions (CRDs)√Ø¬ª¬ø</a> installed via the Helm chart can take several seconds, leading to the possibility that the initial application of the DynaKube CR will fail. To circumvent the given race condition, we recommend <a href="https://dt-url.net/ci03l8w">configuring ArgoCD for the use of App of Apps√Ø¬ª¬ø</a> by changing the health assessment logic for Applications. Alternatively, automatic retries of synchronizations can be configured.</p>
<h3 id="use-multiple-sources-for-an-argocd-application-beta-feature">Use multiple sources for an ArgoCD Application (beta feature)<a class="headerlink" href="#use-multiple-sources-for-an-argocd-application-beta-feature" title="Permanent link">&para;</a></h3>
<p>Multiple sources for an Application is an ArgoCD beta feature and is subject to change in backwards-incompatible ways, according ArgoCD documentation.</p>
<p><a href="https://argo-cd.readthedocs.io/en/stable/user-guide/multiple_sources/">Multiple sources for an Application√Ø¬ª¬ø</a> enables you to use a single ArgoCD Application for deployment of Dynatrace Operator and DynaKube CR.
Additionally, the feature allows Helm value files to be sources from a Git repository other than the Helm chart itself, which was not possible in ArgoCD before.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a>apiVersion: argoproj.io/v1alpha1
<a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a>
<a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a>
<a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a>
<a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a>kind: Application
<a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a>
<a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a>
<a id="__codelineno-145-8" name="__codelineno-145-8" href="#__codelineno-145-8"></a>
<a id="__codelineno-145-9" name="__codelineno-145-9" href="#__codelineno-145-9"></a>metadata:
<a id="__codelineno-145-10" name="__codelineno-145-10" href="#__codelineno-145-10"></a>
<a id="__codelineno-145-11" name="__codelineno-145-11" href="#__codelineno-145-11"></a>
<a id="__codelineno-145-12" name="__codelineno-145-12" href="#__codelineno-145-12"></a>
<a id="__codelineno-145-13" name="__codelineno-145-13" href="#__codelineno-145-13"></a>name: dynatrace
<a id="__codelineno-145-14" name="__codelineno-145-14" href="#__codelineno-145-14"></a>
<a id="__codelineno-145-15" name="__codelineno-145-15" href="#__codelineno-145-15"></a>
<a id="__codelineno-145-16" name="__codelineno-145-16" href="#__codelineno-145-16"></a>
<a id="__codelineno-145-17" name="__codelineno-145-17" href="#__codelineno-145-17"></a>namespace: argocd
<a id="__codelineno-145-18" name="__codelineno-145-18" href="#__codelineno-145-18"></a>
<a id="__codelineno-145-19" name="__codelineno-145-19" href="#__codelineno-145-19"></a>
<a id="__codelineno-145-20" name="__codelineno-145-20" href="#__codelineno-145-20"></a>
<a id="__codelineno-145-21" name="__codelineno-145-21" href="#__codelineno-145-21"></a>spec:
<a id="__codelineno-145-22" name="__codelineno-145-22" href="#__codelineno-145-22"></a>
<a id="__codelineno-145-23" name="__codelineno-145-23" href="#__codelineno-145-23"></a>
<a id="__codelineno-145-24" name="__codelineno-145-24" href="#__codelineno-145-24"></a>
<a id="__codelineno-145-25" name="__codelineno-145-25" href="#__codelineno-145-25"></a>project: default
<a id="__codelineno-145-26" name="__codelineno-145-26" href="#__codelineno-145-26"></a>
<a id="__codelineno-145-27" name="__codelineno-145-27" href="#__codelineno-145-27"></a>
<a id="__codelineno-145-28" name="__codelineno-145-28" href="#__codelineno-145-28"></a>
<a id="__codelineno-145-29" name="__codelineno-145-29" href="#__codelineno-145-29"></a>destination:
<a id="__codelineno-145-30" name="__codelineno-145-30" href="#__codelineno-145-30"></a>
<a id="__codelineno-145-31" name="__codelineno-145-31" href="#__codelineno-145-31"></a>
<a id="__codelineno-145-32" name="__codelineno-145-32" href="#__codelineno-145-32"></a>
<a id="__codelineno-145-33" name="__codelineno-145-33" href="#__codelineno-145-33"></a>server: https://kubernetes.default.svc
<a id="__codelineno-145-34" name="__codelineno-145-34" href="#__codelineno-145-34"></a>
<a id="__codelineno-145-35" name="__codelineno-145-35" href="#__codelineno-145-35"></a>
<a id="__codelineno-145-36" name="__codelineno-145-36" href="#__codelineno-145-36"></a>
<a id="__codelineno-145-37" name="__codelineno-145-37" href="#__codelineno-145-37"></a>namespace: dynatrace
<a id="__codelineno-145-38" name="__codelineno-145-38" href="#__codelineno-145-38"></a>
<a id="__codelineno-145-39" name="__codelineno-145-39" href="#__codelineno-145-39"></a>
<a id="__codelineno-145-40" name="__codelineno-145-40" href="#__codelineno-145-40"></a>
<a id="__codelineno-145-41" name="__codelineno-145-41" href="#__codelineno-145-41"></a>sources:
<a id="__codelineno-145-42" name="__codelineno-145-42" href="#__codelineno-145-42"></a>
<a id="__codelineno-145-43" name="__codelineno-145-43" href="#__codelineno-145-43"></a>
<a id="__codelineno-145-44" name="__codelineno-145-44" href="#__codelineno-145-44"></a>
<a id="__codelineno-145-45" name="__codelineno-145-45" href="#__codelineno-145-45"></a>- repoURL: public.ecr.aws/dynatrace
<a id="__codelineno-145-46" name="__codelineno-145-46" href="#__codelineno-145-46"></a>
<a id="__codelineno-145-47" name="__codelineno-145-47" href="#__codelineno-145-47"></a>
<a id="__codelineno-145-48" name="__codelineno-145-48" href="#__codelineno-145-48"></a>
<a id="__codelineno-145-49" name="__codelineno-145-49" href="#__codelineno-145-49"></a>chart: dynatrace-operator
<a id="__codelineno-145-50" name="__codelineno-145-50" href="#__codelineno-145-50"></a>
<a id="__codelineno-145-51" name="__codelineno-145-51" href="#__codelineno-145-51"></a>
<a id="__codelineno-145-52" name="__codelineno-145-52" href="#__codelineno-145-52"></a>
<a id="__codelineno-145-53" name="__codelineno-145-53" href="#__codelineno-145-53"></a>targetRevision: 1.0.0
<a id="__codelineno-145-54" name="__codelineno-145-54" href="#__codelineno-145-54"></a>
<a id="__codelineno-145-55" name="__codelineno-145-55" href="#__codelineno-145-55"></a>
<a id="__codelineno-145-56" name="__codelineno-145-56" href="#__codelineno-145-56"></a>
<a id="__codelineno-145-57" name="__codelineno-145-57" href="#__codelineno-145-57"></a>helm:
<a id="__codelineno-145-58" name="__codelineno-145-58" href="#__codelineno-145-58"></a>
<a id="__codelineno-145-59" name="__codelineno-145-59" href="#__codelineno-145-59"></a>
<a id="__codelineno-145-60" name="__codelineno-145-60" href="#__codelineno-145-60"></a>
<a id="__codelineno-145-61" name="__codelineno-145-61" href="#__codelineno-145-61"></a>valueFiles:
<a id="__codelineno-145-62" name="__codelineno-145-62" href="#__codelineno-145-62"></a>
<a id="__codelineno-145-63" name="__codelineno-145-63" href="#__codelineno-145-63"></a>
<a id="__codelineno-145-64" name="__codelineno-145-64" href="#__codelineno-145-64"></a>
<a id="__codelineno-145-65" name="__codelineno-145-65" href="#__codelineno-145-65"></a>- $values/&lt;path-to-dynatrace-operator-values-file&gt;
<a id="__codelineno-145-66" name="__codelineno-145-66" href="#__codelineno-145-66"></a>
<a id="__codelineno-145-67" name="__codelineno-145-67" href="#__codelineno-145-67"></a>
<a id="__codelineno-145-68" name="__codelineno-145-68" href="#__codelineno-145-68"></a>
<a id="__codelineno-145-69" name="__codelineno-145-69" href="#__codelineno-145-69"></a>- repoURL: &lt;git-repository-url&gt;
<a id="__codelineno-145-70" name="__codelineno-145-70" href="#__codelineno-145-70"></a>
<a id="__codelineno-145-71" name="__codelineno-145-71" href="#__codelineno-145-71"></a>
<a id="__codelineno-145-72" name="__codelineno-145-72" href="#__codelineno-145-72"></a>
<a id="__codelineno-145-73" name="__codelineno-145-73" href="#__codelineno-145-73"></a>targetRevision: HEAD
<a id="__codelineno-145-74" name="__codelineno-145-74" href="#__codelineno-145-74"></a>
<a id="__codelineno-145-75" name="__codelineno-145-75" href="#__codelineno-145-75"></a>
<a id="__codelineno-145-76" name="__codelineno-145-76" href="#__codelineno-145-76"></a>
<a id="__codelineno-145-77" name="__codelineno-145-77" href="#__codelineno-145-77"></a>ref: values
<a id="__codelineno-145-78" name="__codelineno-145-78" href="#__codelineno-145-78"></a>
<a id="__codelineno-145-79" name="__codelineno-145-79" href="#__codelineno-145-79"></a>
<a id="__codelineno-145-80" name="__codelineno-145-80" href="#__codelineno-145-80"></a>
<a id="__codelineno-145-81" name="__codelineno-145-81" href="#__codelineno-145-81"></a>- repoURL: &lt;git-repository-url&gt;
<a id="__codelineno-145-82" name="__codelineno-145-82" href="#__codelineno-145-82"></a>
<a id="__codelineno-145-83" name="__codelineno-145-83" href="#__codelineno-145-83"></a>
<a id="__codelineno-145-84" name="__codelineno-145-84" href="#__codelineno-145-84"></a>
<a id="__codelineno-145-85" name="__codelineno-145-85" href="#__codelineno-145-85"></a>targetRevision: HEAD
<a id="__codelineno-145-86" name="__codelineno-145-86" href="#__codelineno-145-86"></a>
<a id="__codelineno-145-87" name="__codelineno-145-87" href="#__codelineno-145-87"></a>
<a id="__codelineno-145-88" name="__codelineno-145-88" href="#__codelineno-145-88"></a>
<a id="__codelineno-145-89" name="__codelineno-145-89" href="#__codelineno-145-89"></a>path: &lt;path-to-dynakube-dir&gt;
<a id="__codelineno-145-90" name="__codelineno-145-90" href="#__codelineno-145-90"></a>
<a id="__codelineno-145-91" name="__codelineno-145-91" href="#__codelineno-145-91"></a>
<a id="__codelineno-145-92" name="__codelineno-145-92" href="#__codelineno-145-92"></a>
<a id="__codelineno-145-93" name="__codelineno-145-93" href="#__codelineno-145-93"></a>syncPolicy:
<a id="__codelineno-145-94" name="__codelineno-145-94" href="#__codelineno-145-94"></a>
<a id="__codelineno-145-95" name="__codelineno-145-95" href="#__codelineno-145-95"></a>
<a id="__codelineno-145-96" name="__codelineno-145-96" href="#__codelineno-145-96"></a>
<a id="__codelineno-145-97" name="__codelineno-145-97" href="#__codelineno-145-97"></a>retry: # sample retry configuration; for details, see footnote below
<a id="__codelineno-145-98" name="__codelineno-145-98" href="#__codelineno-145-98"></a>
<a id="__codelineno-145-99" name="__codelineno-145-99" href="#__codelineno-145-99"></a>
<a id="__codelineno-145-100" name="__codelineno-145-100" href="#__codelineno-145-100"></a>
<a id="__codelineno-145-101" name="__codelineno-145-101" href="#__codelineno-145-101"></a>limit: 5
<a id="__codelineno-145-102" name="__codelineno-145-102" href="#__codelineno-145-102"></a>
<a id="__codelineno-145-103" name="__codelineno-145-103" href="#__codelineno-145-103"></a>
<a id="__codelineno-145-104" name="__codelineno-145-104" href="#__codelineno-145-104"></a>
<a id="__codelineno-145-105" name="__codelineno-145-105" href="#__codelineno-145-105"></a>...
<a id="__codelineno-145-106" name="__codelineno-145-106" href="#__codelineno-145-106"></a>
<a id="__codelineno-145-107" name="__codelineno-145-107" href="#__codelineno-145-107"></a>
<a id="__codelineno-145-108" name="__codelineno-145-108" href="#__codelineno-145-108"></a>
<a id="__codelineno-145-109" name="__codelineno-145-109" href="#__codelineno-145-109"></a>...
</code></pre></div>
<p>Before applying, replace all placeholders with meaningful values and configure automatic retries<a href="#fn-2-2-def">2</a>.</p>
<p>2</p>
<p><a href="https://dt-url.net/id43ley">Creating Custom Resource Definitions (CRDs)√Ø¬ª¬ø</a> installed via the Helm chart can take several seconds, leading to the possibility of the initial application of the DynaKube resource failing. To ensure successful deployment, you need to configure retries by specifying a sync policy.</p>
<h2 id="auto-update-for-dynatrace-operator_2">Auto-update for Dynatrace Operator<a class="headerlink" href="#auto-update-for-dynatrace-operator_2" title="Permanent link">&para;</a></h2>
<p>For configuring automatic updates for Dynatrace Operator, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/dto-auto-update" title="Enable automatic updates of Dynatrace Operator following a GitOps approach.">Auto-update of Dynatrace Operator</a>, which explains integrating GitOps with dependency automation tools.</p>
<h2 id="related-topics_7">Related topics<a class="headerlink" href="#related-topics_7" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/dto-auto-update" title="Enable automatic updates of Dynatrace Operator following a GitOps approach.">Auto-update for Dynatrace Operator</a></li>
</ul>
<hr />
<h2 id="source-k8s-metadata-telemetry-enrichmentmd">Source: k8s-metadata-telemetry-enrichment.md<a class="headerlink" href="#source-k8s-metadata-telemetry-enrichmentmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Metadata enrichment of all telemetry originating from Kubernetes
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/metadata-automation/k8s-metadata-telemetry-enrichment
scraped: 2026-02-17T04:57:07.558525</p>
<hr />
<h1 id="metadata-enrichment-of-all-telemetry-originating-from-kubernetes">Metadata enrichment of all telemetry originating from Kubernetes<a class="headerlink" href="#metadata-enrichment-of-all-telemetry-originating-from-kubernetes" title="Permanent link">&para;</a></h1>
<h1 id="metadata-enrichment-of-all-telemetry-originating-from-kubernetes_1">Metadata enrichment of all telemetry originating from Kubernetes<a class="headerlink" href="#metadata-enrichment-of-all-telemetry-originating-from-kubernetes_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>7-min read</li>
<li>Updated on Feb 05, 2026</li>
</ul>
<h2 id="prerequisites_4">Prerequisites<a class="headerlink" href="#prerequisites_4" title="Permanent link">&para;</a></h2>
<ul>
<li>Dynatrace Operator is installed and running in your Kubernetes cluster.</li>
<li>A valid DynaKube is applied to your cluster.</li>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment" title="Metadata enrichment in the Dynatrace Operator adds context to Kubernetes pods by attaching relevant metadata to entities like pods, hosts, and processes for better observability.">Metadata enrichment</a> is enabled.</li>
</ul>
<h2 id="use-cases_1">Use cases<a class="headerlink" href="#use-cases_1" title="Permanent link">&para;</a></h2>
<ul>
<li>Enhance your metrics, logs, trace data, events and entities with additional information using Kubernetes namespace annotations and labels.</li>
<li>Enhance your metrics, logs, trace data, events and entities with additional information using OpenTelemetry environment variables</li>
<li>Enriched data can be used for <a href="/docs/manage/identity-access-management/use-cases/access-security-context" title="Grant access to entities with security context">defining access control to users</a>, or for solving <a href="/docs/license/cost-allocation" title="Learn how to allocate costs to cost centers and products.">Cost Allocation</a> in DPS.</li>
<li>Enriched data can be used for pipeline routing, bucket segmentation, segmentation, and filtering.</li>
</ul>
<h2 id="security-context-and-cost-allocation">Security context and Cost Allocation<a class="headerlink" href="#security-context-and-cost-allocation" title="Permanent link">&para;</a></h2>
<p>In Dynatrace, you can set up <a href="/docs/manage/identity-access-management/permission-management/manage-user-permissions-policies/iam-policy-boundaries" title="Restrict security policies with policy boundaries to provide tailored access to your users.">policy boundaries</a> for fine-grained restrictions on the data level. By default, you can use <code>k8s.namespace.name</code> and <code>k8s.cluster.name</code>, but sometimes this is not enough and you need a more fine grained way to set up your boundaries.</p>
<p>You might already have defined such boundaries for yourself and defined them as Kubernetes labels or annotations. This feature enables you to use these at the source for your <a href="/docs/manage/identity-access-management/use-cases/access-security-context" title="Grant access to entities with security context">security context</a> in Dynatrace. If you have not done so already, we recommend to either use cluster or namespace name or set up a dedicated annotation for your Kubernetes workloads that serves as your security context.</p>
<p>Similarly Dynatrace provides a solution for <a href="/docs/license/cost-allocation#assign-cost-centers-and-products-in-kubernetes-application-monitoring-deployments" title="Learn how to allocate costs to cost centers and products.">Cost Allocation</a> in DPS. You might already have the necessary data like department and product available in your existing Kubernetes labels or annotations. Even if not you might find it very convenient to setup up Cost Allocation as a Kubernetes annotation or label, which is what Dynatrace recommends. This feature then enables you to use these labels and annotations as the means to solving <a href="/docs/license/cost-allocation#assign-cost-centers-and-products-in-kubernetes-application-monitoring-deployments" title="Learn how to allocate costs to cost centers and products.">Cost Allocation</a> in DPS.</p>
<p>The following attributes are supported:</p>
<ul>
<li><a href="/docs/platform/grail/organize-data/assign-permissions-in-grail#grail-permissions-table-record" title="Find out how to assign permissions to buckets and tables in Grail."><code>dt.security_context</code></a></li>
<li><a href="/docs/semantic-dictionary/fields#dynatrace" title="Get to know the list of global fields that have a well defined semantic meaning in Dynatrace and can be used across different monitoring types."><code>dt.cost.costcenter</code></a></li>
<li><a href="/docs/semantic-dictionary/fields#dynatrace" title="Get to know the list of global fields that have a well defined semantic meaning in Dynatrace and can be used across different monitoring types."><code>dt.cost.product</code></a></li>
</ul>
<h2 id="domain-tags">Domain tags<a class="headerlink" href="#domain-tags" title="Permanent link">&para;</a></h2>
<p>To streamline tasks like bucket selection, segmentation, filtering, and problem routing, Dynatrace allows you to enrich your telemetry data using existing Kubernetes namespace labels or annotations. These tags are made available as domain-specific fields, such as <code>k8s.namespace.label.your_key</code> or <code>k8s.namespace.annotation.your_key</code>.</p>
<h2 id="which-data-will-be-enriched">Which data will be enriched<a class="headerlink" href="#which-data-will-be-enriched" title="Permanent link">&para;</a></h2>
<p>Data</p>
<p>Domain tags</p>
<p>Security Context</p>
<p>Cost Allocation</p>
<p>OneAgent metrics</p>
<p>JMX/PMI metrics collected via OneAgent</p>
<p>Planned</p>
<p>Service metrics</p>
<p>Kubernetes platform metrics</p>
<p>ActiveGate 1.331</p>
<p>Prometheus metrics</p>
<p>Planned</p>
<p>Planned - ActiveGate 1.333</p>
<p>Planned - ActiveGate 1.333</p>
<p>OTLP metrics</p>
<p>ActiveGate 1.331</p>
<p>Metrics collected by OpenTelemetry Collector</p>
<p>Logs collected by OpenTelemetry Collector</p>
<p>Logs collected by OneAgent log module</p>
<p>Logs collected by FluentBit</p>
<p>Smartscape Kubernetes entities</p>
<p>ActiveGate 1.331</p>
<p>Service metrics</p>
<p>OneAgent events</p>
<p>Kubernetes events</p>
<p>ActiveGate 1.331</p>
<h2 id="enrichment-options">Enrichment options<a class="headerlink" href="#enrichment-options" title="Permanent link">&para;</a></h2>
<p>Depending on the specific use case, the following enrichment options are supported:</p>
<h3 id="use-settings-to-use-existing-namespace-labels-and-annotations-recommended">Use settings to use existing namespace labels and annotations (recommended)<a class="headerlink" href="#use-settings-to-use-existing-namespace-labels-and-annotations-recommended" title="Permanent link">&para;</a></h3>
<p>We recommend this option, as it is the only option that enriches all signals, including Kubernetes platform metrics, events, and entities√¢¬Ä¬îunlike environment variables or manual pod annotations. Use Kubernetes enrichment rules to leverage your existing namespace labels and annotations.
The tenant configuration is applied to all Kubernetes clusters by default. However, you can override it for specific clusters if needed.</p>
<p>Hint: If you setup your rules before you deploy your Dynakube, you don't need to wait 45 minutes for the rules to be propagated.</p>
<ol>
<li>Go to <strong>Kubernetes App</strong> &gt; <strong>Namespace</strong> &gt; Select your namespace to have an overview of your existing namespace labels.</li>
</ol>
<p><img alt="Namespace details opened in the K8s App, pointing to the current namespace labels" src="https://dt-cdn.net/images/namespace-labels-1997-2a0370e1ef.png" />
2. Go to <strong>Settings</strong> &gt; <strong>Cloud and virtualization</strong> &gt; <strong>Kubernetes Telemetry Enrichment</strong>.
3. Select <strong>Add rule</strong>.
4. Select <code>Annotation</code> or <code>Label</code> in the <strong>Metadata type</strong> dropdown.
5. Enter the namespace annotation/label key in the <strong>Source</strong> field, following <a href="https://dt-url.net/2c02sbn">Kubernetes conventions√Ø¬ª¬ø</a>:
6. To use the key of the annotation or label as field name, turn on <strong>Enrich telemetry with label/annotation directly</strong>.</p>
<p><img alt="Enrich telemetry with label/annotation directly" src="https://dt-cdn.net/images/enrich-telemetry-with-label-annotation-directly-693-b6d33d539e.png" />
7. For remapping, turn off <strong>Enrich telemetry with label/annotation directly</strong> and choose a value from the <strong>Target</strong> dropdown.</p>
<p><img alt="Enrichment Settings for Remapping" src="https://dt-cdn.net/images/enrichment-settings-for-remapping-663-33a85e6613.png" />
8. Select <strong>Save changes</strong>.
9. After creating or modifying rules, allow up to 45 minutes for the changes to take effect. Once this time has passed, restart your pods.
10. Navigate to your data and verify that the metadata is successfully enriched.</p>
<p><img alt="Log details with enriched metadata" src="https://dt-cdn.net/images/enriched-log-652-55590251f6.png" /></p>
<h3 id="use-dedicated-dynatrace-metadata-pod-annotations">Use dedicated Dynatrace metadata pod annotations<a class="headerlink" href="#use-dedicated-dynatrace-metadata-pod-annotations" title="Permanent link">&para;</a></h3>
<p>This works automatically for OneAgent and OpenTelemetry code-change scenarios.</p>
<p>This option is intended for scenarios where namespace labels or annotations cannot be used as a source. If both methods are present, manual annotations take precedence.</p>
<p>Unlike the settings-based approach, manually added pod annotations do not provide full enrichment. They will not enrich Kubernetes metrics, Kubernetes events, or entities.
For Oneagent metrics and service metrics to be enriched with these attributes, they must follow the convention <code>k8s.namespace.&lt;label&gt;/&lt;annotation&gt;.&lt;key&gt;: &lt;value&gt;</code>.</p>
<p>For comprehensive enrichment, the settings-based approach is recommended.</p>
<p>You might create the following annotations at the pod level:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a>metadata:
<a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a>
<a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a>
<a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a>
<a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a>annotations:
<a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a>
<a id="__codelineno-146-7" name="__codelineno-146-7" href="#__codelineno-146-7"></a>
<a id="__codelineno-146-8" name="__codelineno-146-8" href="#__codelineno-146-8"></a>
<a id="__codelineno-146-9" name="__codelineno-146-9" href="#__codelineno-146-9"></a>metadata.dynatrace.com/dt.security_context: sre
<a id="__codelineno-146-10" name="__codelineno-146-10" href="#__codelineno-146-10"></a>
<a id="__codelineno-146-11" name="__codelineno-146-11" href="#__codelineno-146-11"></a>
<a id="__codelineno-146-12" name="__codelineno-146-12" href="#__codelineno-146-12"></a>
<a id="__codelineno-146-13" name="__codelineno-146-13" href="#__codelineno-146-13"></a>metadata.dynatrace.com/dt.cost.costcenter: it_services
<a id="__codelineno-146-14" name="__codelineno-146-14" href="#__codelineno-146-14"></a>
<a id="__codelineno-146-15" name="__codelineno-146-15" href="#__codelineno-146-15"></a>
<a id="__codelineno-146-16" name="__codelineno-146-16" href="#__codelineno-146-16"></a>
<a id="__codelineno-146-17" name="__codelineno-146-17" href="#__codelineno-146-17"></a>metadata.dynatrace.com/dt.cost.product: fin_app
<a id="__codelineno-146-18" name="__codelineno-146-18" href="#__codelineno-146-18"></a>
<a id="__codelineno-146-19" name="__codelineno-146-19" href="#__codelineno-146-19"></a>
<a id="__codelineno-146-20" name="__codelineno-146-20" href="#__codelineno-146-20"></a>
<a id="__codelineno-146-21" name="__codelineno-146-21" href="#__codelineno-146-21"></a>metadata.dynatrace.com/k8s.namespace.label.domain: finance
</code></pre></div>
<p>The following attributes will enrich the data:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a>dt.security_context: sre
<a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a>
<a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a>
<a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a>
<a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a>dt.cost.costcenter: it_services
<a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a>
<a id="__codelineno-147-7" name="__codelineno-147-7" href="#__codelineno-147-7"></a>
<a id="__codelineno-147-8" name="__codelineno-147-8" href="#__codelineno-147-8"></a>
<a id="__codelineno-147-9" name="__codelineno-147-9" href="#__codelineno-147-9"></a>dt.cost.product: fin_app
<a id="__codelineno-147-10" name="__codelineno-147-10" href="#__codelineno-147-10"></a>
<a id="__codelineno-147-11" name="__codelineno-147-11" href="#__codelineno-147-11"></a>
<a id="__codelineno-147-12" name="__codelineno-147-12" href="#__codelineno-147-12"></a>
<a id="__codelineno-147-13" name="__codelineno-147-13" href="#__codelineno-147-13"></a>k8s.namespace.label.domain: finance
</code></pre></div>
<h2 id="opentelemetry-setup">OpenTelemetry setup<a class="headerlink" href="#opentelemetry-setup" title="Permanent link">&para;</a></h2>
<p>For OTLP setups without OneAgent, additional steps for signal enrichment are required. This can be achieved either by modifying your code to parse metadata files provided by the operator or by using environment variables.</p>
<h3 id="enable-automatic-opentelemetry-otlp-exporter-configuration-recommended">Enable automatic OpenTelemetry OTLP exporter configuration (recommended)<a class="headerlink" href="#enable-automatic-opentelemetry-otlp-exporter-configuration-recommended" title="Permanent link">&para;</a></h3>
<p><a href="/docs/ingest-from/setup-on-k8s/extend-observability-k8s/otlp-auto-config" title="Automatically configure the OTLP exporter in applications instrumented with OpenTelemetry SDKs using Dynatrace Operator.">Automatic OpenTelemetry OTLP exporter configuration</a> is the recommended option for OTLP setups without OneAgent injection, as it provides enrichment comparable to the OneAgent case. Enable it in your DynaKube to automatically enrich your telemetry with Dynatrace metadata. This feature is available for all OpenTelemetry supported languages.</p>
<h3 id="enrich-via-code-changes">Enrich via code changes<a class="headerlink" href="#enrich-via-code-changes" title="Permanent link">&para;</a></h3>
<p>This option is suitable for standalone OTLP setups without OneAgent injection. For optimal results, enrich your OTLP telemetry by parsing Dynatrace metadata files and adding the metadata directly in your code, as outlined in <a href="/docs/ingest-from/extend-dynatrace/extend-data#operator-enrichment-directory" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">Enrich ingested data with Dynatrace-specific dimensions</a>. You can find code samples in our OpenTelemetry section, like here for <a href="/docs/ingest-from/opentelemetry/walkthroughs/java/java-manual#add-telemetry-signals-manually" title="Learn how to instrument your Java application using OpenTelemetry and Dynatrace.">Java</a>.
This approach provides enrichment comparable to the OneAgent case.</p>
<h3 id="enrich-via-environment-variable">Enrich via environment variable<a class="headerlink" href="#enrich-via-environment-variable" title="Permanent link">&para;</a></h3>
<p>If modifying your code isn't feasible, you can use the <a href="https://dt-url.net/ne03unx"><code>OTEL_RESOURCE_ATTRIBUTES</code>√Ø¬ª¬ø</a> environment variable for enrichment. However, this method has limitations: configuration can be complex, and certain properties, like k8s.container.name and tags, must be set as static strings.</p>
<ol>
<li>
<p>Create a config map for cluster level attributes</p>
</li>
<li>
<p>Store DynaKube name</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a>DYNAKUBE=&quot;dynakube&quot; # set this to the name of your DynaKube / kubectl get dynakube -n dynatrace
</code></pre></div>
<ol>
<li>Get <code>k8s.cluster.uid</code></li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a>K8S_CLUSTER_UID=&quot;$(kubectl get dynakube -o jsonpath=&#39;{.status.kubeSystemUUID}&#39; -n dynatrace $DYNAKUBE)&quot;
</code></pre></div>
<ol>
<li>Get <code>k8s.cluster.name</code></li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a>K8S_CLUSTER_NAME=&quot;$(kubectl get dynakube -o jsonpath=&#39;{.status.kubernetesClusterName}&#39; -n dynatrace $DYNAKUBE)&quot;
</code></pre></div>
<ol>
<li>Get Kubernetes entity <code>dt.entity.kubernetes_cluster</code></li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a>DT_ENTITY_KUBERNETES_CLUSTER=&quot;$(kubectl get dynakube -o jsonpath=&#39;{.status.kubernetesClusterMEID}&#39; -n dynatrace $DYNAKUBE)&quot;
</code></pre></div>
<ol>
<li>Create config map in the target namespace</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a>kubectl create configmap dynatrace-metadata \
<a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a>
<a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a>
<a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a>
<a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a>--from-literal K8S_CLUSTER_UID=$K8S_CLUSTER_UID \
<a id="__codelineno-152-6" name="__codelineno-152-6" href="#__codelineno-152-6"></a>
<a id="__codelineno-152-7" name="__codelineno-152-7" href="#__codelineno-152-7"></a>
<a id="__codelineno-152-8" name="__codelineno-152-8" href="#__codelineno-152-8"></a>
<a id="__codelineno-152-9" name="__codelineno-152-9" href="#__codelineno-152-9"></a>--from-literal K8S_CLUSTER_NAME=$K8S_CLUSTER_NAME \
<a id="__codelineno-152-10" name="__codelineno-152-10" href="#__codelineno-152-10"></a>
<a id="__codelineno-152-11" name="__codelineno-152-11" href="#__codelineno-152-11"></a>
<a id="__codelineno-152-12" name="__codelineno-152-12" href="#__codelineno-152-12"></a>
<a id="__codelineno-152-13" name="__codelineno-152-13" href="#__codelineno-152-13"></a>--from-literal DT_ENTITY_KUBERNETES_CLUSTER=$DT_ENTITY_KUBERNETES_CLUSTER \
<a id="__codelineno-152-14" name="__codelineno-152-14" href="#__codelineno-152-14"></a>
<a id="__codelineno-152-15" name="__codelineno-152-15" href="#__codelineno-152-15"></a>
<a id="__codelineno-152-16" name="__codelineno-152-16" href="#__codelineno-152-16"></a>
<a id="__codelineno-152-17" name="__codelineno-152-17" href="#__codelineno-152-17"></a>--namespace &lt;YOUR_NAMESPACE&gt;
</code></pre></div>
<ol>
<li>Set K8s attributes via downward API on Pod</li>
</ol>
<p>Adapt your Kubernetes pod specification by adding the following environment variables. You can include these in your Kubernetes Deployment or Pod manifest.</p>
<p>Tags and <code>k8s.container.name</code> cannot be set via downward API.
It needs to be provided as a static string.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a>envFrom:
<a id="__codelineno-153-2" name="__codelineno-153-2" href="#__codelineno-153-2"></a>
<a id="__codelineno-153-3" name="__codelineno-153-3" href="#__codelineno-153-3"></a>
<a id="__codelineno-153-4" name="__codelineno-153-4" href="#__codelineno-153-4"></a>
<a id="__codelineno-153-5" name="__codelineno-153-5" href="#__codelineno-153-5"></a>- configMapRef:
<a id="__codelineno-153-6" name="__codelineno-153-6" href="#__codelineno-153-6"></a>
<a id="__codelineno-153-7" name="__codelineno-153-7" href="#__codelineno-153-7"></a>
<a id="__codelineno-153-8" name="__codelineno-153-8" href="#__codelineno-153-8"></a>
<a id="__codelineno-153-9" name="__codelineno-153-9" href="#__codelineno-153-9"></a>name: dynatrace-metadata
<a id="__codelineno-153-10" name="__codelineno-153-10" href="#__codelineno-153-10"></a>
<a id="__codelineno-153-11" name="__codelineno-153-11" href="#__codelineno-153-11"></a>
<a id="__codelineno-153-12" name="__codelineno-153-12" href="#__codelineno-153-12"></a>
<a id="__codelineno-153-13" name="__codelineno-153-13" href="#__codelineno-153-13"></a>optional: false
<a id="__codelineno-153-14" name="__codelineno-153-14" href="#__codelineno-153-14"></a>
<a id="__codelineno-153-15" name="__codelineno-153-15" href="#__codelineno-153-15"></a>
<a id="__codelineno-153-16" name="__codelineno-153-16" href="#__codelineno-153-16"></a>
<a id="__codelineno-153-17" name="__codelineno-153-17" href="#__codelineno-153-17"></a>env:
<a id="__codelineno-153-18" name="__codelineno-153-18" href="#__codelineno-153-18"></a>
<a id="__codelineno-153-19" name="__codelineno-153-19" href="#__codelineno-153-19"></a>
<a id="__codelineno-153-20" name="__codelineno-153-20" href="#__codelineno-153-20"></a>
<a id="__codelineno-153-21" name="__codelineno-153-21" href="#__codelineno-153-21"></a>- name: K8S_CONTAINER_NAME
<a id="__codelineno-153-22" name="__codelineno-153-22" href="#__codelineno-153-22"></a>
<a id="__codelineno-153-23" name="__codelineno-153-23" href="#__codelineno-153-23"></a>
<a id="__codelineno-153-24" name="__codelineno-153-24" href="#__codelineno-153-24"></a>
<a id="__codelineno-153-25" name="__codelineno-153-25" href="#__codelineno-153-25"></a>value: &quot;&quot; # replace with actual container name
<a id="__codelineno-153-26" name="__codelineno-153-26" href="#__codelineno-153-26"></a>
<a id="__codelineno-153-27" name="__codelineno-153-27" href="#__codelineno-153-27"></a>
<a id="__codelineno-153-28" name="__codelineno-153-28" href="#__codelineno-153-28"></a>
<a id="__codelineno-153-29" name="__codelineno-153-29" href="#__codelineno-153-29"></a>- name: K8S_POD_NAME
<a id="__codelineno-153-30" name="__codelineno-153-30" href="#__codelineno-153-30"></a>
<a id="__codelineno-153-31" name="__codelineno-153-31" href="#__codelineno-153-31"></a>
<a id="__codelineno-153-32" name="__codelineno-153-32" href="#__codelineno-153-32"></a>
<a id="__codelineno-153-33" name="__codelineno-153-33" href="#__codelineno-153-33"></a>valueFrom:
<a id="__codelineno-153-34" name="__codelineno-153-34" href="#__codelineno-153-34"></a>
<a id="__codelineno-153-35" name="__codelineno-153-35" href="#__codelineno-153-35"></a>
<a id="__codelineno-153-36" name="__codelineno-153-36" href="#__codelineno-153-36"></a>
<a id="__codelineno-153-37" name="__codelineno-153-37" href="#__codelineno-153-37"></a>fieldRef:
<a id="__codelineno-153-38" name="__codelineno-153-38" href="#__codelineno-153-38"></a>
<a id="__codelineno-153-39" name="__codelineno-153-39" href="#__codelineno-153-39"></a>
<a id="__codelineno-153-40" name="__codelineno-153-40" href="#__codelineno-153-40"></a>
<a id="__codelineno-153-41" name="__codelineno-153-41" href="#__codelineno-153-41"></a>apiVersion: v1
<a id="__codelineno-153-42" name="__codelineno-153-42" href="#__codelineno-153-42"></a>
<a id="__codelineno-153-43" name="__codelineno-153-43" href="#__codelineno-153-43"></a>
<a id="__codelineno-153-44" name="__codelineno-153-44" href="#__codelineno-153-44"></a>
<a id="__codelineno-153-45" name="__codelineno-153-45" href="#__codelineno-153-45"></a>fieldPath: metadata.name
<a id="__codelineno-153-46" name="__codelineno-153-46" href="#__codelineno-153-46"></a>
<a id="__codelineno-153-47" name="__codelineno-153-47" href="#__codelineno-153-47"></a>
<a id="__codelineno-153-48" name="__codelineno-153-48" href="#__codelineno-153-48"></a>
<a id="__codelineno-153-49" name="__codelineno-153-49" href="#__codelineno-153-49"></a>- name: K8S_POD_UID
<a id="__codelineno-153-50" name="__codelineno-153-50" href="#__codelineno-153-50"></a>
<a id="__codelineno-153-51" name="__codelineno-153-51" href="#__codelineno-153-51"></a>
<a id="__codelineno-153-52" name="__codelineno-153-52" href="#__codelineno-153-52"></a>
<a id="__codelineno-153-53" name="__codelineno-153-53" href="#__codelineno-153-53"></a>valueFrom:
<a id="__codelineno-153-54" name="__codelineno-153-54" href="#__codelineno-153-54"></a>
<a id="__codelineno-153-55" name="__codelineno-153-55" href="#__codelineno-153-55"></a>
<a id="__codelineno-153-56" name="__codelineno-153-56" href="#__codelineno-153-56"></a>
<a id="__codelineno-153-57" name="__codelineno-153-57" href="#__codelineno-153-57"></a>fieldRef:
<a id="__codelineno-153-58" name="__codelineno-153-58" href="#__codelineno-153-58"></a>
<a id="__codelineno-153-59" name="__codelineno-153-59" href="#__codelineno-153-59"></a>
<a id="__codelineno-153-60" name="__codelineno-153-60" href="#__codelineno-153-60"></a>
<a id="__codelineno-153-61" name="__codelineno-153-61" href="#__codelineno-153-61"></a>apiVersion: v1
<a id="__codelineno-153-62" name="__codelineno-153-62" href="#__codelineno-153-62"></a>
<a id="__codelineno-153-63" name="__codelineno-153-63" href="#__codelineno-153-63"></a>
<a id="__codelineno-153-64" name="__codelineno-153-64" href="#__codelineno-153-64"></a>
<a id="__codelineno-153-65" name="__codelineno-153-65" href="#__codelineno-153-65"></a>fieldPath: metadata.uid
<a id="__codelineno-153-66" name="__codelineno-153-66" href="#__codelineno-153-66"></a>
<a id="__codelineno-153-67" name="__codelineno-153-67" href="#__codelineno-153-67"></a>
<a id="__codelineno-153-68" name="__codelineno-153-68" href="#__codelineno-153-68"></a>
<a id="__codelineno-153-69" name="__codelineno-153-69" href="#__codelineno-153-69"></a>- name: K8S_POD_NAMESPACE
<a id="__codelineno-153-70" name="__codelineno-153-70" href="#__codelineno-153-70"></a>
<a id="__codelineno-153-71" name="__codelineno-153-71" href="#__codelineno-153-71"></a>
<a id="__codelineno-153-72" name="__codelineno-153-72" href="#__codelineno-153-72"></a>
<a id="__codelineno-153-73" name="__codelineno-153-73" href="#__codelineno-153-73"></a>valueFrom:
<a id="__codelineno-153-74" name="__codelineno-153-74" href="#__codelineno-153-74"></a>
<a id="__codelineno-153-75" name="__codelineno-153-75" href="#__codelineno-153-75"></a>
<a id="__codelineno-153-76" name="__codelineno-153-76" href="#__codelineno-153-76"></a>
<a id="__codelineno-153-77" name="__codelineno-153-77" href="#__codelineno-153-77"></a>fieldRef:
<a id="__codelineno-153-78" name="__codelineno-153-78" href="#__codelineno-153-78"></a>
<a id="__codelineno-153-79" name="__codelineno-153-79" href="#__codelineno-153-79"></a>
<a id="__codelineno-153-80" name="__codelineno-153-80" href="#__codelineno-153-80"></a>
<a id="__codelineno-153-81" name="__codelineno-153-81" href="#__codelineno-153-81"></a>apiVersion: v1
<a id="__codelineno-153-82" name="__codelineno-153-82" href="#__codelineno-153-82"></a>
<a id="__codelineno-153-83" name="__codelineno-153-83" href="#__codelineno-153-83"></a>
<a id="__codelineno-153-84" name="__codelineno-153-84" href="#__codelineno-153-84"></a>
<a id="__codelineno-153-85" name="__codelineno-153-85" href="#__codelineno-153-85"></a>fieldPath: metadata.namespace
<a id="__codelineno-153-86" name="__codelineno-153-86" href="#__codelineno-153-86"></a>
<a id="__codelineno-153-87" name="__codelineno-153-87" href="#__codelineno-153-87"></a>
<a id="__codelineno-153-88" name="__codelineno-153-88" href="#__codelineno-153-88"></a>
<a id="__codelineno-153-89" name="__codelineno-153-89" href="#__codelineno-153-89"></a>- name: K8S_WORKLOAD_KIND
<a id="__codelineno-153-90" name="__codelineno-153-90" href="#__codelineno-153-90"></a>
<a id="__codelineno-153-91" name="__codelineno-153-91" href="#__codelineno-153-91"></a>
<a id="__codelineno-153-92" name="__codelineno-153-92" href="#__codelineno-153-92"></a>
<a id="__codelineno-153-93" name="__codelineno-153-93" href="#__codelineno-153-93"></a>valueFrom:
<a id="__codelineno-153-94" name="__codelineno-153-94" href="#__codelineno-153-94"></a>
<a id="__codelineno-153-95" name="__codelineno-153-95" href="#__codelineno-153-95"></a>
<a id="__codelineno-153-96" name="__codelineno-153-96" href="#__codelineno-153-96"></a>
<a id="__codelineno-153-97" name="__codelineno-153-97" href="#__codelineno-153-97"></a>fieldRef:
<a id="__codelineno-153-98" name="__codelineno-153-98" href="#__codelineno-153-98"></a>
<a id="__codelineno-153-99" name="__codelineno-153-99" href="#__codelineno-153-99"></a>
<a id="__codelineno-153-100" name="__codelineno-153-100" href="#__codelineno-153-100"></a>
<a id="__codelineno-153-101" name="__codelineno-153-101" href="#__codelineno-153-101"></a>apiVersion: v1
<a id="__codelineno-153-102" name="__codelineno-153-102" href="#__codelineno-153-102"></a>
<a id="__codelineno-153-103" name="__codelineno-153-103" href="#__codelineno-153-103"></a>
<a id="__codelineno-153-104" name="__codelineno-153-104" href="#__codelineno-153-104"></a>
<a id="__codelineno-153-105" name="__codelineno-153-105" href="#__codelineno-153-105"></a>fieldPath: metadata.annotations[&#39;metadata.dynatrace.com/k8s.workload.kind&#39;] # only works when metadata enrichment is enabled
<a id="__codelineno-153-106" name="__codelineno-153-106" href="#__codelineno-153-106"></a>
<a id="__codelineno-153-107" name="__codelineno-153-107" href="#__codelineno-153-107"></a>
<a id="__codelineno-153-108" name="__codelineno-153-108" href="#__codelineno-153-108"></a>
<a id="__codelineno-153-109" name="__codelineno-153-109" href="#__codelineno-153-109"></a>- name: K8S_WORKLOAD_NAME
<a id="__codelineno-153-110" name="__codelineno-153-110" href="#__codelineno-153-110"></a>
<a id="__codelineno-153-111" name="__codelineno-153-111" href="#__codelineno-153-111"></a>
<a id="__codelineno-153-112" name="__codelineno-153-112" href="#__codelineno-153-112"></a>
<a id="__codelineno-153-113" name="__codelineno-153-113" href="#__codelineno-153-113"></a>valueFrom:
<a id="__codelineno-153-114" name="__codelineno-153-114" href="#__codelineno-153-114"></a>
<a id="__codelineno-153-115" name="__codelineno-153-115" href="#__codelineno-153-115"></a>
<a id="__codelineno-153-116" name="__codelineno-153-116" href="#__codelineno-153-116"></a>
<a id="__codelineno-153-117" name="__codelineno-153-117" href="#__codelineno-153-117"></a>fieldRef:
<a id="__codelineno-153-118" name="__codelineno-153-118" href="#__codelineno-153-118"></a>
<a id="__codelineno-153-119" name="__codelineno-153-119" href="#__codelineno-153-119"></a>
<a id="__codelineno-153-120" name="__codelineno-153-120" href="#__codelineno-153-120"></a>
<a id="__codelineno-153-121" name="__codelineno-153-121" href="#__codelineno-153-121"></a>apiVersion: v1
<a id="__codelineno-153-122" name="__codelineno-153-122" href="#__codelineno-153-122"></a>
<a id="__codelineno-153-123" name="__codelineno-153-123" href="#__codelineno-153-123"></a>
<a id="__codelineno-153-124" name="__codelineno-153-124" href="#__codelineno-153-124"></a>
<a id="__codelineno-153-125" name="__codelineno-153-125" href="#__codelineno-153-125"></a>fieldPath: metadata.annotations[&#39;metadata.dynatrace.com/k8s.workload.name&#39;] # only works when metadata enrichment is enabled
<a id="__codelineno-153-126" name="__codelineno-153-126" href="#__codelineno-153-126"></a>
<a id="__codelineno-153-127" name="__codelineno-153-127" href="#__codelineno-153-127"></a>
<a id="__codelineno-153-128" name="__codelineno-153-128" href="#__codelineno-153-128"></a>
<a id="__codelineno-153-129" name="__codelineno-153-129" href="#__codelineno-153-129"></a>- name: K8S_NODE_NAME
<a id="__codelineno-153-130" name="__codelineno-153-130" href="#__codelineno-153-130"></a>
<a id="__codelineno-153-131" name="__codelineno-153-131" href="#__codelineno-153-131"></a>
<a id="__codelineno-153-132" name="__codelineno-153-132" href="#__codelineno-153-132"></a>
<a id="__codelineno-153-133" name="__codelineno-153-133" href="#__codelineno-153-133"></a>valueFrom:
<a id="__codelineno-153-134" name="__codelineno-153-134" href="#__codelineno-153-134"></a>
<a id="__codelineno-153-135" name="__codelineno-153-135" href="#__codelineno-153-135"></a>
<a id="__codelineno-153-136" name="__codelineno-153-136" href="#__codelineno-153-136"></a>
<a id="__codelineno-153-137" name="__codelineno-153-137" href="#__codelineno-153-137"></a>fieldRef:
<a id="__codelineno-153-138" name="__codelineno-153-138" href="#__codelineno-153-138"></a>
<a id="__codelineno-153-139" name="__codelineno-153-139" href="#__codelineno-153-139"></a>
<a id="__codelineno-153-140" name="__codelineno-153-140" href="#__codelineno-153-140"></a>
<a id="__codelineno-153-141" name="__codelineno-153-141" href="#__codelineno-153-141"></a>apiVersion: v1
<a id="__codelineno-153-142" name="__codelineno-153-142" href="#__codelineno-153-142"></a>
<a id="__codelineno-153-143" name="__codelineno-153-143" href="#__codelineno-153-143"></a>
<a id="__codelineno-153-144" name="__codelineno-153-144" href="#__codelineno-153-144"></a>
<a id="__codelineno-153-145" name="__codelineno-153-145" href="#__codelineno-153-145"></a>fieldPath: spec.nodeName
<a id="__codelineno-153-146" name="__codelineno-153-146" href="#__codelineno-153-146"></a>
<a id="__codelineno-153-147" name="__codelineno-153-147" href="#__codelineno-153-147"></a>
<a id="__codelineno-153-148" name="__codelineno-153-148" href="#__codelineno-153-148"></a>
<a id="__codelineno-153-149" name="__codelineno-153-149" href="#__codelineno-153-149"></a>- name: DT_SECURITY_CONTEXT # only works when automatic security context enrichment is configured
<a id="__codelineno-153-150" name="__codelineno-153-150" href="#__codelineno-153-150"></a>
<a id="__codelineno-153-151" name="__codelineno-153-151" href="#__codelineno-153-151"></a>
<a id="__codelineno-153-152" name="__codelineno-153-152" href="#__codelineno-153-152"></a>
<a id="__codelineno-153-153" name="__codelineno-153-153" href="#__codelineno-153-153"></a>valueFrom:
<a id="__codelineno-153-154" name="__codelineno-153-154" href="#__codelineno-153-154"></a>
<a id="__codelineno-153-155" name="__codelineno-153-155" href="#__codelineno-153-155"></a>
<a id="__codelineno-153-156" name="__codelineno-153-156" href="#__codelineno-153-156"></a>
<a id="__codelineno-153-157" name="__codelineno-153-157" href="#__codelineno-153-157"></a>fieldRef:
<a id="__codelineno-153-158" name="__codelineno-153-158" href="#__codelineno-153-158"></a>
<a id="__codelineno-153-159" name="__codelineno-153-159" href="#__codelineno-153-159"></a>
<a id="__codelineno-153-160" name="__codelineno-153-160" href="#__codelineno-153-160"></a>
<a id="__codelineno-153-161" name="__codelineno-153-161" href="#__codelineno-153-161"></a>apiVersion: v1
<a id="__codelineno-153-162" name="__codelineno-153-162" href="#__codelineno-153-162"></a>
<a id="__codelineno-153-163" name="__codelineno-153-163" href="#__codelineno-153-163"></a>
<a id="__codelineno-153-164" name="__codelineno-153-164" href="#__codelineno-153-164"></a>
<a id="__codelineno-153-165" name="__codelineno-153-165" href="#__codelineno-153-165"></a>fieldPath: metadata.annotations[&#39;metadata.dynatrace.com/dt.security_context&#39;]
<a id="__codelineno-153-166" name="__codelineno-153-166" href="#__codelineno-153-166"></a>
<a id="__codelineno-153-167" name="__codelineno-153-167" href="#__codelineno-153-167"></a>
<a id="__codelineno-153-168" name="__codelineno-153-168" href="#__codelineno-153-168"></a>
<a id="__codelineno-153-169" name="__codelineno-153-169" href="#__codelineno-153-169"></a>- name: DT_COST_PRODUCT # only works when automatic cost product enrichment is configured
<a id="__codelineno-153-170" name="__codelineno-153-170" href="#__codelineno-153-170"></a>
<a id="__codelineno-153-171" name="__codelineno-153-171" href="#__codelineno-153-171"></a>
<a id="__codelineno-153-172" name="__codelineno-153-172" href="#__codelineno-153-172"></a>
<a id="__codelineno-153-173" name="__codelineno-153-173" href="#__codelineno-153-173"></a>valueFrom:
<a id="__codelineno-153-174" name="__codelineno-153-174" href="#__codelineno-153-174"></a>
<a id="__codelineno-153-175" name="__codelineno-153-175" href="#__codelineno-153-175"></a>
<a id="__codelineno-153-176" name="__codelineno-153-176" href="#__codelineno-153-176"></a>
<a id="__codelineno-153-177" name="__codelineno-153-177" href="#__codelineno-153-177"></a>fieldRef:
<a id="__codelineno-153-178" name="__codelineno-153-178" href="#__codelineno-153-178"></a>
<a id="__codelineno-153-179" name="__codelineno-153-179" href="#__codelineno-153-179"></a>
<a id="__codelineno-153-180" name="__codelineno-153-180" href="#__codelineno-153-180"></a>
<a id="__codelineno-153-181" name="__codelineno-153-181" href="#__codelineno-153-181"></a>apiVersion: v1
<a id="__codelineno-153-182" name="__codelineno-153-182" href="#__codelineno-153-182"></a>
<a id="__codelineno-153-183" name="__codelineno-153-183" href="#__codelineno-153-183"></a>
<a id="__codelineno-153-184" name="__codelineno-153-184" href="#__codelineno-153-184"></a>
<a id="__codelineno-153-185" name="__codelineno-153-185" href="#__codelineno-153-185"></a>fieldPath: metadata.annotations[&#39;metadata.dynatrace.com/dt.cost.product&#39;]
<a id="__codelineno-153-186" name="__codelineno-153-186" href="#__codelineno-153-186"></a>
<a id="__codelineno-153-187" name="__codelineno-153-187" href="#__codelineno-153-187"></a>
<a id="__codelineno-153-188" name="__codelineno-153-188" href="#__codelineno-153-188"></a>
<a id="__codelineno-153-189" name="__codelineno-153-189" href="#__codelineno-153-189"></a>- name: DT_COST_COSTCENTER # only works when automatic cost center enrichment is configured
<a id="__codelineno-153-190" name="__codelineno-153-190" href="#__codelineno-153-190"></a>
<a id="__codelineno-153-191" name="__codelineno-153-191" href="#__codelineno-153-191"></a>
<a id="__codelineno-153-192" name="__codelineno-153-192" href="#__codelineno-153-192"></a>
<a id="__codelineno-153-193" name="__codelineno-153-193" href="#__codelineno-153-193"></a>valueFrom:
<a id="__codelineno-153-194" name="__codelineno-153-194" href="#__codelineno-153-194"></a>
<a id="__codelineno-153-195" name="__codelineno-153-195" href="#__codelineno-153-195"></a>
<a id="__codelineno-153-196" name="__codelineno-153-196" href="#__codelineno-153-196"></a>
<a id="__codelineno-153-197" name="__codelineno-153-197" href="#__codelineno-153-197"></a>fieldRef:
<a id="__codelineno-153-198" name="__codelineno-153-198" href="#__codelineno-153-198"></a>
<a id="__codelineno-153-199" name="__codelineno-153-199" href="#__codelineno-153-199"></a>
<a id="__codelineno-153-200" name="__codelineno-153-200" href="#__codelineno-153-200"></a>
<a id="__codelineno-153-201" name="__codelineno-153-201" href="#__codelineno-153-201"></a>apiVersion: v1
<a id="__codelineno-153-202" name="__codelineno-153-202" href="#__codelineno-153-202"></a>
<a id="__codelineno-153-203" name="__codelineno-153-203" href="#__codelineno-153-203"></a>
<a id="__codelineno-153-204" name="__codelineno-153-204" href="#__codelineno-153-204"></a>
<a id="__codelineno-153-205" name="__codelineno-153-205" href="#__codelineno-153-205"></a>fieldPath: metadata.annotations[&#39;metadata.dynatrace.com/dt.cost.costcenter&#39;]
</code></pre></div>
<ol>
<li>Add attributes to <code>OTEL_RESOURCE_ATTRIBUTES</code></li>
</ol>
<p>This example shows all our recommended attributes. Remove attributes that are not in use.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a>- name: OTEL_RESOURCE_ATTRIBUTES
<a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a>
<a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a>
<a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a>
<a id="__codelineno-154-5" name="__codelineno-154-5" href="#__codelineno-154-5"></a>value: k8s.cluster.name=$(K8S_CLUSTER_NAME),k8s.cluster.uid=$(K8S_CLUSTER_UID),k8s.node.name=$(K8S_NODE_NAME),k8s.workload.name=$(K8S_WORKLOAD_NAME),k8s.workload.kind=$(K8S_WORKLOAD_KIND),k8s.pod.name=$(K8S_POD_NAME),k8s.pod.uid=$(K8S_POD_UID),k8s.namespace.name=$(K8S_POD_NAMESPACE),k8s.container.name=$(K8S_CONTAINER_NAME),dt.entity.kubernetes_cluster=$(DT_ENTITY_KUBERNETES_CLUSTER),dt.security_context=$(DT_SECURITY_CONTEXT),dt.cost.costcenter=$(DT_COST_COSTCENTER),dt.cost.product=$(DT_COST_PRODUCT)
</code></pre></div>
<p>To learn how to enrich signals with release metadata using the <code>OTEL_RESOURCE_ATTRIBUTES</code> environment variable, refer to the <a href="/docs/deliver/release-monitoring/version-detection-strategies#otel_resource_attributes" title="Metadata for version detection in different technologies">version detection strategies</a> for detailed guidance.</p>
<h2 id="limitations_3">Limitations<a class="headerlink" href="#limitations_3" title="Permanent link">&para;</a></h2>
<ul>
<li>Limit of 20 rules per configuration scope.</li>
<li>After creating or modifying rules, allow up to 45 minutes for the changes to take effect. Once this time has passed, restart your pods.</li>
<li>Manually set <code>metadata.dynatrace.com</code> pod annotations take precedence.</li>
<li>Manually added attributes (anything other than <code>dt.security_context</code>, <code>dt.cost.costcenter</code>, or <code>dt.cost.product</code>) do not enrich any Kubernetes metrics or Kubernetes events.</li>
<li>The settings-based approach does not work in conjunction with manually applied dedicated pod annotations. Using both simultaneously may cause conflicts, leading to unexpected behavior.</li>
</ul>
<h2 id="troubleshooting_1">Troubleshooting<a class="headerlink" href="#troubleshooting_1" title="Permanent link">&para;</a></h2>
<h3 id="verify-the-rule-definition">Verify the rule definition<a class="headerlink" href="#verify-the-rule-definition" title="Permanent link">&para;</a></h3>
<ul>
<li>Confirm that each rule points to the correct <strong>metadata type</strong> (<code>label</code> vs. <code>annotation</code>).</li>
<li>Ensure the <strong>source key</strong> in the rule exactly matches the key that exists on the namespace.</li>
</ul>
<h3 id="check-that-the-source-metadata-really-exists">Check that the source metadata really exists<a class="headerlink" href="#check-that-the-source-metadata-really-exists" title="Permanent link">&para;</a></h3>
<ul>
<li>Open the namespace in the <strong>Dynatrace Kubernetes app</strong> and look for the expected labels/annotations.</li>
<li>Alternatively, run</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a>kubectl get namespace &lt;name&gt; -o yaml
</code></pre></div>
<p>and inspect the <code>metadata.labels</code> and <code>metadata.annotations</code> sections.</p>
<h3 id="validate-that-metadata-enrichment-is-turned-on">Validate that metadata enrichment is turned on<a class="headerlink" href="#validate-that-metadata-enrichment-is-turned-on" title="Permanent link">&para;</a></h3>
<ul>
<li>The feature works only if <code>metadataEnrichment</code> is enabled in your <strong>DynaKube</strong> configuration.</li>
<li>If you specify a <code>namespaceSelector</code> in the DynaKube, make sure it matches the namespace you are testing.</li>
</ul>
<h3 id="confirm-that-enrichment-reached-the-pods">Confirm that enrichment reached the pods<a class="headerlink" href="#confirm-that-enrichment-reached-the-pods" title="Permanent link">&para;</a></h3>
<ul>
<li>Inspect any pod in the namespace:</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a>kubectl get pod &lt;pod-name&gt; -o yaml
</code></pre></div>
* Look for annotations that start with <code>metadata.dynatrace.com/√¢¬Ä¬¶</code>. Their presence means the metadata is enriched.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Rules</p>
<p>Rules in <code>builtin:kubernetes.generic.metadata.enrichment</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a>&quot;rules&quot;:
<a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a>
<a id="__codelineno-157-3" name="__codelineno-157-3" href="#__codelineno-157-3"></a>
<a id="__codelineno-157-4" name="__codelineno-157-4" href="#__codelineno-157-4"></a>
<a id="__codelineno-157-5" name="__codelineno-157-5" href="#__codelineno-157-5"></a>[
<a id="__codelineno-157-6" name="__codelineno-157-6" href="#__codelineno-157-6"></a>
<a id="__codelineno-157-7" name="__codelineno-157-7" href="#__codelineno-157-7"></a>
<a id="__codelineno-157-8" name="__codelineno-157-8" href="#__codelineno-157-8"></a>
<a id="__codelineno-157-9" name="__codelineno-157-9" href="#__codelineno-157-9"></a>{
<a id="__codelineno-157-10" name="__codelineno-157-10" href="#__codelineno-157-10"></a>
<a id="__codelineno-157-11" name="__codelineno-157-11" href="#__codelineno-157-11"></a>
<a id="__codelineno-157-12" name="__codelineno-157-12" href="#__codelineno-157-12"></a>
<a id="__codelineno-157-13" name="__codelineno-157-13" href="#__codelineno-157-13"></a># rule #1
<a id="__codelineno-157-14" name="__codelineno-157-14" href="#__codelineno-157-14"></a>
<a id="__codelineno-157-15" name="__codelineno-157-15" href="#__codelineno-157-15"></a>
<a id="__codelineno-157-16" name="__codelineno-157-16" href="#__codelineno-157-16"></a>
<a id="__codelineno-157-17" name="__codelineno-157-17" href="#__codelineno-157-17"></a>&quot;type&quot;: &quot;Annotation&quot;,
<a id="__codelineno-157-18" name="__codelineno-157-18" href="#__codelineno-157-18"></a>
<a id="__codelineno-157-19" name="__codelineno-157-19" href="#__codelineno-157-19"></a>
<a id="__codelineno-157-20" name="__codelineno-157-20" href="#__codelineno-157-20"></a>
<a id="__codelineno-157-21" name="__codelineno-157-21" href="#__codelineno-157-21"></a>&quot;source&quot;: &quot;metadata.example.com/team&quot;,
<a id="__codelineno-157-22" name="__codelineno-157-22" href="#__codelineno-157-22"></a>
<a id="__codelineno-157-23" name="__codelineno-157-23" href="#__codelineno-157-23"></a>
<a id="__codelineno-157-24" name="__codelineno-157-24" href="#__codelineno-157-24"></a>
<a id="__codelineno-157-25" name="__codelineno-157-25" href="#__codelineno-157-25"></a>&quot;target&quot;: &quot;dt.security_context&quot;
<a id="__codelineno-157-26" name="__codelineno-157-26" href="#__codelineno-157-26"></a>
<a id="__codelineno-157-27" name="__codelineno-157-27" href="#__codelineno-157-27"></a>
<a id="__codelineno-157-28" name="__codelineno-157-28" href="#__codelineno-157-28"></a>
<a id="__codelineno-157-29" name="__codelineno-157-29" href="#__codelineno-157-29"></a>},
<a id="__codelineno-157-30" name="__codelineno-157-30" href="#__codelineno-157-30"></a>
<a id="__codelineno-157-31" name="__codelineno-157-31" href="#__codelineno-157-31"></a>
<a id="__codelineno-157-32" name="__codelineno-157-32" href="#__codelineno-157-32"></a>
<a id="__codelineno-157-33" name="__codelineno-157-33" href="#__codelineno-157-33"></a>{
<a id="__codelineno-157-34" name="__codelineno-157-34" href="#__codelineno-157-34"></a>
<a id="__codelineno-157-35" name="__codelineno-157-35" href="#__codelineno-157-35"></a>
<a id="__codelineno-157-36" name="__codelineno-157-36" href="#__codelineno-157-36"></a>
<a id="__codelineno-157-37" name="__codelineno-157-37" href="#__codelineno-157-37"></a># rule #2
<a id="__codelineno-157-38" name="__codelineno-157-38" href="#__codelineno-157-38"></a>
<a id="__codelineno-157-39" name="__codelineno-157-39" href="#__codelineno-157-39"></a>
<a id="__codelineno-157-40" name="__codelineno-157-40" href="#__codelineno-157-40"></a>
<a id="__codelineno-157-41" name="__codelineno-157-41" href="#__codelineno-157-41"></a>&quot;type&quot;: &quot;Label&quot;,
<a id="__codelineno-157-42" name="__codelineno-157-42" href="#__codelineno-157-42"></a>
<a id="__codelineno-157-43" name="__codelineno-157-43" href="#__codelineno-157-43"></a>
<a id="__codelineno-157-44" name="__codelineno-157-44" href="#__codelineno-157-44"></a>
<a id="__codelineno-157-45" name="__codelineno-157-45" href="#__codelineno-157-45"></a>&quot;source&quot;: &quot;department&quot;,
<a id="__codelineno-157-46" name="__codelineno-157-46" href="#__codelineno-157-46"></a>
<a id="__codelineno-157-47" name="__codelineno-157-47" href="#__codelineno-157-47"></a>
<a id="__codelineno-157-48" name="__codelineno-157-48" href="#__codelineno-157-48"></a>
<a id="__codelineno-157-49" name="__codelineno-157-49" href="#__codelineno-157-49"></a>&quot;target&quot;: &quot;dt.cost.costcenter&quot;
<a id="__codelineno-157-50" name="__codelineno-157-50" href="#__codelineno-157-50"></a>
<a id="__codelineno-157-51" name="__codelineno-157-51" href="#__codelineno-157-51"></a>
<a id="__codelineno-157-52" name="__codelineno-157-52" href="#__codelineno-157-52"></a>
<a id="__codelineno-157-53" name="__codelineno-157-53" href="#__codelineno-157-53"></a>},
<a id="__codelineno-157-54" name="__codelineno-157-54" href="#__codelineno-157-54"></a>
<a id="__codelineno-157-55" name="__codelineno-157-55" href="#__codelineno-157-55"></a>
<a id="__codelineno-157-56" name="__codelineno-157-56" href="#__codelineno-157-56"></a>
<a id="__codelineno-157-57" name="__codelineno-157-57" href="#__codelineno-157-57"></a>{
<a id="__codelineno-157-58" name="__codelineno-157-58" href="#__codelineno-157-58"></a>
<a id="__codelineno-157-59" name="__codelineno-157-59" href="#__codelineno-157-59"></a>
<a id="__codelineno-157-60" name="__codelineno-157-60" href="#__codelineno-157-60"></a>
<a id="__codelineno-157-61" name="__codelineno-157-61" href="#__codelineno-157-61"></a># rule #3
<a id="__codelineno-157-62" name="__codelineno-157-62" href="#__codelineno-157-62"></a>
<a id="__codelineno-157-63" name="__codelineno-157-63" href="#__codelineno-157-63"></a>
<a id="__codelineno-157-64" name="__codelineno-157-64" href="#__codelineno-157-64"></a>
<a id="__codelineno-157-65" name="__codelineno-157-65" href="#__codelineno-157-65"></a>&quot;type&quot;: &quot;Label&quot;,
<a id="__codelineno-157-66" name="__codelineno-157-66" href="#__codelineno-157-66"></a>
<a id="__codelineno-157-67" name="__codelineno-157-67" href="#__codelineno-157-67"></a>
<a id="__codelineno-157-68" name="__codelineno-157-68" href="#__codelineno-157-68"></a>
<a id="__codelineno-157-69" name="__codelineno-157-69" href="#__codelineno-157-69"></a>&quot;source&quot;: &quot;app/name&quot;,
<a id="__codelineno-157-70" name="__codelineno-157-70" href="#__codelineno-157-70"></a>
<a id="__codelineno-157-71" name="__codelineno-157-71" href="#__codelineno-157-71"></a>
<a id="__codelineno-157-72" name="__codelineno-157-72" href="#__codelineno-157-72"></a>
<a id="__codelineno-157-73" name="__codelineno-157-73" href="#__codelineno-157-73"></a>&quot;target&quot;: &quot;dt.cost.product&quot;
<a id="__codelineno-157-74" name="__codelineno-157-74" href="#__codelineno-157-74"></a>
<a id="__codelineno-157-75" name="__codelineno-157-75" href="#__codelineno-157-75"></a>
<a id="__codelineno-157-76" name="__codelineno-157-76" href="#__codelineno-157-76"></a>
<a id="__codelineno-157-77" name="__codelineno-157-77" href="#__codelineno-157-77"></a>}
<a id="__codelineno-157-78" name="__codelineno-157-78" href="#__codelineno-157-78"></a>
<a id="__codelineno-157-79" name="__codelineno-157-79" href="#__codelineno-157-79"></a>
<a id="__codelineno-157-80" name="__codelineno-157-80" href="#__codelineno-157-80"></a>
<a id="__codelineno-157-81" name="__codelineno-157-81" href="#__codelineno-157-81"></a>{
<a id="__codelineno-157-82" name="__codelineno-157-82" href="#__codelineno-157-82"></a>
<a id="__codelineno-157-83" name="__codelineno-157-83" href="#__codelineno-157-83"></a>
<a id="__codelineno-157-84" name="__codelineno-157-84" href="#__codelineno-157-84"></a>
<a id="__codelineno-157-85" name="__codelineno-157-85" href="#__codelineno-157-85"></a># rule #4
<a id="__codelineno-157-86" name="__codelineno-157-86" href="#__codelineno-157-86"></a>
<a id="__codelineno-157-87" name="__codelineno-157-87" href="#__codelineno-157-87"></a>
<a id="__codelineno-157-88" name="__codelineno-157-88" href="#__codelineno-157-88"></a>
<a id="__codelineno-157-89" name="__codelineno-157-89" href="#__codelineno-157-89"></a>&quot;type&quot;: &quot;Label&quot;,
<a id="__codelineno-157-90" name="__codelineno-157-90" href="#__codelineno-157-90"></a>
<a id="__codelineno-157-91" name="__codelineno-157-91" href="#__codelineno-157-91"></a>
<a id="__codelineno-157-92" name="__codelineno-157-92" href="#__codelineno-157-92"></a>
<a id="__codelineno-157-93" name="__codelineno-157-93" href="#__codelineno-157-93"></a>&quot;source&quot;: &quot;domain&quot;,
<a id="__codelineno-157-94" name="__codelineno-157-94" href="#__codelineno-157-94"></a>
<a id="__codelineno-157-95" name="__codelineno-157-95" href="#__codelineno-157-95"></a>
<a id="__codelineno-157-96" name="__codelineno-157-96" href="#__codelineno-157-96"></a>
<a id="__codelineno-157-97" name="__codelineno-157-97" href="#__codelineno-157-97"></a>&quot;primaryGrailTag&quot;: &quot;true&quot;
<a id="__codelineno-157-98" name="__codelineno-157-98" href="#__codelineno-157-98"></a>
<a id="__codelineno-157-99" name="__codelineno-157-99" href="#__codelineno-157-99"></a>
<a id="__codelineno-157-100" name="__codelineno-157-100" href="#__codelineno-157-100"></a>
<a id="__codelineno-157-101" name="__codelineno-157-101" href="#__codelineno-157-101"></a>}
<a id="__codelineno-157-102" name="__codelineno-157-102" href="#__codelineno-157-102"></a>
<a id="__codelineno-157-103" name="__codelineno-157-103" href="#__codelineno-157-103"></a>
<a id="__codelineno-157-104" name="__codelineno-157-104" href="#__codelineno-157-104"></a>
<a id="__codelineno-157-105" name="__codelineno-157-105" href="#__codelineno-157-105"></a>]
</code></pre></div>
<p>Namespace</p>
<p>Your existing namespace labels and annotations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a>metadata:
<a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a>
<a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a>
<a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a>
<a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a>annotations:
<a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a>
<a id="__codelineno-158-7" name="__codelineno-158-7" href="#__codelineno-158-7"></a>
<a id="__codelineno-158-8" name="__codelineno-158-8" href="#__codelineno-158-8"></a>
<a id="__codelineno-158-9" name="__codelineno-158-9" href="#__codelineno-158-9"></a>metadata.example.com/team: sre
<a id="__codelineno-158-10" name="__codelineno-158-10" href="#__codelineno-158-10"></a>
<a id="__codelineno-158-11" name="__codelineno-158-11" href="#__codelineno-158-11"></a>
<a id="__codelineno-158-12" name="__codelineno-158-12" href="#__codelineno-158-12"></a>
<a id="__codelineno-158-13" name="__codelineno-158-13" href="#__codelineno-158-13"></a>labels:
<a id="__codelineno-158-14" name="__codelineno-158-14" href="#__codelineno-158-14"></a>
<a id="__codelineno-158-15" name="__codelineno-158-15" href="#__codelineno-158-15"></a>
<a id="__codelineno-158-16" name="__codelineno-158-16" href="#__codelineno-158-16"></a>
<a id="__codelineno-158-17" name="__codelineno-158-17" href="#__codelineno-158-17"></a>department: it_services
<a id="__codelineno-158-18" name="__codelineno-158-18" href="#__codelineno-158-18"></a>
<a id="__codelineno-158-19" name="__codelineno-158-19" href="#__codelineno-158-19"></a>
<a id="__codelineno-158-20" name="__codelineno-158-20" href="#__codelineno-158-20"></a>
<a id="__codelineno-158-21" name="__codelineno-158-21" href="#__codelineno-158-21"></a>app/name: fin_app
<a id="__codelineno-158-22" name="__codelineno-158-22" href="#__codelineno-158-22"></a>
<a id="__codelineno-158-23" name="__codelineno-158-23" href="#__codelineno-158-23"></a>
<a id="__codelineno-158-24" name="__codelineno-158-24" href="#__codelineno-158-24"></a>
<a id="__codelineno-158-25" name="__codelineno-158-25" href="#__codelineno-158-25"></a>domain: finance
</code></pre></div>
<p>Pod</p>
<p>The Operator will create pod annotations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a>metadata:
<a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a>
<a id="__codelineno-159-3" name="__codelineno-159-3" href="#__codelineno-159-3"></a>
<a id="__codelineno-159-4" name="__codelineno-159-4" href="#__codelineno-159-4"></a>
<a id="__codelineno-159-5" name="__codelineno-159-5" href="#__codelineno-159-5"></a>annotations:
<a id="__codelineno-159-6" name="__codelineno-159-6" href="#__codelineno-159-6"></a>
<a id="__codelineno-159-7" name="__codelineno-159-7" href="#__codelineno-159-7"></a>
<a id="__codelineno-159-8" name="__codelineno-159-8" href="#__codelineno-159-8"></a>
<a id="__codelineno-159-9" name="__codelineno-159-9" href="#__codelineno-159-9"></a>metadata.dynatrace.com:|
<a id="__codelineno-159-10" name="__codelineno-159-10" href="#__codelineno-159-10"></a>
<a id="__codelineno-159-11" name="__codelineno-159-11" href="#__codelineno-159-11"></a>
<a id="__codelineno-159-12" name="__codelineno-159-12" href="#__codelineno-159-12"></a>
<a id="__codelineno-159-13" name="__codelineno-159-13" href="#__codelineno-159-13"></a>{
<a id="__codelineno-159-14" name="__codelineno-159-14" href="#__codelineno-159-14"></a>
<a id="__codelineno-159-15" name="__codelineno-159-15" href="#__codelineno-159-15"></a>
<a id="__codelineno-159-16" name="__codelineno-159-16" href="#__codelineno-159-16"></a>
<a id="__codelineno-159-17" name="__codelineno-159-17" href="#__codelineno-159-17"></a>&quot;dt.security_context&quot;: &quot;sre&quot;,
<a id="__codelineno-159-18" name="__codelineno-159-18" href="#__codelineno-159-18"></a>
<a id="__codelineno-159-19" name="__codelineno-159-19" href="#__codelineno-159-19"></a>
<a id="__codelineno-159-20" name="__codelineno-159-20" href="#__codelineno-159-20"></a>
<a id="__codelineno-159-21" name="__codelineno-159-21" href="#__codelineno-159-21"></a>&quot;dt.cost.costcenter&quot;: &quot;it_services&quot;,
<a id="__codelineno-159-22" name="__codelineno-159-22" href="#__codelineno-159-22"></a>
<a id="__codelineno-159-23" name="__codelineno-159-23" href="#__codelineno-159-23"></a>
<a id="__codelineno-159-24" name="__codelineno-159-24" href="#__codelineno-159-24"></a>
<a id="__codelineno-159-25" name="__codelineno-159-25" href="#__codelineno-159-25"></a>&quot;dt.cost.product&quot;: &quot;fin_app&quot;,
<a id="__codelineno-159-26" name="__codelineno-159-26" href="#__codelineno-159-26"></a>
<a id="__codelineno-159-27" name="__codelineno-159-27" href="#__codelineno-159-27"></a>
<a id="__codelineno-159-28" name="__codelineno-159-28" href="#__codelineno-159-28"></a>
<a id="__codelineno-159-29" name="__codelineno-159-29" href="#__codelineno-159-29"></a>&quot;k8s.namespace.label.domain&quot;: &quot;finance&quot;
<a id="__codelineno-159-30" name="__codelineno-159-30" href="#__codelineno-159-30"></a>
<a id="__codelineno-159-31" name="__codelineno-159-31" href="#__codelineno-159-31"></a>
<a id="__codelineno-159-32" name="__codelineno-159-32" href="#__codelineno-159-32"></a>
<a id="__codelineno-159-33" name="__codelineno-159-33" href="#__codelineno-159-33"></a>}
</code></pre></div>
<p>Telemetry</p>
<p>The following attributes will be enriched on the data:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a>dt.security_context: sre
<a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a>
<a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a>
<a id="__codelineno-160-4" name="__codelineno-160-4" href="#__codelineno-160-4"></a>
<a id="__codelineno-160-5" name="__codelineno-160-5" href="#__codelineno-160-5"></a>dt.cost.costcenter: it_services
<a id="__codelineno-160-6" name="__codelineno-160-6" href="#__codelineno-160-6"></a>
<a id="__codelineno-160-7" name="__codelineno-160-7" href="#__codelineno-160-7"></a>
<a id="__codelineno-160-8" name="__codelineno-160-8" href="#__codelineno-160-8"></a>
<a id="__codelineno-160-9" name="__codelineno-160-9" href="#__codelineno-160-9"></a>dt.cost.product: fin_app
<a id="__codelineno-160-10" name="__codelineno-160-10" href="#__codelineno-160-10"></a>
<a id="__codelineno-160-11" name="__codelineno-160-11" href="#__codelineno-160-11"></a>
<a id="__codelineno-160-12" name="__codelineno-160-12" href="#__codelineno-160-12"></a>
<a id="__codelineno-160-13" name="__codelineno-160-13" href="#__codelineno-160-13"></a>k8s.namespace.label.domain: finance
</code></pre></div>
<h2 id="related-topics_8">Related topics<a class="headerlink" href="#related-topics_8" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/extend-dynatrace/extend-data" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">Enrich ingested data with Dynatrace-specific dimensions</a></li>
<li><a href="/docs/ingest-from/opentelemetry/collector/use-cases/kubernetes/k8s-enrich" title="Configure the OpenTelemetry Collector to enrich OTLP requests with Kubernetes data.">Enrich OTLP requests with Kubernetes data</a></li>
<li><a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment" title="Metadata enrichment in the Dynatrace Operator adds context to Kubernetes pods by attaching relevant metadata to entities like pods, hosts, and processes for better observability.">Configure enrichment directory</a></li>
</ul>
<hr />
<h2 id="source-metadata-enrichmentmd">Source: metadata-enrichment.md<a class="headerlink" href="#source-metadata-enrichmentmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Configure enrichment directory
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment
scraped: 2026-02-17T04:58:28.324960</p>
<hr />
<h1 id="configure-enrichment-directory">Configure enrichment directory<a class="headerlink" href="#configure-enrichment-directory" title="Permanent link">&para;</a></h1>
<h1 id="configure-enrichment-directory_1">Configure enrichment directory<a class="headerlink" href="#configure-enrichment-directory_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Jul 28, 2023</li>
</ul>
<p>Metadata enrichment is an optional feature that enhances monitoring signals by adding supplementary metadata.</p>
<h2 id="what-you-will-learn">What you will learn<a class="headerlink" href="#what-you-will-learn" title="Permanent link">&para;</a></h2>
<p>This guide explains how to configure and enable metadata enrichment in the Dynatrace Operator. By following this guide, you will be able to:</p>
<ul>
<li>Verify the correct application of enriched metadata for various use cases.</li>
<li>Associate logs and metrics with specific entities like pods, processes, etc.</li>
</ul>
<h2 id="prerequisites_5">Prerequisites<a class="headerlink" href="#prerequisites_5" title="Permanent link">&para;</a></h2>
<ul>
<li>Dynatrace Operator is installed and running in your Kubernetes cluster.</li>
<li>A valid DynaKube is applied to your cluster.</li>
</ul>
<h2 id="steps">Steps<a class="headerlink" href="#steps" title="Permanent link">&para;</a></h2>
<ol>
<li>Enable metadata enrichment</li>
</ol>
<p>To enable metadata enrichment, modify your DynaKube YAML:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a>
<a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a>
<a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a>
<a id="__codelineno-161-5" name="__codelineno-161-5" href="#__codelineno-161-5"></a>kind: DynaKube
<a id="__codelineno-161-6" name="__codelineno-161-6" href="#__codelineno-161-6"></a>
<a id="__codelineno-161-7" name="__codelineno-161-7" href="#__codelineno-161-7"></a>
<a id="__codelineno-161-8" name="__codelineno-161-8" href="#__codelineno-161-8"></a>
<a id="__codelineno-161-9" name="__codelineno-161-9" href="#__codelineno-161-9"></a>metadata:
<a id="__codelineno-161-10" name="__codelineno-161-10" href="#__codelineno-161-10"></a>
<a id="__codelineno-161-11" name="__codelineno-161-11" href="#__codelineno-161-11"></a>
<a id="__codelineno-161-12" name="__codelineno-161-12" href="#__codelineno-161-12"></a>
<a id="__codelineno-161-13" name="__codelineno-161-13" href="#__codelineno-161-13"></a>name: &lt;dk-name&gt;
<a id="__codelineno-161-14" name="__codelineno-161-14" href="#__codelineno-161-14"></a>
<a id="__codelineno-161-15" name="__codelineno-161-15" href="#__codelineno-161-15"></a>
<a id="__codelineno-161-16" name="__codelineno-161-16" href="#__codelineno-161-16"></a>
<a id="__codelineno-161-17" name="__codelineno-161-17" href="#__codelineno-161-17"></a>namespace: &lt;dk-namespace&gt;
<a id="__codelineno-161-18" name="__codelineno-161-18" href="#__codelineno-161-18"></a>
<a id="__codelineno-161-19" name="__codelineno-161-19" href="#__codelineno-161-19"></a>
<a id="__codelineno-161-20" name="__codelineno-161-20" href="#__codelineno-161-20"></a>
<a id="__codelineno-161-21" name="__codelineno-161-21" href="#__codelineno-161-21"></a>spec:
<a id="__codelineno-161-22" name="__codelineno-161-22" href="#__codelineno-161-22"></a>
<a id="__codelineno-161-23" name="__codelineno-161-23" href="#__codelineno-161-23"></a>
<a id="__codelineno-161-24" name="__codelineno-161-24" href="#__codelineno-161-24"></a>
<a id="__codelineno-161-25" name="__codelineno-161-25" href="#__codelineno-161-25"></a>apiUrl: &lt;dk-apiUrl&gt;
<a id="__codelineno-161-26" name="__codelineno-161-26" href="#__codelineno-161-26"></a>
<a id="__codelineno-161-27" name="__codelineno-161-27" href="#__codelineno-161-27"></a>
<a id="__codelineno-161-28" name="__codelineno-161-28" href="#__codelineno-161-28"></a>
<a id="__codelineno-161-29" name="__codelineno-161-29" href="#__codelineno-161-29"></a>metadataEnrichment:
<a id="__codelineno-161-30" name="__codelineno-161-30" href="#__codelineno-161-30"></a>
<a id="__codelineno-161-31" name="__codelineno-161-31" href="#__codelineno-161-31"></a>
<a id="__codelineno-161-32" name="__codelineno-161-32" href="#__codelineno-161-32"></a>
<a id="__codelineno-161-33" name="__codelineno-161-33" href="#__codelineno-161-33"></a>enabled: true
</code></pre></div>
<p>If using additional features like ActiveGate or OneAgent, your configuration may include:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a>
<a id="__codelineno-162-3" name="__codelineno-162-3" href="#__codelineno-162-3"></a>
<a id="__codelineno-162-4" name="__codelineno-162-4" href="#__codelineno-162-4"></a>
<a id="__codelineno-162-5" name="__codelineno-162-5" href="#__codelineno-162-5"></a>kind: DynaKube
<a id="__codelineno-162-6" name="__codelineno-162-6" href="#__codelineno-162-6"></a>
<a id="__codelineno-162-7" name="__codelineno-162-7" href="#__codelineno-162-7"></a>
<a id="__codelineno-162-8" name="__codelineno-162-8" href="#__codelineno-162-8"></a>
<a id="__codelineno-162-9" name="__codelineno-162-9" href="#__codelineno-162-9"></a>metadata:
<a id="__codelineno-162-10" name="__codelineno-162-10" href="#__codelineno-162-10"></a>
<a id="__codelineno-162-11" name="__codelineno-162-11" href="#__codelineno-162-11"></a>
<a id="__codelineno-162-12" name="__codelineno-162-12" href="#__codelineno-162-12"></a>
<a id="__codelineno-162-13" name="__codelineno-162-13" href="#__codelineno-162-13"></a>name: &lt;dk-name&gt;
<a id="__codelineno-162-14" name="__codelineno-162-14" href="#__codelineno-162-14"></a>
<a id="__codelineno-162-15" name="__codelineno-162-15" href="#__codelineno-162-15"></a>
<a id="__codelineno-162-16" name="__codelineno-162-16" href="#__codelineno-162-16"></a>
<a id="__codelineno-162-17" name="__codelineno-162-17" href="#__codelineno-162-17"></a>namespace: &lt;dk-namespace&gt;
<a id="__codelineno-162-18" name="__codelineno-162-18" href="#__codelineno-162-18"></a>
<a id="__codelineno-162-19" name="__codelineno-162-19" href="#__codelineno-162-19"></a>
<a id="__codelineno-162-20" name="__codelineno-162-20" href="#__codelineno-162-20"></a>
<a id="__codelineno-162-21" name="__codelineno-162-21" href="#__codelineno-162-21"></a>spec:
<a id="__codelineno-162-22" name="__codelineno-162-22" href="#__codelineno-162-22"></a>
<a id="__codelineno-162-23" name="__codelineno-162-23" href="#__codelineno-162-23"></a>
<a id="__codelineno-162-24" name="__codelineno-162-24" href="#__codelineno-162-24"></a>
<a id="__codelineno-162-25" name="__codelineno-162-25" href="#__codelineno-162-25"></a>apiUrl: &lt;dk-apiUrl&gt;
<a id="__codelineno-162-26" name="__codelineno-162-26" href="#__codelineno-162-26"></a>
<a id="__codelineno-162-27" name="__codelineno-162-27" href="#__codelineno-162-27"></a>
<a id="__codelineno-162-28" name="__codelineno-162-28" href="#__codelineno-162-28"></a>
<a id="__codelineno-162-29" name="__codelineno-162-29" href="#__codelineno-162-29"></a>metadataEnrichment:
<a id="__codelineno-162-30" name="__codelineno-162-30" href="#__codelineno-162-30"></a>
<a id="__codelineno-162-31" name="__codelineno-162-31" href="#__codelineno-162-31"></a>
<a id="__codelineno-162-32" name="__codelineno-162-32" href="#__codelineno-162-32"></a>
<a id="__codelineno-162-33" name="__codelineno-162-33" href="#__codelineno-162-33"></a>enabled: true
<a id="__codelineno-162-34" name="__codelineno-162-34" href="#__codelineno-162-34"></a>
<a id="__codelineno-162-35" name="__codelineno-162-35" href="#__codelineno-162-35"></a>
<a id="__codelineno-162-36" name="__codelineno-162-36" href="#__codelineno-162-36"></a>
<a id="__codelineno-162-37" name="__codelineno-162-37" href="#__codelineno-162-37"></a>oneAgent:
<a id="__codelineno-162-38" name="__codelineno-162-38" href="#__codelineno-162-38"></a>
<a id="__codelineno-162-39" name="__codelineno-162-39" href="#__codelineno-162-39"></a>
<a id="__codelineno-162-40" name="__codelineno-162-40" href="#__codelineno-162-40"></a>
<a id="__codelineno-162-41" name="__codelineno-162-41" href="#__codelineno-162-41"></a>cloudNativeFullStack: (or other mode)
<a id="__codelineno-162-42" name="__codelineno-162-42" href="#__codelineno-162-42"></a>
<a id="__codelineno-162-43" name="__codelineno-162-43" href="#__codelineno-162-43"></a>
<a id="__codelineno-162-44" name="__codelineno-162-44" href="#__codelineno-162-44"></a>
<a id="__codelineno-162-45" name="__codelineno-162-45" href="#__codelineno-162-45"></a>...
<a id="__codelineno-162-46" name="__codelineno-162-46" href="#__codelineno-162-46"></a>
<a id="__codelineno-162-47" name="__codelineno-162-47" href="#__codelineno-162-47"></a>
<a id="__codelineno-162-48" name="__codelineno-162-48" href="#__codelineno-162-48"></a>
<a id="__codelineno-162-49" name="__codelineno-162-49" href="#__codelineno-162-49"></a>activeGate:
<a id="__codelineno-162-50" name="__codelineno-162-50" href="#__codelineno-162-50"></a>
<a id="__codelineno-162-51" name="__codelineno-162-51" href="#__codelineno-162-51"></a>
<a id="__codelineno-162-52" name="__codelineno-162-52" href="#__codelineno-162-52"></a>
<a id="__codelineno-162-53" name="__codelineno-162-53" href="#__codelineno-162-53"></a>capabilities:
<a id="__codelineno-162-54" name="__codelineno-162-54" href="#__codelineno-162-54"></a>
<a id="__codelineno-162-55" name="__codelineno-162-55" href="#__codelineno-162-55"></a>
<a id="__codelineno-162-56" name="__codelineno-162-56" href="#__codelineno-162-56"></a>
<a id="__codelineno-162-57" name="__codelineno-162-57" href="#__codelineno-162-57"></a>- routing
<a id="__codelineno-162-58" name="__codelineno-162-58" href="#__codelineno-162-58"></a>
<a id="__codelineno-162-59" name="__codelineno-162-59" href="#__codelineno-162-59"></a>
<a id="__codelineno-162-60" name="__codelineno-162-60" href="#__codelineno-162-60"></a>
<a id="__codelineno-162-61" name="__codelineno-162-61" href="#__codelineno-162-61"></a>...
</code></pre></div>
<ol>
<li>Use namespace selector</li>
</ol>
<p>Optional</p>
<p>To limit metadata enrichment to specific namespaces, add the <code>namespaceSelector</code> field to your configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a>metadataEnrichment:
<a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a>
<a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a>
<a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a>
<a id="__codelineno-163-5" name="__codelineno-163-5" href="#__codelineno-163-5"></a>enabled: true
<a id="__codelineno-163-6" name="__codelineno-163-6" href="#__codelineno-163-6"></a>
<a id="__codelineno-163-7" name="__codelineno-163-7" href="#__codelineno-163-7"></a>
<a id="__codelineno-163-8" name="__codelineno-163-8" href="#__codelineno-163-8"></a>
<a id="__codelineno-163-9" name="__codelineno-163-9" href="#__codelineno-163-9"></a>namespaceSelector:
<a id="__codelineno-163-10" name="__codelineno-163-10" href="#__codelineno-163-10"></a>
<a id="__codelineno-163-11" name="__codelineno-163-11" href="#__codelineno-163-11"></a>
<a id="__codelineno-163-12" name="__codelineno-163-12" href="#__codelineno-163-12"></a>
<a id="__codelineno-163-13" name="__codelineno-163-13" href="#__codelineno-163-13"></a>matchLabels:
<a id="__codelineno-163-14" name="__codelineno-163-14" href="#__codelineno-163-14"></a>
<a id="__codelineno-163-15" name="__codelineno-163-15" href="#__codelineno-163-15"></a>
<a id="__codelineno-163-16" name="__codelineno-163-16" href="#__codelineno-163-16"></a>
<a id="__codelineno-163-17" name="__codelineno-163-17" href="#__codelineno-163-17"></a>team: finance
</code></pre></div>
<p>This configuration applies metadata enrichment only to namespaces labeled with <code>team=finance</code>.</p>
<ol>
<li>Verify enrichment directory</li>
</ol>
<p>Confirm that the enrichment directory in injected Pods reflects the metadata attributes you've configured.</p>
<p>Enrichment files are stored in the following directory: <code>/var/lib/dynatrace/enrichment</code></p>
<p>This directory holds the enrichment files <code>dt_metadata.json</code> and <code>dt_metadata.properties</code></p>
<p>The files look like this:</p>
<ol>
<li>dt_metadata.properties</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a>dt.entity.kubernetes_cluster=&lt;kubernetes-cluster-id&gt;
<a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a>
<a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a>
<a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a>
<a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a>dt.kubernetes.cluster.id=&lt;cluster-id&gt;
<a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a>
<a id="__codelineno-164-7" name="__codelineno-164-7" href="#__codelineno-164-7"></a>
<a id="__codelineno-164-8" name="__codelineno-164-8" href="#__codelineno-164-8"></a>
<a id="__codelineno-164-9" name="__codelineno-164-9" href="#__codelineno-164-9"></a>dt.kubernetes.workload.kind=&lt;workload-kind&gt;
<a id="__codelineno-164-10" name="__codelineno-164-10" href="#__codelineno-164-10"></a>
<a id="__codelineno-164-11" name="__codelineno-164-11" href="#__codelineno-164-11"></a>
<a id="__codelineno-164-12" name="__codelineno-164-12" href="#__codelineno-164-12"></a>
<a id="__codelineno-164-13" name="__codelineno-164-13" href="#__codelineno-164-13"></a>dt.kubernetes.workload.name=&lt;workload-name&gt;
<a id="__codelineno-164-14" name="__codelineno-164-14" href="#__codelineno-164-14"></a>
<a id="__codelineno-164-15" name="__codelineno-164-15" href="#__codelineno-164-15"></a>
<a id="__codelineno-164-16" name="__codelineno-164-16" href="#__codelineno-164-16"></a>
<a id="__codelineno-164-17" name="__codelineno-164-17" href="#__codelineno-164-17"></a>k8s.cluster.name=&lt;cluster-name&gt;
<a id="__codelineno-164-18" name="__codelineno-164-18" href="#__codelineno-164-18"></a>
<a id="__codelineno-164-19" name="__codelineno-164-19" href="#__codelineno-164-19"></a>
<a id="__codelineno-164-20" name="__codelineno-164-20" href="#__codelineno-164-20"></a>
<a id="__codelineno-164-21" name="__codelineno-164-21" href="#__codelineno-164-21"></a>k8s.cluster.uid=&lt;cluster-uid&gt;
<a id="__codelineno-164-22" name="__codelineno-164-22" href="#__codelineno-164-22"></a>
<a id="__codelineno-164-23" name="__codelineno-164-23" href="#__codelineno-164-23"></a>
<a id="__codelineno-164-24" name="__codelineno-164-24" href="#__codelineno-164-24"></a>
<a id="__codelineno-164-25" name="__codelineno-164-25" href="#__codelineno-164-25"></a>k8s.container.name=&lt;container-name&gt;
<a id="__codelineno-164-26" name="__codelineno-164-26" href="#__codelineno-164-26"></a>
<a id="__codelineno-164-27" name="__codelineno-164-27" href="#__codelineno-164-27"></a>
<a id="__codelineno-164-28" name="__codelineno-164-28" href="#__codelineno-164-28"></a>
<a id="__codelineno-164-29" name="__codelineno-164-29" href="#__codelineno-164-29"></a>k8s.namespace.name=&lt;namespace-name&gt;
<a id="__codelineno-164-30" name="__codelineno-164-30" href="#__codelineno-164-30"></a>
<a id="__codelineno-164-31" name="__codelineno-164-31" href="#__codelineno-164-31"></a>
<a id="__codelineno-164-32" name="__codelineno-164-32" href="#__codelineno-164-32"></a>
<a id="__codelineno-164-33" name="__codelineno-164-33" href="#__codelineno-164-33"></a>k8s.node.name=&lt;node-name&gt;
<a id="__codelineno-164-34" name="__codelineno-164-34" href="#__codelineno-164-34"></a>
<a id="__codelineno-164-35" name="__codelineno-164-35" href="#__codelineno-164-35"></a>
<a id="__codelineno-164-36" name="__codelineno-164-36" href="#__codelineno-164-36"></a>
<a id="__codelineno-164-37" name="__codelineno-164-37" href="#__codelineno-164-37"></a>k8s.pod.name=&lt;pod-name&gt;
<a id="__codelineno-164-38" name="__codelineno-164-38" href="#__codelineno-164-38"></a>
<a id="__codelineno-164-39" name="__codelineno-164-39" href="#__codelineno-164-39"></a>
<a id="__codelineno-164-40" name="__codelineno-164-40" href="#__codelineno-164-40"></a>
<a id="__codelineno-164-41" name="__codelineno-164-41" href="#__codelineno-164-41"></a>k8s.pod.uid=&lt;pod-uid&gt;
<a id="__codelineno-164-42" name="__codelineno-164-42" href="#__codelineno-164-42"></a>
<a id="__codelineno-164-43" name="__codelineno-164-43" href="#__codelineno-164-43"></a>
<a id="__codelineno-164-44" name="__codelineno-164-44" href="#__codelineno-164-44"></a>
<a id="__codelineno-164-45" name="__codelineno-164-45" href="#__codelineno-164-45"></a>k8s.workload.kind=&lt;workload-kind&gt;
<a id="__codelineno-164-46" name="__codelineno-164-46" href="#__codelineno-164-46"></a>
<a id="__codelineno-164-47" name="__codelineno-164-47" href="#__codelineno-164-47"></a>
<a id="__codelineno-164-48" name="__codelineno-164-48" href="#__codelineno-164-48"></a>
<a id="__codelineno-164-49" name="__codelineno-164-49" href="#__codelineno-164-49"></a>k8s.workload.name=&lt;workload-name&gt;
</code></pre></div>
<ol>
<li>dt_metadata.json</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a>{
<a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a>
<a id="__codelineno-165-3" name="__codelineno-165-3" href="#__codelineno-165-3"></a>
<a id="__codelineno-165-4" name="__codelineno-165-4" href="#__codelineno-165-4"></a>
<a id="__codelineno-165-5" name="__codelineno-165-5" href="#__codelineno-165-5"></a>&quot;dt.entity.kubernetes_cluster&quot;: &quot;&lt;kubernetes-cluster-id&gt;&quot;,
<a id="__codelineno-165-6" name="__codelineno-165-6" href="#__codelineno-165-6"></a>
<a id="__codelineno-165-7" name="__codelineno-165-7" href="#__codelineno-165-7"></a>
<a id="__codelineno-165-8" name="__codelineno-165-8" href="#__codelineno-165-8"></a>
<a id="__codelineno-165-9" name="__codelineno-165-9" href="#__codelineno-165-9"></a>&quot;dt.kubernetes.cluster.id&quot;: &quot;&lt;cluster-id&gt;&quot;,
<a id="__codelineno-165-10" name="__codelineno-165-10" href="#__codelineno-165-10"></a>
<a id="__codelineno-165-11" name="__codelineno-165-11" href="#__codelineno-165-11"></a>
<a id="__codelineno-165-12" name="__codelineno-165-12" href="#__codelineno-165-12"></a>
<a id="__codelineno-165-13" name="__codelineno-165-13" href="#__codelineno-165-13"></a>&quot;dt.kubernetes.workload.kind&quot;: &quot;&lt;workload-kind&gt;&quot;,
<a id="__codelineno-165-14" name="__codelineno-165-14" href="#__codelineno-165-14"></a>
<a id="__codelineno-165-15" name="__codelineno-165-15" href="#__codelineno-165-15"></a>
<a id="__codelineno-165-16" name="__codelineno-165-16" href="#__codelineno-165-16"></a>
<a id="__codelineno-165-17" name="__codelineno-165-17" href="#__codelineno-165-17"></a>&quot;dt.kubernetes.workload.name&quot;: &quot;&lt;workload-name&gt;&quot;,
<a id="__codelineno-165-18" name="__codelineno-165-18" href="#__codelineno-165-18"></a>
<a id="__codelineno-165-19" name="__codelineno-165-19" href="#__codelineno-165-19"></a>
<a id="__codelineno-165-20" name="__codelineno-165-20" href="#__codelineno-165-20"></a>
<a id="__codelineno-165-21" name="__codelineno-165-21" href="#__codelineno-165-21"></a>&quot;k8s.cluster.name&quot;: &quot;&lt;cluster-name&gt;&quot;,
<a id="__codelineno-165-22" name="__codelineno-165-22" href="#__codelineno-165-22"></a>
<a id="__codelineno-165-23" name="__codelineno-165-23" href="#__codelineno-165-23"></a>
<a id="__codelineno-165-24" name="__codelineno-165-24" href="#__codelineno-165-24"></a>
<a id="__codelineno-165-25" name="__codelineno-165-25" href="#__codelineno-165-25"></a>&quot;k8s.cluster.uid&quot;: &quot;&lt;cluster-uid&gt;&quot;,
<a id="__codelineno-165-26" name="__codelineno-165-26" href="#__codelineno-165-26"></a>
<a id="__codelineno-165-27" name="__codelineno-165-27" href="#__codelineno-165-27"></a>
<a id="__codelineno-165-28" name="__codelineno-165-28" href="#__codelineno-165-28"></a>
<a id="__codelineno-165-29" name="__codelineno-165-29" href="#__codelineno-165-29"></a>&quot;k8s.container.name&quot;: &quot;&lt;container-name&gt;&quot;,
<a id="__codelineno-165-30" name="__codelineno-165-30" href="#__codelineno-165-30"></a>
<a id="__codelineno-165-31" name="__codelineno-165-31" href="#__codelineno-165-31"></a>
<a id="__codelineno-165-32" name="__codelineno-165-32" href="#__codelineno-165-32"></a>
<a id="__codelineno-165-33" name="__codelineno-165-33" href="#__codelineno-165-33"></a>&quot;k8s.namespace.name&quot;: &quot;&lt;namespace-name&gt;&quot;,
<a id="__codelineno-165-34" name="__codelineno-165-34" href="#__codelineno-165-34"></a>
<a id="__codelineno-165-35" name="__codelineno-165-35" href="#__codelineno-165-35"></a>
<a id="__codelineno-165-36" name="__codelineno-165-36" href="#__codelineno-165-36"></a>
<a id="__codelineno-165-37" name="__codelineno-165-37" href="#__codelineno-165-37"></a>&quot;k8s.node.name&quot;: &quot;&lt;node-name&gt;&quot;,
<a id="__codelineno-165-38" name="__codelineno-165-38" href="#__codelineno-165-38"></a>
<a id="__codelineno-165-39" name="__codelineno-165-39" href="#__codelineno-165-39"></a>
<a id="__codelineno-165-40" name="__codelineno-165-40" href="#__codelineno-165-40"></a>
<a id="__codelineno-165-41" name="__codelineno-165-41" href="#__codelineno-165-41"></a>&quot;k8s.pod.name&quot;: &quot;&lt;pod-name&gt;&quot;,
<a id="__codelineno-165-42" name="__codelineno-165-42" href="#__codelineno-165-42"></a>
<a id="__codelineno-165-43" name="__codelineno-165-43" href="#__codelineno-165-43"></a>
<a id="__codelineno-165-44" name="__codelineno-165-44" href="#__codelineno-165-44"></a>
<a id="__codelineno-165-45" name="__codelineno-165-45" href="#__codelineno-165-45"></a>&quot;k8s.pod.uid&quot;: &quot;&lt;pod-uid&gt;&quot;,
<a id="__codelineno-165-46" name="__codelineno-165-46" href="#__codelineno-165-46"></a>
<a id="__codelineno-165-47" name="__codelineno-165-47" href="#__codelineno-165-47"></a>
<a id="__codelineno-165-48" name="__codelineno-165-48" href="#__codelineno-165-48"></a>
<a id="__codelineno-165-49" name="__codelineno-165-49" href="#__codelineno-165-49"></a>&quot;k8s.workload.kind&quot;: &quot;&lt;workload-kind&gt;&quot;,
<a id="__codelineno-165-50" name="__codelineno-165-50" href="#__codelineno-165-50"></a>
<a id="__codelineno-165-51" name="__codelineno-165-51" href="#__codelineno-165-51"></a>
<a id="__codelineno-165-52" name="__codelineno-165-52" href="#__codelineno-165-52"></a>
<a id="__codelineno-165-53" name="__codelineno-165-53" href="#__codelineno-165-53"></a>&quot;k8s.workload.name&quot;: &quot;&lt;workload-name&gt;&quot;
<a id="__codelineno-165-54" name="__codelineno-165-54" href="#__codelineno-165-54"></a>
<a id="__codelineno-165-55" name="__codelineno-165-55" href="#__codelineno-165-55"></a>
<a id="__codelineno-165-56" name="__codelineno-165-56" href="#__codelineno-165-56"></a>
<a id="__codelineno-165-57" name="__codelineno-165-57" href="#__codelineno-165-57"></a>}
</code></pre></div>
<p><strong>Please note:</strong> The enrichment files will be used for various enrichments automatically, if there is OneAgent enabled. If there is no OneAgent enabled, the enrichment files and their content have to be used manually.</p>
<p>For more details, see <a href="/docs/ingest-from/extend-dynatrace/extend-data#operator-enrichment-directory" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">Enrich ingested data with Dynatrace-specific dimensions</a>.</p>
<h2 id="learn-more_2">Learn more<a class="headerlink" href="#learn-more_2" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/docs/ingest-from/extend-dynatrace/extend-data#operator-enrichment-directory" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">Dynatrace documentation: metadata enrichment files</a></li>
</ul>
<p>By following these steps, you can fully leverage metadata enrichment to enhance your Kubernetes monitoring and achieve better insights.</p>
<hr />
<h2 id="source-migrate-dk-v1beta1-v1beta4md">Source: migrate-dk-v1beta1-v1beta4.md<a class="headerlink" href="#source-migrate-dk-v1beta1-v1beta4md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta1 to v1beta4
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta1-v1beta4
scraped: 2026-02-17T05:05:38.384248</p>
<hr />
<h1 id="migration-of-dynakube-v1beta1-to-v1beta4">Migration of DynaKube v1beta1 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta1-to-v1beta4" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta1-to-v1beta4_1">Migration of DynaKube v1beta1 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta1-to-v1beta4_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta1</code> to <code>apiVersion: dynatrace.com/v1beta4</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle">Support lifecycle<a class="headerlink" href="#support-lifecycle" title="Permanent link">&para;</a></h2>
<h3 id="v1beta1">v1beta1<a class="headerlink" href="#v1beta1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 0.3.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<p><strong>Last supported in</strong>: Dynatrace Operator version 1.6.2</p>
<h3 id="v1beta4">v1beta4<a class="headerlink" href="#v1beta4" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.5.0</p>
<h2 id="changes">Changes<a class="headerlink" href="#changes" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="replaced-feature-flags">Replaced feature flags<a class="headerlink" href="#replaced-feature-flags" title="Permanent link">&para;</a></h3>
<h4 id="dedicated-metadataenrichment-section">Dedicated <code>metadataEnrichment</code> section<a class="headerlink" href="#dedicated-metadataenrichment-section" title="Permanent link">&para;</a></h4>
<p>The feature flag for enabling metadata enrichment (<code>feature.dynatrace.com/metadata-enrichment: true/false</code>) was moved to a dedicated field:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a>
<a id="__codelineno-166-3" name="__codelineno-166-3" href="#__codelineno-166-3"></a>
<a id="__codelineno-166-4" name="__codelineno-166-4" href="#__codelineno-166-4"></a>
<a id="__codelineno-166-5" name="__codelineno-166-5" href="#__codelineno-166-5"></a>kind: DynaKube
<a id="__codelineno-166-6" name="__codelineno-166-6" href="#__codelineno-166-6"></a>
<a id="__codelineno-166-7" name="__codelineno-166-7" href="#__codelineno-166-7"></a>
<a id="__codelineno-166-8" name="__codelineno-166-8" href="#__codelineno-166-8"></a>
<a id="__codelineno-166-9" name="__codelineno-166-9" href="#__codelineno-166-9"></a>metadata:
<a id="__codelineno-166-10" name="__codelineno-166-10" href="#__codelineno-166-10"></a>
<a id="__codelineno-166-11" name="__codelineno-166-11" href="#__codelineno-166-11"></a>
<a id="__codelineno-166-12" name="__codelineno-166-12" href="#__codelineno-166-12"></a>
<a id="__codelineno-166-13" name="__codelineno-166-13" href="#__codelineno-166-13"></a>name: example
<a id="__codelineno-166-14" name="__codelineno-166-14" href="#__codelineno-166-14"></a>
<a id="__codelineno-166-15" name="__codelineno-166-15" href="#__codelineno-166-15"></a>
<a id="__codelineno-166-16" name="__codelineno-166-16" href="#__codelineno-166-16"></a>
<a id="__codelineno-166-17" name="__codelineno-166-17" href="#__codelineno-166-17"></a>namespace: dynatrace
<a id="__codelineno-166-18" name="__codelineno-166-18" href="#__codelineno-166-18"></a>
<a id="__codelineno-166-19" name="__codelineno-166-19" href="#__codelineno-166-19"></a>
<a id="__codelineno-166-20" name="__codelineno-166-20" href="#__codelineno-166-20"></a>
<a id="__codelineno-166-21" name="__codelineno-166-21" href="#__codelineno-166-21"></a>spec:
<a id="__codelineno-166-22" name="__codelineno-166-22" href="#__codelineno-166-22"></a>
<a id="__codelineno-166-23" name="__codelineno-166-23" href="#__codelineno-166-23"></a>
<a id="__codelineno-166-24" name="__codelineno-166-24" href="#__codelineno-166-24"></a>
<a id="__codelineno-166-25" name="__codelineno-166-25" href="#__codelineno-166-25"></a>metadataEnrichment:
<a id="__codelineno-166-26" name="__codelineno-166-26" href="#__codelineno-166-26"></a>
<a id="__codelineno-166-27" name="__codelineno-166-27" href="#__codelineno-166-27"></a>
<a id="__codelineno-166-28" name="__codelineno-166-28" href="#__codelineno-166-28"></a>
<a id="__codelineno-166-29" name="__codelineno-166-29" href="#__codelineno-166-29"></a>enabled: true # replaces feature.dynatrace.com/metadata-enrichment: true
<a id="__codelineno-166-30" name="__codelineno-166-30" href="#__codelineno-166-30"></a>
<a id="__codelineno-166-31" name="__codelineno-166-31" href="#__codelineno-166-31"></a>
<a id="__codelineno-166-32" name="__codelineno-166-32" href="#__codelineno-166-32"></a>
<a id="__codelineno-166-33" name="__codelineno-166-33" href="#__codelineno-166-33"></a>#...
</code></pre></div>
<h4 id="dedicated-dynatraceapirequestthreshold-field">Dedicated <code>dynatraceApiRequestThreshold</code> field<a class="headerlink" href="#dedicated-dynatraceapirequestthreshold-field" title="Permanent link">&para;</a></h4>
<p>The feature flag for controlling how often Dynatrace Operator can ping the Dynatrace API (<code>feature.dynatrace.com/dynatrace-api-request-threshold: &lt;number&gt;</code>) was moved to a dedicated field:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a>
<a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a>
<a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a>
<a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a>kind: DynaKube
<a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a>
<a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a>
<a id="__codelineno-167-8" name="__codelineno-167-8" href="#__codelineno-167-8"></a>
<a id="__codelineno-167-9" name="__codelineno-167-9" href="#__codelineno-167-9"></a>metadata:
<a id="__codelineno-167-10" name="__codelineno-167-10" href="#__codelineno-167-10"></a>
<a id="__codelineno-167-11" name="__codelineno-167-11" href="#__codelineno-167-11"></a>
<a id="__codelineno-167-12" name="__codelineno-167-12" href="#__codelineno-167-12"></a>
<a id="__codelineno-167-13" name="__codelineno-167-13" href="#__codelineno-167-13"></a>name: example
<a id="__codelineno-167-14" name="__codelineno-167-14" href="#__codelineno-167-14"></a>
<a id="__codelineno-167-15" name="__codelineno-167-15" href="#__codelineno-167-15"></a>
<a id="__codelineno-167-16" name="__codelineno-167-16" href="#__codelineno-167-16"></a>
<a id="__codelineno-167-17" name="__codelineno-167-17" href="#__codelineno-167-17"></a>namespace: dynatrace
<a id="__codelineno-167-18" name="__codelineno-167-18" href="#__codelineno-167-18"></a>
<a id="__codelineno-167-19" name="__codelineno-167-19" href="#__codelineno-167-19"></a>
<a id="__codelineno-167-20" name="__codelineno-167-20" href="#__codelineno-167-20"></a>
<a id="__codelineno-167-21" name="__codelineno-167-21" href="#__codelineno-167-21"></a>spec:
<a id="__codelineno-167-22" name="__codelineno-167-22" href="#__codelineno-167-22"></a>
<a id="__codelineno-167-23" name="__codelineno-167-23" href="#__codelineno-167-23"></a>
<a id="__codelineno-167-24" name="__codelineno-167-24" href="#__codelineno-167-24"></a>
<a id="__codelineno-167-25" name="__codelineno-167-25" href="#__codelineno-167-25"></a>dynatraceApiRequestThreshold: 10 # replaces feature.dynatrace.com/dynatrace-api-request-threshold: &quot;10&quot;
<a id="__codelineno-167-26" name="__codelineno-167-26" href="#__codelineno-167-26"></a>
<a id="__codelineno-167-27" name="__codelineno-167-27" href="#__codelineno-167-27"></a>
<a id="__codelineno-167-28" name="__codelineno-167-28" href="#__codelineno-167-28"></a>
<a id="__codelineno-167-29" name="__codelineno-167-29" href="#__codelineno-167-29"></a>#...
</code></pre></div>
<h4 id="dedicated-seccompprofile-field-for-oneagent">Dedicated <code>secCompProfile</code> field for OneAgent<a class="headerlink" href="#dedicated-seccompprofile-field-for-oneagent" title="Permanent link">&para;</a></h4>
<p>The feature flag that controls which seccomp profile the OneAgent DaemonSet uses (<code>feature.dynatrace.com/oneagent-seccomp-profile:example</code>) has been moved to a dedicated field:</p>
<p>Host monitoring</p>
<p>Classic fullstack</p>
<p>Cloud native fullstack</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-168-2" name="__codelineno-168-2" href="#__codelineno-168-2"></a>
<a id="__codelineno-168-3" name="__codelineno-168-3" href="#__codelineno-168-3"></a>
<a id="__codelineno-168-4" name="__codelineno-168-4" href="#__codelineno-168-4"></a>
<a id="__codelineno-168-5" name="__codelineno-168-5" href="#__codelineno-168-5"></a>kind: DynaKube
<a id="__codelineno-168-6" name="__codelineno-168-6" href="#__codelineno-168-6"></a>
<a id="__codelineno-168-7" name="__codelineno-168-7" href="#__codelineno-168-7"></a>
<a id="__codelineno-168-8" name="__codelineno-168-8" href="#__codelineno-168-8"></a>
<a id="__codelineno-168-9" name="__codelineno-168-9" href="#__codelineno-168-9"></a>metadata:
<a id="__codelineno-168-10" name="__codelineno-168-10" href="#__codelineno-168-10"></a>
<a id="__codelineno-168-11" name="__codelineno-168-11" href="#__codelineno-168-11"></a>
<a id="__codelineno-168-12" name="__codelineno-168-12" href="#__codelineno-168-12"></a>
<a id="__codelineno-168-13" name="__codelineno-168-13" href="#__codelineno-168-13"></a>name: example
<a id="__codelineno-168-14" name="__codelineno-168-14" href="#__codelineno-168-14"></a>
<a id="__codelineno-168-15" name="__codelineno-168-15" href="#__codelineno-168-15"></a>
<a id="__codelineno-168-16" name="__codelineno-168-16" href="#__codelineno-168-16"></a>
<a id="__codelineno-168-17" name="__codelineno-168-17" href="#__codelineno-168-17"></a>namespace: dynatrace
<a id="__codelineno-168-18" name="__codelineno-168-18" href="#__codelineno-168-18"></a>
<a id="__codelineno-168-19" name="__codelineno-168-19" href="#__codelineno-168-19"></a>
<a id="__codelineno-168-20" name="__codelineno-168-20" href="#__codelineno-168-20"></a>
<a id="__codelineno-168-21" name="__codelineno-168-21" href="#__codelineno-168-21"></a>spec:
<a id="__codelineno-168-22" name="__codelineno-168-22" href="#__codelineno-168-22"></a>
<a id="__codelineno-168-23" name="__codelineno-168-23" href="#__codelineno-168-23"></a>
<a id="__codelineno-168-24" name="__codelineno-168-24" href="#__codelineno-168-24"></a>
<a id="__codelineno-168-25" name="__codelineno-168-25" href="#__codelineno-168-25"></a>oneAgent:
<a id="__codelineno-168-26" name="__codelineno-168-26" href="#__codelineno-168-26"></a>
<a id="__codelineno-168-27" name="__codelineno-168-27" href="#__codelineno-168-27"></a>
<a id="__codelineno-168-28" name="__codelineno-168-28" href="#__codelineno-168-28"></a>
<a id="__codelineno-168-29" name="__codelineno-168-29" href="#__codelineno-168-29"></a>hostMonitoring:
<a id="__codelineno-168-30" name="__codelineno-168-30" href="#__codelineno-168-30"></a>
<a id="__codelineno-168-31" name="__codelineno-168-31" href="#__codelineno-168-31"></a>
<a id="__codelineno-168-32" name="__codelineno-168-32" href="#__codelineno-168-32"></a>
<a id="__codelineno-168-33" name="__codelineno-168-33" href="#__codelineno-168-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-168-34" name="__codelineno-168-34" href="#__codelineno-168-34"></a>
<a id="__codelineno-168-35" name="__codelineno-168-35" href="#__codelineno-168-35"></a>
<a id="__codelineno-168-36" name="__codelineno-168-36" href="#__codelineno-168-36"></a>
<a id="__codelineno-168-37" name="__codelineno-168-37" href="#__codelineno-168-37"></a>#...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a>
<a id="__codelineno-169-3" name="__codelineno-169-3" href="#__codelineno-169-3"></a>
<a id="__codelineno-169-4" name="__codelineno-169-4" href="#__codelineno-169-4"></a>
<a id="__codelineno-169-5" name="__codelineno-169-5" href="#__codelineno-169-5"></a>kind: DynaKube
<a id="__codelineno-169-6" name="__codelineno-169-6" href="#__codelineno-169-6"></a>
<a id="__codelineno-169-7" name="__codelineno-169-7" href="#__codelineno-169-7"></a>
<a id="__codelineno-169-8" name="__codelineno-169-8" href="#__codelineno-169-8"></a>
<a id="__codelineno-169-9" name="__codelineno-169-9" href="#__codelineno-169-9"></a>metadata:
<a id="__codelineno-169-10" name="__codelineno-169-10" href="#__codelineno-169-10"></a>
<a id="__codelineno-169-11" name="__codelineno-169-11" href="#__codelineno-169-11"></a>
<a id="__codelineno-169-12" name="__codelineno-169-12" href="#__codelineno-169-12"></a>
<a id="__codelineno-169-13" name="__codelineno-169-13" href="#__codelineno-169-13"></a>name: example
<a id="__codelineno-169-14" name="__codelineno-169-14" href="#__codelineno-169-14"></a>
<a id="__codelineno-169-15" name="__codelineno-169-15" href="#__codelineno-169-15"></a>
<a id="__codelineno-169-16" name="__codelineno-169-16" href="#__codelineno-169-16"></a>
<a id="__codelineno-169-17" name="__codelineno-169-17" href="#__codelineno-169-17"></a>namespace: dynatrace
<a id="__codelineno-169-18" name="__codelineno-169-18" href="#__codelineno-169-18"></a>
<a id="__codelineno-169-19" name="__codelineno-169-19" href="#__codelineno-169-19"></a>
<a id="__codelineno-169-20" name="__codelineno-169-20" href="#__codelineno-169-20"></a>
<a id="__codelineno-169-21" name="__codelineno-169-21" href="#__codelineno-169-21"></a>spec:
<a id="__codelineno-169-22" name="__codelineno-169-22" href="#__codelineno-169-22"></a>
<a id="__codelineno-169-23" name="__codelineno-169-23" href="#__codelineno-169-23"></a>
<a id="__codelineno-169-24" name="__codelineno-169-24" href="#__codelineno-169-24"></a>
<a id="__codelineno-169-25" name="__codelineno-169-25" href="#__codelineno-169-25"></a>oneAgent:
<a id="__codelineno-169-26" name="__codelineno-169-26" href="#__codelineno-169-26"></a>
<a id="__codelineno-169-27" name="__codelineno-169-27" href="#__codelineno-169-27"></a>
<a id="__codelineno-169-28" name="__codelineno-169-28" href="#__codelineno-169-28"></a>
<a id="__codelineno-169-29" name="__codelineno-169-29" href="#__codelineno-169-29"></a>classicFullStack:
<a id="__codelineno-169-30" name="__codelineno-169-30" href="#__codelineno-169-30"></a>
<a id="__codelineno-169-31" name="__codelineno-169-31" href="#__codelineno-169-31"></a>
<a id="__codelineno-169-32" name="__codelineno-169-32" href="#__codelineno-169-32"></a>
<a id="__codelineno-169-33" name="__codelineno-169-33" href="#__codelineno-169-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-169-34" name="__codelineno-169-34" href="#__codelineno-169-34"></a>
<a id="__codelineno-169-35" name="__codelineno-169-35" href="#__codelineno-169-35"></a>
<a id="__codelineno-169-36" name="__codelineno-169-36" href="#__codelineno-169-36"></a>
<a id="__codelineno-169-37" name="__codelineno-169-37" href="#__codelineno-169-37"></a>#...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-170-2" name="__codelineno-170-2" href="#__codelineno-170-2"></a>
<a id="__codelineno-170-3" name="__codelineno-170-3" href="#__codelineno-170-3"></a>
<a id="__codelineno-170-4" name="__codelineno-170-4" href="#__codelineno-170-4"></a>
<a id="__codelineno-170-5" name="__codelineno-170-5" href="#__codelineno-170-5"></a>kind: DynaKube
<a id="__codelineno-170-6" name="__codelineno-170-6" href="#__codelineno-170-6"></a>
<a id="__codelineno-170-7" name="__codelineno-170-7" href="#__codelineno-170-7"></a>
<a id="__codelineno-170-8" name="__codelineno-170-8" href="#__codelineno-170-8"></a>
<a id="__codelineno-170-9" name="__codelineno-170-9" href="#__codelineno-170-9"></a>metadata:
<a id="__codelineno-170-10" name="__codelineno-170-10" href="#__codelineno-170-10"></a>
<a id="__codelineno-170-11" name="__codelineno-170-11" href="#__codelineno-170-11"></a>
<a id="__codelineno-170-12" name="__codelineno-170-12" href="#__codelineno-170-12"></a>
<a id="__codelineno-170-13" name="__codelineno-170-13" href="#__codelineno-170-13"></a>name: example
<a id="__codelineno-170-14" name="__codelineno-170-14" href="#__codelineno-170-14"></a>
<a id="__codelineno-170-15" name="__codelineno-170-15" href="#__codelineno-170-15"></a>
<a id="__codelineno-170-16" name="__codelineno-170-16" href="#__codelineno-170-16"></a>
<a id="__codelineno-170-17" name="__codelineno-170-17" href="#__codelineno-170-17"></a>namespace: dynatrace
<a id="__codelineno-170-18" name="__codelineno-170-18" href="#__codelineno-170-18"></a>
<a id="__codelineno-170-19" name="__codelineno-170-19" href="#__codelineno-170-19"></a>
<a id="__codelineno-170-20" name="__codelineno-170-20" href="#__codelineno-170-20"></a>
<a id="__codelineno-170-21" name="__codelineno-170-21" href="#__codelineno-170-21"></a>spec:
<a id="__codelineno-170-22" name="__codelineno-170-22" href="#__codelineno-170-22"></a>
<a id="__codelineno-170-23" name="__codelineno-170-23" href="#__codelineno-170-23"></a>
<a id="__codelineno-170-24" name="__codelineno-170-24" href="#__codelineno-170-24"></a>
<a id="__codelineno-170-25" name="__codelineno-170-25" href="#__codelineno-170-25"></a>oneAgent:
<a id="__codelineno-170-26" name="__codelineno-170-26" href="#__codelineno-170-26"></a>
<a id="__codelineno-170-27" name="__codelineno-170-27" href="#__codelineno-170-27"></a>
<a id="__codelineno-170-28" name="__codelineno-170-28" href="#__codelineno-170-28"></a>
<a id="__codelineno-170-29" name="__codelineno-170-29" href="#__codelineno-170-29"></a>cloudNativeFullstack:
<a id="__codelineno-170-30" name="__codelineno-170-30" href="#__codelineno-170-30"></a>
<a id="__codelineno-170-31" name="__codelineno-170-31" href="#__codelineno-170-31"></a>
<a id="__codelineno-170-32" name="__codelineno-170-32" href="#__codelineno-170-32"></a>
<a id="__codelineno-170-33" name="__codelineno-170-33" href="#__codelineno-170-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-170-34" name="__codelineno-170-34" href="#__codelineno-170-34"></a>
<a id="__codelineno-170-35" name="__codelineno-170-35" href="#__codelineno-170-35"></a>
<a id="__codelineno-170-36" name="__codelineno-170-36" href="#__codelineno-170-36"></a>
<a id="__codelineno-170-37" name="__codelineno-170-37" href="#__codelineno-170-37"></a>#...
</code></pre></div>
<h4 id="new-csi-mount-timeout-feature-flag">New CSI mount timeout feature flag<a class="headerlink" href="#new-csi-mount-timeout-feature-flag" title="Permanent link">&para;</a></h4>
<p>The feature flag that controlled how many mount attempts the CSI driver would make before stopping (<code>feature.dynatrace.com/max-csi-mount-attempts: 5</code>) has been replaced with a timeout-based feature flag. This was done due to the difficulty of determining how many attempts equal a given timeout.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a>feature.dynatrace.com/max-csi-mount-timeout: &quot;8m&quot; # replaces feature.dynatrace.com/max-csi-mount-attempts: &quot;10&quot;
</code></pre></div>
<h3 id="moved-fields">Moved fields<a class="headerlink" href="#moved-fields" title="Permanent link">&para;</a></h3>
<h4 id="specnamespaceselector"><code>spec.namespaceSelector</code><a class="headerlink" href="#specnamespaceselector" title="Permanent link">&para;</a></h4>
<p>The <code>spec.namespaceSelector</code> field was moved to each feature subsection that it affects.</p>
<p>Cloud native fullstack</p>
<p>Application monitoring</p>
<p>Metadata enrichment</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a>
<a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a>
<a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a>
<a id="__codelineno-172-5" name="__codelineno-172-5" href="#__codelineno-172-5"></a>kind: DynaKube
<a id="__codelineno-172-6" name="__codelineno-172-6" href="#__codelineno-172-6"></a>
<a id="__codelineno-172-7" name="__codelineno-172-7" href="#__codelineno-172-7"></a>
<a id="__codelineno-172-8" name="__codelineno-172-8" href="#__codelineno-172-8"></a>
<a id="__codelineno-172-9" name="__codelineno-172-9" href="#__codelineno-172-9"></a>metadata:
<a id="__codelineno-172-10" name="__codelineno-172-10" href="#__codelineno-172-10"></a>
<a id="__codelineno-172-11" name="__codelineno-172-11" href="#__codelineno-172-11"></a>
<a id="__codelineno-172-12" name="__codelineno-172-12" href="#__codelineno-172-12"></a>
<a id="__codelineno-172-13" name="__codelineno-172-13" href="#__codelineno-172-13"></a>name: example
<a id="__codelineno-172-14" name="__codelineno-172-14" href="#__codelineno-172-14"></a>
<a id="__codelineno-172-15" name="__codelineno-172-15" href="#__codelineno-172-15"></a>
<a id="__codelineno-172-16" name="__codelineno-172-16" href="#__codelineno-172-16"></a>
<a id="__codelineno-172-17" name="__codelineno-172-17" href="#__codelineno-172-17"></a>namespace: dynatrace
<a id="__codelineno-172-18" name="__codelineno-172-18" href="#__codelineno-172-18"></a>
<a id="__codelineno-172-19" name="__codelineno-172-19" href="#__codelineno-172-19"></a>
<a id="__codelineno-172-20" name="__codelineno-172-20" href="#__codelineno-172-20"></a>
<a id="__codelineno-172-21" name="__codelineno-172-21" href="#__codelineno-172-21"></a>spec:
<a id="__codelineno-172-22" name="__codelineno-172-22" href="#__codelineno-172-22"></a>
<a id="__codelineno-172-23" name="__codelineno-172-23" href="#__codelineno-172-23"></a>
<a id="__codelineno-172-24" name="__codelineno-172-24" href="#__codelineno-172-24"></a>
<a id="__codelineno-172-25" name="__codelineno-172-25" href="#__codelineno-172-25"></a>oneAgent:
<a id="__codelineno-172-26" name="__codelineno-172-26" href="#__codelineno-172-26"></a>
<a id="__codelineno-172-27" name="__codelineno-172-27" href="#__codelineno-172-27"></a>
<a id="__codelineno-172-28" name="__codelineno-172-28" href="#__codelineno-172-28"></a>
<a id="__codelineno-172-29" name="__codelineno-172-29" href="#__codelineno-172-29"></a>cloudNativeFullstack:
<a id="__codelineno-172-30" name="__codelineno-172-30" href="#__codelineno-172-30"></a>
<a id="__codelineno-172-31" name="__codelineno-172-31" href="#__codelineno-172-31"></a>
<a id="__codelineno-172-32" name="__codelineno-172-32" href="#__codelineno-172-32"></a>
<a id="__codelineno-172-33" name="__codelineno-172-33" href="#__codelineno-172-33"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-172-34" name="__codelineno-172-34" href="#__codelineno-172-34"></a>
<a id="__codelineno-172-35" name="__codelineno-172-35" href="#__codelineno-172-35"></a>
<a id="__codelineno-172-36" name="__codelineno-172-36" href="#__codelineno-172-36"></a>
<a id="__codelineno-172-37" name="__codelineno-172-37" href="#__codelineno-172-37"></a># ...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-173-2" name="__codelineno-173-2" href="#__codelineno-173-2"></a>
<a id="__codelineno-173-3" name="__codelineno-173-3" href="#__codelineno-173-3"></a>
<a id="__codelineno-173-4" name="__codelineno-173-4" href="#__codelineno-173-4"></a>
<a id="__codelineno-173-5" name="__codelineno-173-5" href="#__codelineno-173-5"></a>kind: DynaKube
<a id="__codelineno-173-6" name="__codelineno-173-6" href="#__codelineno-173-6"></a>
<a id="__codelineno-173-7" name="__codelineno-173-7" href="#__codelineno-173-7"></a>
<a id="__codelineno-173-8" name="__codelineno-173-8" href="#__codelineno-173-8"></a>
<a id="__codelineno-173-9" name="__codelineno-173-9" href="#__codelineno-173-9"></a>metadata:
<a id="__codelineno-173-10" name="__codelineno-173-10" href="#__codelineno-173-10"></a>
<a id="__codelineno-173-11" name="__codelineno-173-11" href="#__codelineno-173-11"></a>
<a id="__codelineno-173-12" name="__codelineno-173-12" href="#__codelineno-173-12"></a>
<a id="__codelineno-173-13" name="__codelineno-173-13" href="#__codelineno-173-13"></a>name: example
<a id="__codelineno-173-14" name="__codelineno-173-14" href="#__codelineno-173-14"></a>
<a id="__codelineno-173-15" name="__codelineno-173-15" href="#__codelineno-173-15"></a>
<a id="__codelineno-173-16" name="__codelineno-173-16" href="#__codelineno-173-16"></a>
<a id="__codelineno-173-17" name="__codelineno-173-17" href="#__codelineno-173-17"></a>namespace: dynatrace
<a id="__codelineno-173-18" name="__codelineno-173-18" href="#__codelineno-173-18"></a>
<a id="__codelineno-173-19" name="__codelineno-173-19" href="#__codelineno-173-19"></a>
<a id="__codelineno-173-20" name="__codelineno-173-20" href="#__codelineno-173-20"></a>
<a id="__codelineno-173-21" name="__codelineno-173-21" href="#__codelineno-173-21"></a>spec:
<a id="__codelineno-173-22" name="__codelineno-173-22" href="#__codelineno-173-22"></a>
<a id="__codelineno-173-23" name="__codelineno-173-23" href="#__codelineno-173-23"></a>
<a id="__codelineno-173-24" name="__codelineno-173-24" href="#__codelineno-173-24"></a>
<a id="__codelineno-173-25" name="__codelineno-173-25" href="#__codelineno-173-25"></a>oneAgent:
<a id="__codelineno-173-26" name="__codelineno-173-26" href="#__codelineno-173-26"></a>
<a id="__codelineno-173-27" name="__codelineno-173-27" href="#__codelineno-173-27"></a>
<a id="__codelineno-173-28" name="__codelineno-173-28" href="#__codelineno-173-28"></a>
<a id="__codelineno-173-29" name="__codelineno-173-29" href="#__codelineno-173-29"></a>applicationMonitoring:
<a id="__codelineno-173-30" name="__codelineno-173-30" href="#__codelineno-173-30"></a>
<a id="__codelineno-173-31" name="__codelineno-173-31" href="#__codelineno-173-31"></a>
<a id="__codelineno-173-32" name="__codelineno-173-32" href="#__codelineno-173-32"></a>
<a id="__codelineno-173-33" name="__codelineno-173-33" href="#__codelineno-173-33"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-173-34" name="__codelineno-173-34" href="#__codelineno-173-34"></a>
<a id="__codelineno-173-35" name="__codelineno-173-35" href="#__codelineno-173-35"></a>
<a id="__codelineno-173-36" name="__codelineno-173-36" href="#__codelineno-173-36"></a>
<a id="__codelineno-173-37" name="__codelineno-173-37" href="#__codelineno-173-37"></a># ...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-174-2" name="__codelineno-174-2" href="#__codelineno-174-2"></a>
<a id="__codelineno-174-3" name="__codelineno-174-3" href="#__codelineno-174-3"></a>
<a id="__codelineno-174-4" name="__codelineno-174-4" href="#__codelineno-174-4"></a>
<a id="__codelineno-174-5" name="__codelineno-174-5" href="#__codelineno-174-5"></a>kind: DynaKube
<a id="__codelineno-174-6" name="__codelineno-174-6" href="#__codelineno-174-6"></a>
<a id="__codelineno-174-7" name="__codelineno-174-7" href="#__codelineno-174-7"></a>
<a id="__codelineno-174-8" name="__codelineno-174-8" href="#__codelineno-174-8"></a>
<a id="__codelineno-174-9" name="__codelineno-174-9" href="#__codelineno-174-9"></a>metadata:
<a id="__codelineno-174-10" name="__codelineno-174-10" href="#__codelineno-174-10"></a>
<a id="__codelineno-174-11" name="__codelineno-174-11" href="#__codelineno-174-11"></a>
<a id="__codelineno-174-12" name="__codelineno-174-12" href="#__codelineno-174-12"></a>
<a id="__codelineno-174-13" name="__codelineno-174-13" href="#__codelineno-174-13"></a>name: example
<a id="__codelineno-174-14" name="__codelineno-174-14" href="#__codelineno-174-14"></a>
<a id="__codelineno-174-15" name="__codelineno-174-15" href="#__codelineno-174-15"></a>
<a id="__codelineno-174-16" name="__codelineno-174-16" href="#__codelineno-174-16"></a>
<a id="__codelineno-174-17" name="__codelineno-174-17" href="#__codelineno-174-17"></a>namespace: dynatrace
<a id="__codelineno-174-18" name="__codelineno-174-18" href="#__codelineno-174-18"></a>
<a id="__codelineno-174-19" name="__codelineno-174-19" href="#__codelineno-174-19"></a>
<a id="__codelineno-174-20" name="__codelineno-174-20" href="#__codelineno-174-20"></a>
<a id="__codelineno-174-21" name="__codelineno-174-21" href="#__codelineno-174-21"></a>spec:
<a id="__codelineno-174-22" name="__codelineno-174-22" href="#__codelineno-174-22"></a>
<a id="__codelineno-174-23" name="__codelineno-174-23" href="#__codelineno-174-23"></a>
<a id="__codelineno-174-24" name="__codelineno-174-24" href="#__codelineno-174-24"></a>
<a id="__codelineno-174-25" name="__codelineno-174-25" href="#__codelineno-174-25"></a>metadataEnrichment:
<a id="__codelineno-174-26" name="__codelineno-174-26" href="#__codelineno-174-26"></a>
<a id="__codelineno-174-27" name="__codelineno-174-27" href="#__codelineno-174-27"></a>
<a id="__codelineno-174-28" name="__codelineno-174-28" href="#__codelineno-174-28"></a>
<a id="__codelineno-174-29" name="__codelineno-174-29" href="#__codelineno-174-29"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-174-30" name="__codelineno-174-30" href="#__codelineno-174-30"></a>
<a id="__codelineno-174-31" name="__codelineno-174-31" href="#__codelineno-174-31"></a>
<a id="__codelineno-174-32" name="__codelineno-174-32" href="#__codelineno-174-32"></a>
<a id="__codelineno-174-33" name="__codelineno-174-33" href="#__codelineno-174-33"></a># ...
</code></pre></div>
<h3 id="deprecated-fields">Deprecated fields<a class="headerlink" href="#deprecated-fields" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-175-2" name="__codelineno-175-2" href="#__codelineno-175-2"></a>
<a id="__codelineno-175-3" name="__codelineno-175-3" href="#__codelineno-175-3"></a>
<a id="__codelineno-175-4" name="__codelineno-175-4" href="#__codelineno-175-4"></a>
<a id="__codelineno-175-5" name="__codelineno-175-5" href="#__codelineno-175-5"></a>kind: DynaKube
<a id="__codelineno-175-6" name="__codelineno-175-6" href="#__codelineno-175-6"></a>
<a id="__codelineno-175-7" name="__codelineno-175-7" href="#__codelineno-175-7"></a>
<a id="__codelineno-175-8" name="__codelineno-175-8" href="#__codelineno-175-8"></a>
<a id="__codelineno-175-9" name="__codelineno-175-9" href="#__codelineno-175-9"></a>metadata:
<a id="__codelineno-175-10" name="__codelineno-175-10" href="#__codelineno-175-10"></a>
<a id="__codelineno-175-11" name="__codelineno-175-11" href="#__codelineno-175-11"></a>
<a id="__codelineno-175-12" name="__codelineno-175-12" href="#__codelineno-175-12"></a>
<a id="__codelineno-175-13" name="__codelineno-175-13" href="#__codelineno-175-13"></a>name: example
<a id="__codelineno-175-14" name="__codelineno-175-14" href="#__codelineno-175-14"></a>
<a id="__codelineno-175-15" name="__codelineno-175-15" href="#__codelineno-175-15"></a>
<a id="__codelineno-175-16" name="__codelineno-175-16" href="#__codelineno-175-16"></a>
<a id="__codelineno-175-17" name="__codelineno-175-17" href="#__codelineno-175-17"></a>namespace: dynatrace
<a id="__codelineno-175-18" name="__codelineno-175-18" href="#__codelineno-175-18"></a>
<a id="__codelineno-175-19" name="__codelineno-175-19" href="#__codelineno-175-19"></a>
<a id="__codelineno-175-20" name="__codelineno-175-20" href="#__codelineno-175-20"></a>
<a id="__codelineno-175-21" name="__codelineno-175-21" href="#__codelineno-175-21"></a>spec:
<a id="__codelineno-175-22" name="__codelineno-175-22" href="#__codelineno-175-22"></a>
<a id="__codelineno-175-23" name="__codelineno-175-23" href="#__codelineno-175-23"></a>
<a id="__codelineno-175-24" name="__codelineno-175-24" href="#__codelineno-175-24"></a>
<a id="__codelineno-175-25" name="__codelineno-175-25" href="#__codelineno-175-25"></a>oneAgent:
<a id="__codelineno-175-26" name="__codelineno-175-26" href="#__codelineno-175-26"></a>
<a id="__codelineno-175-27" name="__codelineno-175-27" href="#__codelineno-175-27"></a>
<a id="__codelineno-175-28" name="__codelineno-175-28" href="#__codelineno-175-28"></a>
<a id="__codelineno-175-29" name="__codelineno-175-29" href="#__codelineno-175-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-175-30" name="__codelineno-175-30" href="#__codelineno-175-30"></a>
<a id="__codelineno-175-31" name="__codelineno-175-31" href="#__codelineno-175-31"></a>
<a id="__codelineno-175-32" name="__codelineno-175-32" href="#__codelineno-175-32"></a>
<a id="__codelineno-175-33" name="__codelineno-175-33" href="#__codelineno-175-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-176-2" name="__codelineno-176-2" href="#__codelineno-176-2"></a>
<a id="__codelineno-176-3" name="__codelineno-176-3" href="#__codelineno-176-3"></a>
<a id="__codelineno-176-4" name="__codelineno-176-4" href="#__codelineno-176-4"></a>
<a id="__codelineno-176-5" name="__codelineno-176-5" href="#__codelineno-176-5"></a>kind: DynaKube
<a id="__codelineno-176-6" name="__codelineno-176-6" href="#__codelineno-176-6"></a>
<a id="__codelineno-176-7" name="__codelineno-176-7" href="#__codelineno-176-7"></a>
<a id="__codelineno-176-8" name="__codelineno-176-8" href="#__codelineno-176-8"></a>
<a id="__codelineno-176-9" name="__codelineno-176-9" href="#__codelineno-176-9"></a>metadata:
<a id="__codelineno-176-10" name="__codelineno-176-10" href="#__codelineno-176-10"></a>
<a id="__codelineno-176-11" name="__codelineno-176-11" href="#__codelineno-176-11"></a>
<a id="__codelineno-176-12" name="__codelineno-176-12" href="#__codelineno-176-12"></a>
<a id="__codelineno-176-13" name="__codelineno-176-13" href="#__codelineno-176-13"></a>name: example
<a id="__codelineno-176-14" name="__codelineno-176-14" href="#__codelineno-176-14"></a>
<a id="__codelineno-176-15" name="__codelineno-176-15" href="#__codelineno-176-15"></a>
<a id="__codelineno-176-16" name="__codelineno-176-16" href="#__codelineno-176-16"></a>
<a id="__codelineno-176-17" name="__codelineno-176-17" href="#__codelineno-176-17"></a>namespace: dynatrace
<a id="__codelineno-176-18" name="__codelineno-176-18" href="#__codelineno-176-18"></a>
<a id="__codelineno-176-19" name="__codelineno-176-19" href="#__codelineno-176-19"></a>
<a id="__codelineno-176-20" name="__codelineno-176-20" href="#__codelineno-176-20"></a>
<a id="__codelineno-176-21" name="__codelineno-176-21" href="#__codelineno-176-21"></a>spec:
<a id="__codelineno-176-22" name="__codelineno-176-22" href="#__codelineno-176-22"></a>
<a id="__codelineno-176-23" name="__codelineno-176-23" href="#__codelineno-176-23"></a>
<a id="__codelineno-176-24" name="__codelineno-176-24" href="#__codelineno-176-24"></a>
<a id="__codelineno-176-25" name="__codelineno-176-25" href="#__codelineno-176-25"></a>oneAgent:
<a id="__codelineno-176-26" name="__codelineno-176-26" href="#__codelineno-176-26"></a>
<a id="__codelineno-176-27" name="__codelineno-176-27" href="#__codelineno-176-27"></a>
<a id="__codelineno-176-28" name="__codelineno-176-28" href="#__codelineno-176-28"></a>
<a id="__codelineno-176-29" name="__codelineno-176-29" href="#__codelineno-176-29"></a>cloudNativeFullstack:
<a id="__codelineno-176-30" name="__codelineno-176-30" href="#__codelineno-176-30"></a>
<a id="__codelineno-176-31" name="__codelineno-176-31" href="#__codelineno-176-31"></a>
<a id="__codelineno-176-32" name="__codelineno-176-32" href="#__codelineno-176-32"></a>
<a id="__codelineno-176-33" name="__codelineno-176-33" href="#__codelineno-176-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-176-34" name="__codelineno-176-34" href="#__codelineno-176-34"></a>
<a id="__codelineno-176-35" name="__codelineno-176-35" href="#__codelineno-176-35"></a>
<a id="__codelineno-176-36" name="__codelineno-176-36" href="#__codelineno-176-36"></a>
<a id="__codelineno-176-37" name="__codelineno-176-37" href="#__codelineno-176-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-176-38" name="__codelineno-176-38" href="#__codelineno-176-38"></a>
<a id="__codelineno-176-39" name="__codelineno-176-39" href="#__codelineno-176-39"></a>
<a id="__codelineno-176-40" name="__codelineno-176-40" href="#__codelineno-176-40"></a>
<a id="__codelineno-176-41" name="__codelineno-176-41" href="#__codelineno-176-41"></a># ...
<a id="__codelineno-176-42" name="__codelineno-176-42" href="#__codelineno-176-42"></a>
<a id="__codelineno-176-43" name="__codelineno-176-43" href="#__codelineno-176-43"></a>
<a id="__codelineno-176-44" name="__codelineno-176-44" href="#__codelineno-176-44"></a>
<a id="__codelineno-176-45" name="__codelineno-176-45" href="#__codelineno-176-45"></a>---
<a id="__codelineno-176-46" name="__codelineno-176-46" href="#__codelineno-176-46"></a>
<a id="__codelineno-176-47" name="__codelineno-176-47" href="#__codelineno-176-47"></a>
<a id="__codelineno-176-48" name="__codelineno-176-48" href="#__codelineno-176-48"></a>
<a id="__codelineno-176-49" name="__codelineno-176-49" href="#__codelineno-176-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-176-50" name="__codelineno-176-50" href="#__codelineno-176-50"></a>
<a id="__codelineno-176-51" name="__codelineno-176-51" href="#__codelineno-176-51"></a>
<a id="__codelineno-176-52" name="__codelineno-176-52" href="#__codelineno-176-52"></a>
<a id="__codelineno-176-53" name="__codelineno-176-53" href="#__codelineno-176-53"></a>kind: DynaKube
<a id="__codelineno-176-54" name="__codelineno-176-54" href="#__codelineno-176-54"></a>
<a id="__codelineno-176-55" name="__codelineno-176-55" href="#__codelineno-176-55"></a>
<a id="__codelineno-176-56" name="__codelineno-176-56" href="#__codelineno-176-56"></a>
<a id="__codelineno-176-57" name="__codelineno-176-57" href="#__codelineno-176-57"></a>metadata:
<a id="__codelineno-176-58" name="__codelineno-176-58" href="#__codelineno-176-58"></a>
<a id="__codelineno-176-59" name="__codelineno-176-59" href="#__codelineno-176-59"></a>
<a id="__codelineno-176-60" name="__codelineno-176-60" href="#__codelineno-176-60"></a>
<a id="__codelineno-176-61" name="__codelineno-176-61" href="#__codelineno-176-61"></a>name: example
<a id="__codelineno-176-62" name="__codelineno-176-62" href="#__codelineno-176-62"></a>
<a id="__codelineno-176-63" name="__codelineno-176-63" href="#__codelineno-176-63"></a>
<a id="__codelineno-176-64" name="__codelineno-176-64" href="#__codelineno-176-64"></a>
<a id="__codelineno-176-65" name="__codelineno-176-65" href="#__codelineno-176-65"></a>namespace: dynatrace
<a id="__codelineno-176-66" name="__codelineno-176-66" href="#__codelineno-176-66"></a>
<a id="__codelineno-176-67" name="__codelineno-176-67" href="#__codelineno-176-67"></a>
<a id="__codelineno-176-68" name="__codelineno-176-68" href="#__codelineno-176-68"></a>
<a id="__codelineno-176-69" name="__codelineno-176-69" href="#__codelineno-176-69"></a>spec:
<a id="__codelineno-176-70" name="__codelineno-176-70" href="#__codelineno-176-70"></a>
<a id="__codelineno-176-71" name="__codelineno-176-71" href="#__codelineno-176-71"></a>
<a id="__codelineno-176-72" name="__codelineno-176-72" href="#__codelineno-176-72"></a>
<a id="__codelineno-176-73" name="__codelineno-176-73" href="#__codelineno-176-73"></a>oneAgent:
<a id="__codelineno-176-74" name="__codelineno-176-74" href="#__codelineno-176-74"></a>
<a id="__codelineno-176-75" name="__codelineno-176-75" href="#__codelineno-176-75"></a>
<a id="__codelineno-176-76" name="__codelineno-176-76" href="#__codelineno-176-76"></a>
<a id="__codelineno-176-77" name="__codelineno-176-77" href="#__codelineno-176-77"></a>cloudNativeFullstack:
<a id="__codelineno-176-78" name="__codelineno-176-78" href="#__codelineno-176-78"></a>
<a id="__codelineno-176-79" name="__codelineno-176-79" href="#__codelineno-176-79"></a>
<a id="__codelineno-176-80" name="__codelineno-176-80" href="#__codelineno-176-80"></a>
<a id="__codelineno-176-81" name="__codelineno-176-81" href="#__codelineno-176-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-176-82" name="__codelineno-176-82" href="#__codelineno-176-82"></a>
<a id="__codelineno-176-83" name="__codelineno-176-83" href="#__codelineno-176-83"></a>
<a id="__codelineno-176-84" name="__codelineno-176-84" href="#__codelineno-176-84"></a>
<a id="__codelineno-176-85" name="__codelineno-176-85" href="#__codelineno-176-85"></a># ...
</code></pre></div>
<h3 id="removed-fields">Removed fields<a class="headerlink" href="#removed-fields" title="Permanent link">&para;</a></h3>
<h4 id="specapplicationmonitoringusecsidriver"><code>spec.applicationMonitoring.useCSIDriver</code><a class="headerlink" href="#specapplicationmonitoringusecsidriver" title="Permanent link">&para;</a></h4>
<p>The <code>spec.applicationMonitoring.useCSIDriver: true/false</code> field has been removed.</p>
<p>The CSI driver is now used when installed as part of the Dynatrace Operator installation.</p>
<h4 id="speckubernetesmonitoring"><code>spec.kubernetesMonitoring</code><a class="headerlink" href="#speckubernetesmonitoring" title="Permanent link">&para;</a></h4>
<p>The deprecated field <code>spec.kubernetesMonitoring</code> was removed in favor of using the current <code>spec.activeGate</code> section. This example shows you before and after:</p>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-177-1" name="__codelineno-177-1" href="#__codelineno-177-1"></a>apiVersion: dynatrace.com/v1beta1
<a id="__codelineno-177-2" name="__codelineno-177-2" href="#__codelineno-177-2"></a>
<a id="__codelineno-177-3" name="__codelineno-177-3" href="#__codelineno-177-3"></a>
<a id="__codelineno-177-4" name="__codelineno-177-4" href="#__codelineno-177-4"></a>
<a id="__codelineno-177-5" name="__codelineno-177-5" href="#__codelineno-177-5"></a>kind: DynaKube
<a id="__codelineno-177-6" name="__codelineno-177-6" href="#__codelineno-177-6"></a>
<a id="__codelineno-177-7" name="__codelineno-177-7" href="#__codelineno-177-7"></a>
<a id="__codelineno-177-8" name="__codelineno-177-8" href="#__codelineno-177-8"></a>
<a id="__codelineno-177-9" name="__codelineno-177-9" href="#__codelineno-177-9"></a>metadata:
<a id="__codelineno-177-10" name="__codelineno-177-10" href="#__codelineno-177-10"></a>
<a id="__codelineno-177-11" name="__codelineno-177-11" href="#__codelineno-177-11"></a>
<a id="__codelineno-177-12" name="__codelineno-177-12" href="#__codelineno-177-12"></a>
<a id="__codelineno-177-13" name="__codelineno-177-13" href="#__codelineno-177-13"></a>name: example
<a id="__codelineno-177-14" name="__codelineno-177-14" href="#__codelineno-177-14"></a>
<a id="__codelineno-177-15" name="__codelineno-177-15" href="#__codelineno-177-15"></a>
<a id="__codelineno-177-16" name="__codelineno-177-16" href="#__codelineno-177-16"></a>
<a id="__codelineno-177-17" name="__codelineno-177-17" href="#__codelineno-177-17"></a>namespace: dynatrace
<a id="__codelineno-177-18" name="__codelineno-177-18" href="#__codelineno-177-18"></a>
<a id="__codelineno-177-19" name="__codelineno-177-19" href="#__codelineno-177-19"></a>
<a id="__codelineno-177-20" name="__codelineno-177-20" href="#__codelineno-177-20"></a>
<a id="__codelineno-177-21" name="__codelineno-177-21" href="#__codelineno-177-21"></a>spec:
<a id="__codelineno-177-22" name="__codelineno-177-22" href="#__codelineno-177-22"></a>
<a id="__codelineno-177-23" name="__codelineno-177-23" href="#__codelineno-177-23"></a>
<a id="__codelineno-177-24" name="__codelineno-177-24" href="#__codelineno-177-24"></a>
<a id="__codelineno-177-25" name="__codelineno-177-25" href="#__codelineno-177-25"></a>kubernetesMonitoring:
<a id="__codelineno-177-26" name="__codelineno-177-26" href="#__codelineno-177-26"></a>
<a id="__codelineno-177-27" name="__codelineno-177-27" href="#__codelineno-177-27"></a>
<a id="__codelineno-177-28" name="__codelineno-177-28" href="#__codelineno-177-28"></a>
<a id="__codelineno-177-29" name="__codelineno-177-29" href="#__codelineno-177-29"></a>enabled: true
<a id="__codelineno-177-30" name="__codelineno-177-30" href="#__codelineno-177-30"></a>
<a id="__codelineno-177-31" name="__codelineno-177-31" href="#__codelineno-177-31"></a>
<a id="__codelineno-177-32" name="__codelineno-177-32" href="#__codelineno-177-32"></a>
<a id="__codelineno-177-33" name="__codelineno-177-33" href="#__codelineno-177-33"></a>replicas: ...
<a id="__codelineno-177-34" name="__codelineno-177-34" href="#__codelineno-177-34"></a>
<a id="__codelineno-177-35" name="__codelineno-177-35" href="#__codelineno-177-35"></a>
<a id="__codelineno-177-36" name="__codelineno-177-36" href="#__codelineno-177-36"></a>
<a id="__codelineno-177-37" name="__codelineno-177-37" href="#__codelineno-177-37"></a>image: ...
<a id="__codelineno-177-38" name="__codelineno-177-38" href="#__codelineno-177-38"></a>
<a id="__codelineno-177-39" name="__codelineno-177-39" href="#__codelineno-177-39"></a>
<a id="__codelineno-177-40" name="__codelineno-177-40" href="#__codelineno-177-40"></a>
<a id="__codelineno-177-41" name="__codelineno-177-41" href="#__codelineno-177-41"></a>group: ...
<a id="__codelineno-177-42" name="__codelineno-177-42" href="#__codelineno-177-42"></a>
<a id="__codelineno-177-43" name="__codelineno-177-43" href="#__codelineno-177-43"></a>
<a id="__codelineno-177-44" name="__codelineno-177-44" href="#__codelineno-177-44"></a>
<a id="__codelineno-177-45" name="__codelineno-177-45" href="#__codelineno-177-45"></a>customProperties: ...
<a id="__codelineno-177-46" name="__codelineno-177-46" href="#__codelineno-177-46"></a>
<a id="__codelineno-177-47" name="__codelineno-177-47" href="#__codelineno-177-47"></a>
<a id="__codelineno-177-48" name="__codelineno-177-48" href="#__codelineno-177-48"></a>
<a id="__codelineno-177-49" name="__codelineno-177-49" href="#__codelineno-177-49"></a>resources: ...
<a id="__codelineno-177-50" name="__codelineno-177-50" href="#__codelineno-177-50"></a>
<a id="__codelineno-177-51" name="__codelineno-177-51" href="#__codelineno-177-51"></a>
<a id="__codelineno-177-52" name="__codelineno-177-52" href="#__codelineno-177-52"></a>
<a id="__codelineno-177-53" name="__codelineno-177-53" href="#__codelineno-177-53"></a>nodeSelector: ...
<a id="__codelineno-177-54" name="__codelineno-177-54" href="#__codelineno-177-54"></a>
<a id="__codelineno-177-55" name="__codelineno-177-55" href="#__codelineno-177-55"></a>
<a id="__codelineno-177-56" name="__codelineno-177-56" href="#__codelineno-177-56"></a>
<a id="__codelineno-177-57" name="__codelineno-177-57" href="#__codelineno-177-57"></a>tolerations: ...
<a id="__codelineno-177-58" name="__codelineno-177-58" href="#__codelineno-177-58"></a>
<a id="__codelineno-177-59" name="__codelineno-177-59" href="#__codelineno-177-59"></a>
<a id="__codelineno-177-60" name="__codelineno-177-60" href="#__codelineno-177-60"></a>
<a id="__codelineno-177-61" name="__codelineno-177-61" href="#__codelineno-177-61"></a>labels: ...
<a id="__codelineno-177-62" name="__codelineno-177-62" href="#__codelineno-177-62"></a>
<a id="__codelineno-177-63" name="__codelineno-177-63" href="#__codelineno-177-63"></a>
<a id="__codelineno-177-64" name="__codelineno-177-64" href="#__codelineno-177-64"></a>
<a id="__codelineno-177-65" name="__codelineno-177-65" href="#__codelineno-177-65"></a>env: ...
<a id="__codelineno-177-66" name="__codelineno-177-66" href="#__codelineno-177-66"></a>
<a id="__codelineno-177-67" name="__codelineno-177-67" href="#__codelineno-177-67"></a>
<a id="__codelineno-177-68" name="__codelineno-177-68" href="#__codelineno-177-68"></a>
<a id="__codelineno-177-69" name="__codelineno-177-69" href="#__codelineno-177-69"></a>#...
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-178-1" name="__codelineno-178-1" href="#__codelineno-178-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-178-2" name="__codelineno-178-2" href="#__codelineno-178-2"></a>
<a id="__codelineno-178-3" name="__codelineno-178-3" href="#__codelineno-178-3"></a>
<a id="__codelineno-178-4" name="__codelineno-178-4" href="#__codelineno-178-4"></a>
<a id="__codelineno-178-5" name="__codelineno-178-5" href="#__codelineno-178-5"></a>kind: DynaKube
<a id="__codelineno-178-6" name="__codelineno-178-6" href="#__codelineno-178-6"></a>
<a id="__codelineno-178-7" name="__codelineno-178-7" href="#__codelineno-178-7"></a>
<a id="__codelineno-178-8" name="__codelineno-178-8" href="#__codelineno-178-8"></a>
<a id="__codelineno-178-9" name="__codelineno-178-9" href="#__codelineno-178-9"></a>metadata:
<a id="__codelineno-178-10" name="__codelineno-178-10" href="#__codelineno-178-10"></a>
<a id="__codelineno-178-11" name="__codelineno-178-11" href="#__codelineno-178-11"></a>
<a id="__codelineno-178-12" name="__codelineno-178-12" href="#__codelineno-178-12"></a>
<a id="__codelineno-178-13" name="__codelineno-178-13" href="#__codelineno-178-13"></a>name: example
<a id="__codelineno-178-14" name="__codelineno-178-14" href="#__codelineno-178-14"></a>
<a id="__codelineno-178-15" name="__codelineno-178-15" href="#__codelineno-178-15"></a>
<a id="__codelineno-178-16" name="__codelineno-178-16" href="#__codelineno-178-16"></a>
<a id="__codelineno-178-17" name="__codelineno-178-17" href="#__codelineno-178-17"></a>namespace: dynatrace
<a id="__codelineno-178-18" name="__codelineno-178-18" href="#__codelineno-178-18"></a>
<a id="__codelineno-178-19" name="__codelineno-178-19" href="#__codelineno-178-19"></a>
<a id="__codelineno-178-20" name="__codelineno-178-20" href="#__codelineno-178-20"></a>
<a id="__codelineno-178-21" name="__codelineno-178-21" href="#__codelineno-178-21"></a>spec:
<a id="__codelineno-178-22" name="__codelineno-178-22" href="#__codelineno-178-22"></a>
<a id="__codelineno-178-23" name="__codelineno-178-23" href="#__codelineno-178-23"></a>
<a id="__codelineno-178-24" name="__codelineno-178-24" href="#__codelineno-178-24"></a>
<a id="__codelineno-178-25" name="__codelineno-178-25" href="#__codelineno-178-25"></a>activeGate:
<a id="__codelineno-178-26" name="__codelineno-178-26" href="#__codelineno-178-26"></a>
<a id="__codelineno-178-27" name="__codelineno-178-27" href="#__codelineno-178-27"></a>
<a id="__codelineno-178-28" name="__codelineno-178-28" href="#__codelineno-178-28"></a>
<a id="__codelineno-178-29" name="__codelineno-178-29" href="#__codelineno-178-29"></a>capabilities:
<a id="__codelineno-178-30" name="__codelineno-178-30" href="#__codelineno-178-30"></a>
<a id="__codelineno-178-31" name="__codelineno-178-31" href="#__codelineno-178-31"></a>
<a id="__codelineno-178-32" name="__codelineno-178-32" href="#__codelineno-178-32"></a>
<a id="__codelineno-178-33" name="__codelineno-178-33" href="#__codelineno-178-33"></a>- kubernetes-monitoring #&lt;-- explicitly enable Kubernetes monitoring
<a id="__codelineno-178-34" name="__codelineno-178-34" href="#__codelineno-178-34"></a>
<a id="__codelineno-178-35" name="__codelineno-178-35" href="#__codelineno-178-35"></a>
<a id="__codelineno-178-36" name="__codelineno-178-36" href="#__codelineno-178-36"></a>
<a id="__codelineno-178-37" name="__codelineno-178-37" href="#__codelineno-178-37"></a>replicas: ...
<a id="__codelineno-178-38" name="__codelineno-178-38" href="#__codelineno-178-38"></a>
<a id="__codelineno-178-39" name="__codelineno-178-39" href="#__codelineno-178-39"></a>
<a id="__codelineno-178-40" name="__codelineno-178-40" href="#__codelineno-178-40"></a>
<a id="__codelineno-178-41" name="__codelineno-178-41" href="#__codelineno-178-41"></a>image: ...
<a id="__codelineno-178-42" name="__codelineno-178-42" href="#__codelineno-178-42"></a>
<a id="__codelineno-178-43" name="__codelineno-178-43" href="#__codelineno-178-43"></a>
<a id="__codelineno-178-44" name="__codelineno-178-44" href="#__codelineno-178-44"></a>
<a id="__codelineno-178-45" name="__codelineno-178-45" href="#__codelineno-178-45"></a>group: ...
<a id="__codelineno-178-46" name="__codelineno-178-46" href="#__codelineno-178-46"></a>
<a id="__codelineno-178-47" name="__codelineno-178-47" href="#__codelineno-178-47"></a>
<a id="__codelineno-178-48" name="__codelineno-178-48" href="#__codelineno-178-48"></a>
<a id="__codelineno-178-49" name="__codelineno-178-49" href="#__codelineno-178-49"></a>customProperties: ...
<a id="__codelineno-178-50" name="__codelineno-178-50" href="#__codelineno-178-50"></a>
<a id="__codelineno-178-51" name="__codelineno-178-51" href="#__codelineno-178-51"></a>
<a id="__codelineno-178-52" name="__codelineno-178-52" href="#__codelineno-178-52"></a>
<a id="__codelineno-178-53" name="__codelineno-178-53" href="#__codelineno-178-53"></a>resources: ...
<a id="__codelineno-178-54" name="__codelineno-178-54" href="#__codelineno-178-54"></a>
<a id="__codelineno-178-55" name="__codelineno-178-55" href="#__codelineno-178-55"></a>
<a id="__codelineno-178-56" name="__codelineno-178-56" href="#__codelineno-178-56"></a>
<a id="__codelineno-178-57" name="__codelineno-178-57" href="#__codelineno-178-57"></a>nodeSelector: ...
<a id="__codelineno-178-58" name="__codelineno-178-58" href="#__codelineno-178-58"></a>
<a id="__codelineno-178-59" name="__codelineno-178-59" href="#__codelineno-178-59"></a>
<a id="__codelineno-178-60" name="__codelineno-178-60" href="#__codelineno-178-60"></a>
<a id="__codelineno-178-61" name="__codelineno-178-61" href="#__codelineno-178-61"></a>tolerations: ...
<a id="__codelineno-178-62" name="__codelineno-178-62" href="#__codelineno-178-62"></a>
<a id="__codelineno-178-63" name="__codelineno-178-63" href="#__codelineno-178-63"></a>
<a id="__codelineno-178-64" name="__codelineno-178-64" href="#__codelineno-178-64"></a>
<a id="__codelineno-178-65" name="__codelineno-178-65" href="#__codelineno-178-65"></a>labels: ...
<a id="__codelineno-178-66" name="__codelineno-178-66" href="#__codelineno-178-66"></a>
<a id="__codelineno-178-67" name="__codelineno-178-67" href="#__codelineno-178-67"></a>
<a id="__codelineno-178-68" name="__codelineno-178-68" href="#__codelineno-178-68"></a>
<a id="__codelineno-178-69" name="__codelineno-178-69" href="#__codelineno-178-69"></a>env: ...
<a id="__codelineno-178-70" name="__codelineno-178-70" href="#__codelineno-178-70"></a>
<a id="__codelineno-178-71" name="__codelineno-178-71" href="#__codelineno-178-71"></a>
<a id="__codelineno-178-72" name="__codelineno-178-72" href="#__codelineno-178-72"></a>
<a id="__codelineno-178-73" name="__codelineno-178-73" href="#__codelineno-178-73"></a>#...
</code></pre></div>
<h4 id="specrouting"><code>spec.routing</code><a class="headerlink" href="#specrouting" title="Permanent link">&para;</a></h4>
<p>The deprecated field <code>spec.routing</code> was removed in favor of using the current <code>spec.activeGate</code> section. This example shows you before and after:</p>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-179-1" name="__codelineno-179-1" href="#__codelineno-179-1"></a>apiVersion: dynatrace.com/v1beta1
<a id="__codelineno-179-2" name="__codelineno-179-2" href="#__codelineno-179-2"></a>
<a id="__codelineno-179-3" name="__codelineno-179-3" href="#__codelineno-179-3"></a>
<a id="__codelineno-179-4" name="__codelineno-179-4" href="#__codelineno-179-4"></a>
<a id="__codelineno-179-5" name="__codelineno-179-5" href="#__codelineno-179-5"></a>kind: DynaKube
<a id="__codelineno-179-6" name="__codelineno-179-6" href="#__codelineno-179-6"></a>
<a id="__codelineno-179-7" name="__codelineno-179-7" href="#__codelineno-179-7"></a>
<a id="__codelineno-179-8" name="__codelineno-179-8" href="#__codelineno-179-8"></a>
<a id="__codelineno-179-9" name="__codelineno-179-9" href="#__codelineno-179-9"></a>metadata:
<a id="__codelineno-179-10" name="__codelineno-179-10" href="#__codelineno-179-10"></a>
<a id="__codelineno-179-11" name="__codelineno-179-11" href="#__codelineno-179-11"></a>
<a id="__codelineno-179-12" name="__codelineno-179-12" href="#__codelineno-179-12"></a>
<a id="__codelineno-179-13" name="__codelineno-179-13" href="#__codelineno-179-13"></a>name: example
<a id="__codelineno-179-14" name="__codelineno-179-14" href="#__codelineno-179-14"></a>
<a id="__codelineno-179-15" name="__codelineno-179-15" href="#__codelineno-179-15"></a>
<a id="__codelineno-179-16" name="__codelineno-179-16" href="#__codelineno-179-16"></a>
<a id="__codelineno-179-17" name="__codelineno-179-17" href="#__codelineno-179-17"></a>namespace: dynatrace
<a id="__codelineno-179-18" name="__codelineno-179-18" href="#__codelineno-179-18"></a>
<a id="__codelineno-179-19" name="__codelineno-179-19" href="#__codelineno-179-19"></a>
<a id="__codelineno-179-20" name="__codelineno-179-20" href="#__codelineno-179-20"></a>
<a id="__codelineno-179-21" name="__codelineno-179-21" href="#__codelineno-179-21"></a>spec:
<a id="__codelineno-179-22" name="__codelineno-179-22" href="#__codelineno-179-22"></a>
<a id="__codelineno-179-23" name="__codelineno-179-23" href="#__codelineno-179-23"></a>
<a id="__codelineno-179-24" name="__codelineno-179-24" href="#__codelineno-179-24"></a>
<a id="__codelineno-179-25" name="__codelineno-179-25" href="#__codelineno-179-25"></a>routing:
<a id="__codelineno-179-26" name="__codelineno-179-26" href="#__codelineno-179-26"></a>
<a id="__codelineno-179-27" name="__codelineno-179-27" href="#__codelineno-179-27"></a>
<a id="__codelineno-179-28" name="__codelineno-179-28" href="#__codelineno-179-28"></a>
<a id="__codelineno-179-29" name="__codelineno-179-29" href="#__codelineno-179-29"></a>enabled: true
<a id="__codelineno-179-30" name="__codelineno-179-30" href="#__codelineno-179-30"></a>
<a id="__codelineno-179-31" name="__codelineno-179-31" href="#__codelineno-179-31"></a>
<a id="__codelineno-179-32" name="__codelineno-179-32" href="#__codelineno-179-32"></a>
<a id="__codelineno-179-33" name="__codelineno-179-33" href="#__codelineno-179-33"></a>replicas: ...
<a id="__codelineno-179-34" name="__codelineno-179-34" href="#__codelineno-179-34"></a>
<a id="__codelineno-179-35" name="__codelineno-179-35" href="#__codelineno-179-35"></a>
<a id="__codelineno-179-36" name="__codelineno-179-36" href="#__codelineno-179-36"></a>
<a id="__codelineno-179-37" name="__codelineno-179-37" href="#__codelineno-179-37"></a>image: ...
<a id="__codelineno-179-38" name="__codelineno-179-38" href="#__codelineno-179-38"></a>
<a id="__codelineno-179-39" name="__codelineno-179-39" href="#__codelineno-179-39"></a>
<a id="__codelineno-179-40" name="__codelineno-179-40" href="#__codelineno-179-40"></a>
<a id="__codelineno-179-41" name="__codelineno-179-41" href="#__codelineno-179-41"></a>group: ...
<a id="__codelineno-179-42" name="__codelineno-179-42" href="#__codelineno-179-42"></a>
<a id="__codelineno-179-43" name="__codelineno-179-43" href="#__codelineno-179-43"></a>
<a id="__codelineno-179-44" name="__codelineno-179-44" href="#__codelineno-179-44"></a>
<a id="__codelineno-179-45" name="__codelineno-179-45" href="#__codelineno-179-45"></a>customProperties: ...
<a id="__codelineno-179-46" name="__codelineno-179-46" href="#__codelineno-179-46"></a>
<a id="__codelineno-179-47" name="__codelineno-179-47" href="#__codelineno-179-47"></a>
<a id="__codelineno-179-48" name="__codelineno-179-48" href="#__codelineno-179-48"></a>
<a id="__codelineno-179-49" name="__codelineno-179-49" href="#__codelineno-179-49"></a>resources: ...
<a id="__codelineno-179-50" name="__codelineno-179-50" href="#__codelineno-179-50"></a>
<a id="__codelineno-179-51" name="__codelineno-179-51" href="#__codelineno-179-51"></a>
<a id="__codelineno-179-52" name="__codelineno-179-52" href="#__codelineno-179-52"></a>
<a id="__codelineno-179-53" name="__codelineno-179-53" href="#__codelineno-179-53"></a>nodeSelector: ...
<a id="__codelineno-179-54" name="__codelineno-179-54" href="#__codelineno-179-54"></a>
<a id="__codelineno-179-55" name="__codelineno-179-55" href="#__codelineno-179-55"></a>
<a id="__codelineno-179-56" name="__codelineno-179-56" href="#__codelineno-179-56"></a>
<a id="__codelineno-179-57" name="__codelineno-179-57" href="#__codelineno-179-57"></a>tolerations: ...
<a id="__codelineno-179-58" name="__codelineno-179-58" href="#__codelineno-179-58"></a>
<a id="__codelineno-179-59" name="__codelineno-179-59" href="#__codelineno-179-59"></a>
<a id="__codelineno-179-60" name="__codelineno-179-60" href="#__codelineno-179-60"></a>
<a id="__codelineno-179-61" name="__codelineno-179-61" href="#__codelineno-179-61"></a>labels: ...
<a id="__codelineno-179-62" name="__codelineno-179-62" href="#__codelineno-179-62"></a>
<a id="__codelineno-179-63" name="__codelineno-179-63" href="#__codelineno-179-63"></a>
<a id="__codelineno-179-64" name="__codelineno-179-64" href="#__codelineno-179-64"></a>
<a id="__codelineno-179-65" name="__codelineno-179-65" href="#__codelineno-179-65"></a>env: ...
<a id="__codelineno-179-66" name="__codelineno-179-66" href="#__codelineno-179-66"></a>
<a id="__codelineno-179-67" name="__codelineno-179-67" href="#__codelineno-179-67"></a>
<a id="__codelineno-179-68" name="__codelineno-179-68" href="#__codelineno-179-68"></a>
<a id="__codelineno-179-69" name="__codelineno-179-69" href="#__codelineno-179-69"></a>#...
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-180-1" name="__codelineno-180-1" href="#__codelineno-180-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-180-2" name="__codelineno-180-2" href="#__codelineno-180-2"></a>
<a id="__codelineno-180-3" name="__codelineno-180-3" href="#__codelineno-180-3"></a>
<a id="__codelineno-180-4" name="__codelineno-180-4" href="#__codelineno-180-4"></a>
<a id="__codelineno-180-5" name="__codelineno-180-5" href="#__codelineno-180-5"></a>kind: DynaKube
<a id="__codelineno-180-6" name="__codelineno-180-6" href="#__codelineno-180-6"></a>
<a id="__codelineno-180-7" name="__codelineno-180-7" href="#__codelineno-180-7"></a>
<a id="__codelineno-180-8" name="__codelineno-180-8" href="#__codelineno-180-8"></a>
<a id="__codelineno-180-9" name="__codelineno-180-9" href="#__codelineno-180-9"></a>metadata:
<a id="__codelineno-180-10" name="__codelineno-180-10" href="#__codelineno-180-10"></a>
<a id="__codelineno-180-11" name="__codelineno-180-11" href="#__codelineno-180-11"></a>
<a id="__codelineno-180-12" name="__codelineno-180-12" href="#__codelineno-180-12"></a>
<a id="__codelineno-180-13" name="__codelineno-180-13" href="#__codelineno-180-13"></a>name: example
<a id="__codelineno-180-14" name="__codelineno-180-14" href="#__codelineno-180-14"></a>
<a id="__codelineno-180-15" name="__codelineno-180-15" href="#__codelineno-180-15"></a>
<a id="__codelineno-180-16" name="__codelineno-180-16" href="#__codelineno-180-16"></a>
<a id="__codelineno-180-17" name="__codelineno-180-17" href="#__codelineno-180-17"></a>namespace: dynatrace
<a id="__codelineno-180-18" name="__codelineno-180-18" href="#__codelineno-180-18"></a>
<a id="__codelineno-180-19" name="__codelineno-180-19" href="#__codelineno-180-19"></a>
<a id="__codelineno-180-20" name="__codelineno-180-20" href="#__codelineno-180-20"></a>
<a id="__codelineno-180-21" name="__codelineno-180-21" href="#__codelineno-180-21"></a>spec:
<a id="__codelineno-180-22" name="__codelineno-180-22" href="#__codelineno-180-22"></a>
<a id="__codelineno-180-23" name="__codelineno-180-23" href="#__codelineno-180-23"></a>
<a id="__codelineno-180-24" name="__codelineno-180-24" href="#__codelineno-180-24"></a>
<a id="__codelineno-180-25" name="__codelineno-180-25" href="#__codelineno-180-25"></a>activeGate:
<a id="__codelineno-180-26" name="__codelineno-180-26" href="#__codelineno-180-26"></a>
<a id="__codelineno-180-27" name="__codelineno-180-27" href="#__codelineno-180-27"></a>
<a id="__codelineno-180-28" name="__codelineno-180-28" href="#__codelineno-180-28"></a>
<a id="__codelineno-180-29" name="__codelineno-180-29" href="#__codelineno-180-29"></a>capabilities:
<a id="__codelineno-180-30" name="__codelineno-180-30" href="#__codelineno-180-30"></a>
<a id="__codelineno-180-31" name="__codelineno-180-31" href="#__codelineno-180-31"></a>
<a id="__codelineno-180-32" name="__codelineno-180-32" href="#__codelineno-180-32"></a>
<a id="__codelineno-180-33" name="__codelineno-180-33" href="#__codelineno-180-33"></a>- routing #&lt;-- explicitly enable routing
<a id="__codelineno-180-34" name="__codelineno-180-34" href="#__codelineno-180-34"></a>
<a id="__codelineno-180-35" name="__codelineno-180-35" href="#__codelineno-180-35"></a>
<a id="__codelineno-180-36" name="__codelineno-180-36" href="#__codelineno-180-36"></a>
<a id="__codelineno-180-37" name="__codelineno-180-37" href="#__codelineno-180-37"></a>replicas: ...
<a id="__codelineno-180-38" name="__codelineno-180-38" href="#__codelineno-180-38"></a>
<a id="__codelineno-180-39" name="__codelineno-180-39" href="#__codelineno-180-39"></a>
<a id="__codelineno-180-40" name="__codelineno-180-40" href="#__codelineno-180-40"></a>
<a id="__codelineno-180-41" name="__codelineno-180-41" href="#__codelineno-180-41"></a>image: ...
<a id="__codelineno-180-42" name="__codelineno-180-42" href="#__codelineno-180-42"></a>
<a id="__codelineno-180-43" name="__codelineno-180-43" href="#__codelineno-180-43"></a>
<a id="__codelineno-180-44" name="__codelineno-180-44" href="#__codelineno-180-44"></a>
<a id="__codelineno-180-45" name="__codelineno-180-45" href="#__codelineno-180-45"></a>group: ...
<a id="__codelineno-180-46" name="__codelineno-180-46" href="#__codelineno-180-46"></a>
<a id="__codelineno-180-47" name="__codelineno-180-47" href="#__codelineno-180-47"></a>
<a id="__codelineno-180-48" name="__codelineno-180-48" href="#__codelineno-180-48"></a>
<a id="__codelineno-180-49" name="__codelineno-180-49" href="#__codelineno-180-49"></a>customProperties: ...
<a id="__codelineno-180-50" name="__codelineno-180-50" href="#__codelineno-180-50"></a>
<a id="__codelineno-180-51" name="__codelineno-180-51" href="#__codelineno-180-51"></a>
<a id="__codelineno-180-52" name="__codelineno-180-52" href="#__codelineno-180-52"></a>
<a id="__codelineno-180-53" name="__codelineno-180-53" href="#__codelineno-180-53"></a>resources: ...
<a id="__codelineno-180-54" name="__codelineno-180-54" href="#__codelineno-180-54"></a>
<a id="__codelineno-180-55" name="__codelineno-180-55" href="#__codelineno-180-55"></a>
<a id="__codelineno-180-56" name="__codelineno-180-56" href="#__codelineno-180-56"></a>
<a id="__codelineno-180-57" name="__codelineno-180-57" href="#__codelineno-180-57"></a>nodeSelector: ...
<a id="__codelineno-180-58" name="__codelineno-180-58" href="#__codelineno-180-58"></a>
<a id="__codelineno-180-59" name="__codelineno-180-59" href="#__codelineno-180-59"></a>
<a id="__codelineno-180-60" name="__codelineno-180-60" href="#__codelineno-180-60"></a>
<a id="__codelineno-180-61" name="__codelineno-180-61" href="#__codelineno-180-61"></a>tolerations: ...
<a id="__codelineno-180-62" name="__codelineno-180-62" href="#__codelineno-180-62"></a>
<a id="__codelineno-180-63" name="__codelineno-180-63" href="#__codelineno-180-63"></a>
<a id="__codelineno-180-64" name="__codelineno-180-64" href="#__codelineno-180-64"></a>
<a id="__codelineno-180-65" name="__codelineno-180-65" href="#__codelineno-180-65"></a>labels: ...
<a id="__codelineno-180-66" name="__codelineno-180-66" href="#__codelineno-180-66"></a>
<a id="__codelineno-180-67" name="__codelineno-180-67" href="#__codelineno-180-67"></a>
<a id="__codelineno-180-68" name="__codelineno-180-68" href="#__codelineno-180-68"></a>
<a id="__codelineno-180-69" name="__codelineno-180-69" href="#__codelineno-180-69"></a>env: ...
<a id="__codelineno-180-70" name="__codelineno-180-70" href="#__codelineno-180-70"></a>
<a id="__codelineno-180-71" name="__codelineno-180-71" href="#__codelineno-180-71"></a>
<a id="__codelineno-180-72" name="__codelineno-180-72" href="#__codelineno-180-72"></a>
<a id="__codelineno-180-73" name="__codelineno-180-73" href="#__codelineno-180-73"></a>#...
</code></pre></div>
<hr />
<h2 id="source-migrate-dk-v1beta1-v1beta5md">Source: migrate-dk-v1beta1-v1beta5.md<a class="headerlink" href="#source-migrate-dk-v1beta1-v1beta5md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta1 to v1beta5
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta1-v1beta5
scraped: 2026-02-15T21:29:07.246476</p>
<hr />
<h1 id="migration-of-dynakube-v1beta1-to-v1beta5">Migration of DynaKube v1beta1 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta1-to-v1beta5" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta1-to-v1beta5_1">Migration of DynaKube v1beta1 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta1-to-v1beta5_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 30, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta1</code> to <code>apiVersion: dynatrace.com/v1beta5</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_1">Support lifecycle<a class="headerlink" href="#support-lifecycle_1" title="Permanent link">&para;</a></h2>
<h3 id="v1beta1_1">v1beta1<a class="headerlink" href="#v1beta1_1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 0.3.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<p><strong>Last supported in</strong>: Dynatrace Operator version 1.6.2</p>
<h3 id="v1beta5">v1beta5<a class="headerlink" href="#v1beta5" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.6.0</p>
<h2 id="changes_1">Changes<a class="headerlink" href="#changes_1" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="prepare-for-v1beta1-apiversion-removal">Prepare for v1beta1 apiVersion removal<a class="headerlink" href="#prepare-for-v1beta1-apiversion-removal" title="Permanent link">&para;</a></h3>
<p>Notice</p>
<p>DynaKube CRD v1beta1 apiVersion will be removed in a future release. We recommend that you prepare for this ahead of time.
User action will be required when upgrading from Dynatrace Operator version 1.1.0 and earlier.</p>
<p>Query the current storage version of the DynaKube CRD:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-181-1" name="__codelineno-181-1" href="#__codelineno-181-1"></a>kubectl get customresourcedefinitions dynakubes.dynatrace.com -o jsonpath=&#39;{.spec.versions[?(@.storage==true)].name}&#39;
</code></pre></div>
<p>Query the stored versions of the DynaKube CRD:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-182-1" name="__codelineno-182-1" href="#__codelineno-182-1"></a>kubectl get customresourcedefinitions dynakubes.dynatrace.com -o jsonpath=&#39;{.status.storedVersions}&#39;
</code></pre></div>
<p>If the <strong>stored versions list</strong> contains versions that will be removed with the CRD update, <strong>user intervention is required</strong>.</p>
<p>Make sure that the old apiVersion is no longer referenced by any manifest. This includes resources that load manifests from external sources, like Helm releases or ArgoCD applications.
When using GitOps, always check the source that manifests are synced from, because diffing may take conversion into account.</p>
<p>To ensure that the Kubernetes storage backend no longer contains outdated DynaKube objects, we recommend updating them in place.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-183-1" name="__codelineno-183-1" href="#__codelineno-183-1"></a>for item in $(kubectl get dynakubes.dynatrace.com -A -o jsonpath=&#39;{range .items[*]}{.metadata.namespace}{&quot;/&quot;}{.metadata.name}{&quot;\n&quot;}{end}&#39;); do
<a id="__codelineno-183-2" name="__codelineno-183-2" href="#__codelineno-183-2"></a>
<a id="__codelineno-183-3" name="__codelineno-183-3" href="#__codelineno-183-3"></a>
<a id="__codelineno-183-4" name="__codelineno-183-4" href="#__codelineno-183-4"></a>
<a id="__codelineno-183-5" name="__codelineno-183-5" href="#__codelineno-183-5"></a>namespace=${item%/*}
<a id="__codelineno-183-6" name="__codelineno-183-6" href="#__codelineno-183-6"></a>
<a id="__codelineno-183-7" name="__codelineno-183-7" href="#__codelineno-183-7"></a>
<a id="__codelineno-183-8" name="__codelineno-183-8" href="#__codelineno-183-8"></a>
<a id="__codelineno-183-9" name="__codelineno-183-9" href="#__codelineno-183-9"></a>name=${item#*/}
<a id="__codelineno-183-10" name="__codelineno-183-10" href="#__codelineno-183-10"></a>
<a id="__codelineno-183-11" name="__codelineno-183-11" href="#__codelineno-183-11"></a>
<a id="__codelineno-183-12" name="__codelineno-183-12" href="#__codelineno-183-12"></a>
<a id="__codelineno-183-13" name="__codelineno-183-13" href="#__codelineno-183-13"></a>kubectl get dynakubes.dynatrace.com -n $namespace $name -o yaml | kubectl replace -f -
<a id="__codelineno-183-14" name="__codelineno-183-14" href="#__codelineno-183-14"></a>
<a id="__codelineno-183-15" name="__codelineno-183-15" href="#__codelineno-183-15"></a>
<a id="__codelineno-183-16" name="__codelineno-183-16" href="#__codelineno-183-16"></a>
<a id="__codelineno-183-17" name="__codelineno-183-17" href="#__codelineno-183-17"></a>done
</code></pre></div>
<p>Do not use the command <code>kubectl apply</code>, because it only writes data when changes are detected.</p>
<p>Once the old apiVersion is no longer referenced, it is safe to update the CRD status.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-184-1" name="__codelineno-184-1" href="#__codelineno-184-1"></a>kubectl patch customresourcedefinitions dynakubes.dynatrace.com --subresource status --type merge -p &#39;{&quot;status&quot;:{&quot;storedVersions&quot;:[&quot;&lt;current storage version&gt;&quot;]}}&#39;
</code></pre></div>
<h3 id="replaced-feature-flags_1">Replaced feature flags<a class="headerlink" href="#replaced-feature-flags_1" title="Permanent link">&para;</a></h3>
<h4 id="dedicated-metadataenrichment-section_1">Dedicated <code>metadataEnrichment</code> section<a class="headerlink" href="#dedicated-metadataenrichment-section_1" title="Permanent link">&para;</a></h4>
<p>The feature flag for enabling metadata enrichment (<code>feature.dynatrace.com/metadata-enrichment: true/false</code>) was moved to a dedicated field:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-185-1" name="__codelineno-185-1" href="#__codelineno-185-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-185-2" name="__codelineno-185-2" href="#__codelineno-185-2"></a>
<a id="__codelineno-185-3" name="__codelineno-185-3" href="#__codelineno-185-3"></a>
<a id="__codelineno-185-4" name="__codelineno-185-4" href="#__codelineno-185-4"></a>
<a id="__codelineno-185-5" name="__codelineno-185-5" href="#__codelineno-185-5"></a>kind: DynaKube
<a id="__codelineno-185-6" name="__codelineno-185-6" href="#__codelineno-185-6"></a>
<a id="__codelineno-185-7" name="__codelineno-185-7" href="#__codelineno-185-7"></a>
<a id="__codelineno-185-8" name="__codelineno-185-8" href="#__codelineno-185-8"></a>
<a id="__codelineno-185-9" name="__codelineno-185-9" href="#__codelineno-185-9"></a>metadata:
<a id="__codelineno-185-10" name="__codelineno-185-10" href="#__codelineno-185-10"></a>
<a id="__codelineno-185-11" name="__codelineno-185-11" href="#__codelineno-185-11"></a>
<a id="__codelineno-185-12" name="__codelineno-185-12" href="#__codelineno-185-12"></a>
<a id="__codelineno-185-13" name="__codelineno-185-13" href="#__codelineno-185-13"></a>name: example
<a id="__codelineno-185-14" name="__codelineno-185-14" href="#__codelineno-185-14"></a>
<a id="__codelineno-185-15" name="__codelineno-185-15" href="#__codelineno-185-15"></a>
<a id="__codelineno-185-16" name="__codelineno-185-16" href="#__codelineno-185-16"></a>
<a id="__codelineno-185-17" name="__codelineno-185-17" href="#__codelineno-185-17"></a>namespace: dynatrace
<a id="__codelineno-185-18" name="__codelineno-185-18" href="#__codelineno-185-18"></a>
<a id="__codelineno-185-19" name="__codelineno-185-19" href="#__codelineno-185-19"></a>
<a id="__codelineno-185-20" name="__codelineno-185-20" href="#__codelineno-185-20"></a>
<a id="__codelineno-185-21" name="__codelineno-185-21" href="#__codelineno-185-21"></a>spec:
<a id="__codelineno-185-22" name="__codelineno-185-22" href="#__codelineno-185-22"></a>
<a id="__codelineno-185-23" name="__codelineno-185-23" href="#__codelineno-185-23"></a>
<a id="__codelineno-185-24" name="__codelineno-185-24" href="#__codelineno-185-24"></a>
<a id="__codelineno-185-25" name="__codelineno-185-25" href="#__codelineno-185-25"></a>metadataEnrichment:
<a id="__codelineno-185-26" name="__codelineno-185-26" href="#__codelineno-185-26"></a>
<a id="__codelineno-185-27" name="__codelineno-185-27" href="#__codelineno-185-27"></a>
<a id="__codelineno-185-28" name="__codelineno-185-28" href="#__codelineno-185-28"></a>
<a id="__codelineno-185-29" name="__codelineno-185-29" href="#__codelineno-185-29"></a>enabled: true # replaces feature.dynatrace.com/metadata-enrichment: true
<a id="__codelineno-185-30" name="__codelineno-185-30" href="#__codelineno-185-30"></a>
<a id="__codelineno-185-31" name="__codelineno-185-31" href="#__codelineno-185-31"></a>
<a id="__codelineno-185-32" name="__codelineno-185-32" href="#__codelineno-185-32"></a>
<a id="__codelineno-185-33" name="__codelineno-185-33" href="#__codelineno-185-33"></a>#...
</code></pre></div>
<h4 id="dedicated-dynatraceapirequestthreshold-field_1">Dedicated <code>dynatraceApiRequestThreshold</code> field<a class="headerlink" href="#dedicated-dynatraceapirequestthreshold-field_1" title="Permanent link">&para;</a></h4>
<p>The feature flag for controlling how often Dynatrace Operator can ping the Dynatrace API (<code>feature.dynatrace.com/dynatrace-api-request-threshold: &lt;number&gt;</code>) was moved to a dedicated field:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-186-1" name="__codelineno-186-1" href="#__codelineno-186-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-186-2" name="__codelineno-186-2" href="#__codelineno-186-2"></a>
<a id="__codelineno-186-3" name="__codelineno-186-3" href="#__codelineno-186-3"></a>
<a id="__codelineno-186-4" name="__codelineno-186-4" href="#__codelineno-186-4"></a>
<a id="__codelineno-186-5" name="__codelineno-186-5" href="#__codelineno-186-5"></a>kind: DynaKube
<a id="__codelineno-186-6" name="__codelineno-186-6" href="#__codelineno-186-6"></a>
<a id="__codelineno-186-7" name="__codelineno-186-7" href="#__codelineno-186-7"></a>
<a id="__codelineno-186-8" name="__codelineno-186-8" href="#__codelineno-186-8"></a>
<a id="__codelineno-186-9" name="__codelineno-186-9" href="#__codelineno-186-9"></a>metadata:
<a id="__codelineno-186-10" name="__codelineno-186-10" href="#__codelineno-186-10"></a>
<a id="__codelineno-186-11" name="__codelineno-186-11" href="#__codelineno-186-11"></a>
<a id="__codelineno-186-12" name="__codelineno-186-12" href="#__codelineno-186-12"></a>
<a id="__codelineno-186-13" name="__codelineno-186-13" href="#__codelineno-186-13"></a>name: example
<a id="__codelineno-186-14" name="__codelineno-186-14" href="#__codelineno-186-14"></a>
<a id="__codelineno-186-15" name="__codelineno-186-15" href="#__codelineno-186-15"></a>
<a id="__codelineno-186-16" name="__codelineno-186-16" href="#__codelineno-186-16"></a>
<a id="__codelineno-186-17" name="__codelineno-186-17" href="#__codelineno-186-17"></a>namespace: dynatrace
<a id="__codelineno-186-18" name="__codelineno-186-18" href="#__codelineno-186-18"></a>
<a id="__codelineno-186-19" name="__codelineno-186-19" href="#__codelineno-186-19"></a>
<a id="__codelineno-186-20" name="__codelineno-186-20" href="#__codelineno-186-20"></a>
<a id="__codelineno-186-21" name="__codelineno-186-21" href="#__codelineno-186-21"></a>spec:
<a id="__codelineno-186-22" name="__codelineno-186-22" href="#__codelineno-186-22"></a>
<a id="__codelineno-186-23" name="__codelineno-186-23" href="#__codelineno-186-23"></a>
<a id="__codelineno-186-24" name="__codelineno-186-24" href="#__codelineno-186-24"></a>
<a id="__codelineno-186-25" name="__codelineno-186-25" href="#__codelineno-186-25"></a>dynatraceApiRequestThreshold: 10 # replaces feature.dynatrace.com/dynatrace-api-request-threshold: &quot;10&quot;
<a id="__codelineno-186-26" name="__codelineno-186-26" href="#__codelineno-186-26"></a>
<a id="__codelineno-186-27" name="__codelineno-186-27" href="#__codelineno-186-27"></a>
<a id="__codelineno-186-28" name="__codelineno-186-28" href="#__codelineno-186-28"></a>
<a id="__codelineno-186-29" name="__codelineno-186-29" href="#__codelineno-186-29"></a>#...
</code></pre></div>
<h4 id="dedicated-seccompprofile-field-for-oneagent_1">Dedicated <code>secCompProfile</code> field for OneAgent<a class="headerlink" href="#dedicated-seccompprofile-field-for-oneagent_1" title="Permanent link">&para;</a></h4>
<p>The feature flag that controls which seccomp profile the OneAgent DaemonSet uses (<code>feature.dynatrace.com/oneagent-seccomp-profile:example</code>) has been moved to a dedicated field:</p>
<p>Host monitoring</p>
<p>Classic fullstack</p>
<p>Cloud native fullstack</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-187-1" name="__codelineno-187-1" href="#__codelineno-187-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-187-2" name="__codelineno-187-2" href="#__codelineno-187-2"></a>
<a id="__codelineno-187-3" name="__codelineno-187-3" href="#__codelineno-187-3"></a>
<a id="__codelineno-187-4" name="__codelineno-187-4" href="#__codelineno-187-4"></a>
<a id="__codelineno-187-5" name="__codelineno-187-5" href="#__codelineno-187-5"></a>kind: DynaKube
<a id="__codelineno-187-6" name="__codelineno-187-6" href="#__codelineno-187-6"></a>
<a id="__codelineno-187-7" name="__codelineno-187-7" href="#__codelineno-187-7"></a>
<a id="__codelineno-187-8" name="__codelineno-187-8" href="#__codelineno-187-8"></a>
<a id="__codelineno-187-9" name="__codelineno-187-9" href="#__codelineno-187-9"></a>metadata:
<a id="__codelineno-187-10" name="__codelineno-187-10" href="#__codelineno-187-10"></a>
<a id="__codelineno-187-11" name="__codelineno-187-11" href="#__codelineno-187-11"></a>
<a id="__codelineno-187-12" name="__codelineno-187-12" href="#__codelineno-187-12"></a>
<a id="__codelineno-187-13" name="__codelineno-187-13" href="#__codelineno-187-13"></a>name: example
<a id="__codelineno-187-14" name="__codelineno-187-14" href="#__codelineno-187-14"></a>
<a id="__codelineno-187-15" name="__codelineno-187-15" href="#__codelineno-187-15"></a>
<a id="__codelineno-187-16" name="__codelineno-187-16" href="#__codelineno-187-16"></a>
<a id="__codelineno-187-17" name="__codelineno-187-17" href="#__codelineno-187-17"></a>namespace: dynatrace
<a id="__codelineno-187-18" name="__codelineno-187-18" href="#__codelineno-187-18"></a>
<a id="__codelineno-187-19" name="__codelineno-187-19" href="#__codelineno-187-19"></a>
<a id="__codelineno-187-20" name="__codelineno-187-20" href="#__codelineno-187-20"></a>
<a id="__codelineno-187-21" name="__codelineno-187-21" href="#__codelineno-187-21"></a>spec:
<a id="__codelineno-187-22" name="__codelineno-187-22" href="#__codelineno-187-22"></a>
<a id="__codelineno-187-23" name="__codelineno-187-23" href="#__codelineno-187-23"></a>
<a id="__codelineno-187-24" name="__codelineno-187-24" href="#__codelineno-187-24"></a>
<a id="__codelineno-187-25" name="__codelineno-187-25" href="#__codelineno-187-25"></a>oneAgent:
<a id="__codelineno-187-26" name="__codelineno-187-26" href="#__codelineno-187-26"></a>
<a id="__codelineno-187-27" name="__codelineno-187-27" href="#__codelineno-187-27"></a>
<a id="__codelineno-187-28" name="__codelineno-187-28" href="#__codelineno-187-28"></a>
<a id="__codelineno-187-29" name="__codelineno-187-29" href="#__codelineno-187-29"></a>hostMonitoring:
<a id="__codelineno-187-30" name="__codelineno-187-30" href="#__codelineno-187-30"></a>
<a id="__codelineno-187-31" name="__codelineno-187-31" href="#__codelineno-187-31"></a>
<a id="__codelineno-187-32" name="__codelineno-187-32" href="#__codelineno-187-32"></a>
<a id="__codelineno-187-33" name="__codelineno-187-33" href="#__codelineno-187-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-187-34" name="__codelineno-187-34" href="#__codelineno-187-34"></a>
<a id="__codelineno-187-35" name="__codelineno-187-35" href="#__codelineno-187-35"></a>
<a id="__codelineno-187-36" name="__codelineno-187-36" href="#__codelineno-187-36"></a>
<a id="__codelineno-187-37" name="__codelineno-187-37" href="#__codelineno-187-37"></a>#...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-188-1" name="__codelineno-188-1" href="#__codelineno-188-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-188-2" name="__codelineno-188-2" href="#__codelineno-188-2"></a>
<a id="__codelineno-188-3" name="__codelineno-188-3" href="#__codelineno-188-3"></a>
<a id="__codelineno-188-4" name="__codelineno-188-4" href="#__codelineno-188-4"></a>
<a id="__codelineno-188-5" name="__codelineno-188-5" href="#__codelineno-188-5"></a>kind: DynaKube
<a id="__codelineno-188-6" name="__codelineno-188-6" href="#__codelineno-188-6"></a>
<a id="__codelineno-188-7" name="__codelineno-188-7" href="#__codelineno-188-7"></a>
<a id="__codelineno-188-8" name="__codelineno-188-8" href="#__codelineno-188-8"></a>
<a id="__codelineno-188-9" name="__codelineno-188-9" href="#__codelineno-188-9"></a>metadata:
<a id="__codelineno-188-10" name="__codelineno-188-10" href="#__codelineno-188-10"></a>
<a id="__codelineno-188-11" name="__codelineno-188-11" href="#__codelineno-188-11"></a>
<a id="__codelineno-188-12" name="__codelineno-188-12" href="#__codelineno-188-12"></a>
<a id="__codelineno-188-13" name="__codelineno-188-13" href="#__codelineno-188-13"></a>name: example
<a id="__codelineno-188-14" name="__codelineno-188-14" href="#__codelineno-188-14"></a>
<a id="__codelineno-188-15" name="__codelineno-188-15" href="#__codelineno-188-15"></a>
<a id="__codelineno-188-16" name="__codelineno-188-16" href="#__codelineno-188-16"></a>
<a id="__codelineno-188-17" name="__codelineno-188-17" href="#__codelineno-188-17"></a>namespace: dynatrace
<a id="__codelineno-188-18" name="__codelineno-188-18" href="#__codelineno-188-18"></a>
<a id="__codelineno-188-19" name="__codelineno-188-19" href="#__codelineno-188-19"></a>
<a id="__codelineno-188-20" name="__codelineno-188-20" href="#__codelineno-188-20"></a>
<a id="__codelineno-188-21" name="__codelineno-188-21" href="#__codelineno-188-21"></a>spec:
<a id="__codelineno-188-22" name="__codelineno-188-22" href="#__codelineno-188-22"></a>
<a id="__codelineno-188-23" name="__codelineno-188-23" href="#__codelineno-188-23"></a>
<a id="__codelineno-188-24" name="__codelineno-188-24" href="#__codelineno-188-24"></a>
<a id="__codelineno-188-25" name="__codelineno-188-25" href="#__codelineno-188-25"></a>oneAgent:
<a id="__codelineno-188-26" name="__codelineno-188-26" href="#__codelineno-188-26"></a>
<a id="__codelineno-188-27" name="__codelineno-188-27" href="#__codelineno-188-27"></a>
<a id="__codelineno-188-28" name="__codelineno-188-28" href="#__codelineno-188-28"></a>
<a id="__codelineno-188-29" name="__codelineno-188-29" href="#__codelineno-188-29"></a>classicFullStack:
<a id="__codelineno-188-30" name="__codelineno-188-30" href="#__codelineno-188-30"></a>
<a id="__codelineno-188-31" name="__codelineno-188-31" href="#__codelineno-188-31"></a>
<a id="__codelineno-188-32" name="__codelineno-188-32" href="#__codelineno-188-32"></a>
<a id="__codelineno-188-33" name="__codelineno-188-33" href="#__codelineno-188-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-188-34" name="__codelineno-188-34" href="#__codelineno-188-34"></a>
<a id="__codelineno-188-35" name="__codelineno-188-35" href="#__codelineno-188-35"></a>
<a id="__codelineno-188-36" name="__codelineno-188-36" href="#__codelineno-188-36"></a>
<a id="__codelineno-188-37" name="__codelineno-188-37" href="#__codelineno-188-37"></a>#...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-189-1" name="__codelineno-189-1" href="#__codelineno-189-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-189-2" name="__codelineno-189-2" href="#__codelineno-189-2"></a>
<a id="__codelineno-189-3" name="__codelineno-189-3" href="#__codelineno-189-3"></a>
<a id="__codelineno-189-4" name="__codelineno-189-4" href="#__codelineno-189-4"></a>
<a id="__codelineno-189-5" name="__codelineno-189-5" href="#__codelineno-189-5"></a>kind: DynaKube
<a id="__codelineno-189-6" name="__codelineno-189-6" href="#__codelineno-189-6"></a>
<a id="__codelineno-189-7" name="__codelineno-189-7" href="#__codelineno-189-7"></a>
<a id="__codelineno-189-8" name="__codelineno-189-8" href="#__codelineno-189-8"></a>
<a id="__codelineno-189-9" name="__codelineno-189-9" href="#__codelineno-189-9"></a>metadata:
<a id="__codelineno-189-10" name="__codelineno-189-10" href="#__codelineno-189-10"></a>
<a id="__codelineno-189-11" name="__codelineno-189-11" href="#__codelineno-189-11"></a>
<a id="__codelineno-189-12" name="__codelineno-189-12" href="#__codelineno-189-12"></a>
<a id="__codelineno-189-13" name="__codelineno-189-13" href="#__codelineno-189-13"></a>name: example
<a id="__codelineno-189-14" name="__codelineno-189-14" href="#__codelineno-189-14"></a>
<a id="__codelineno-189-15" name="__codelineno-189-15" href="#__codelineno-189-15"></a>
<a id="__codelineno-189-16" name="__codelineno-189-16" href="#__codelineno-189-16"></a>
<a id="__codelineno-189-17" name="__codelineno-189-17" href="#__codelineno-189-17"></a>namespace: dynatrace
<a id="__codelineno-189-18" name="__codelineno-189-18" href="#__codelineno-189-18"></a>
<a id="__codelineno-189-19" name="__codelineno-189-19" href="#__codelineno-189-19"></a>
<a id="__codelineno-189-20" name="__codelineno-189-20" href="#__codelineno-189-20"></a>
<a id="__codelineno-189-21" name="__codelineno-189-21" href="#__codelineno-189-21"></a>spec:
<a id="__codelineno-189-22" name="__codelineno-189-22" href="#__codelineno-189-22"></a>
<a id="__codelineno-189-23" name="__codelineno-189-23" href="#__codelineno-189-23"></a>
<a id="__codelineno-189-24" name="__codelineno-189-24" href="#__codelineno-189-24"></a>
<a id="__codelineno-189-25" name="__codelineno-189-25" href="#__codelineno-189-25"></a>oneAgent:
<a id="__codelineno-189-26" name="__codelineno-189-26" href="#__codelineno-189-26"></a>
<a id="__codelineno-189-27" name="__codelineno-189-27" href="#__codelineno-189-27"></a>
<a id="__codelineno-189-28" name="__codelineno-189-28" href="#__codelineno-189-28"></a>
<a id="__codelineno-189-29" name="__codelineno-189-29" href="#__codelineno-189-29"></a>cloudNativeFullstack:
<a id="__codelineno-189-30" name="__codelineno-189-30" href="#__codelineno-189-30"></a>
<a id="__codelineno-189-31" name="__codelineno-189-31" href="#__codelineno-189-31"></a>
<a id="__codelineno-189-32" name="__codelineno-189-32" href="#__codelineno-189-32"></a>
<a id="__codelineno-189-33" name="__codelineno-189-33" href="#__codelineno-189-33"></a>secCompProfile: example # replaces feature.dynatrace.com/oneagent-seccomp-profile: &quot;example&quot;
<a id="__codelineno-189-34" name="__codelineno-189-34" href="#__codelineno-189-34"></a>
<a id="__codelineno-189-35" name="__codelineno-189-35" href="#__codelineno-189-35"></a>
<a id="__codelineno-189-36" name="__codelineno-189-36" href="#__codelineno-189-36"></a>
<a id="__codelineno-189-37" name="__codelineno-189-37" href="#__codelineno-189-37"></a>#...
</code></pre></div>
<h4 id="new-csi-mount-timeout-feature-flag_1">New CSI mount timeout feature flag<a class="headerlink" href="#new-csi-mount-timeout-feature-flag_1" title="Permanent link">&para;</a></h4>
<p>The feature flag that controlled how many mount attempts the CSI driver would make before stopping (<code>feature.dynatrace.com/max-csi-mount-attempts: 5</code>) has been replaced with a timeout-based feature flag. This was done due to the difficulty of determining how many attempts equal a given timeout.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-190-1" name="__codelineno-190-1" href="#__codelineno-190-1"></a>feature.dynatrace.com/max-csi-mount-timeout: &quot;8m&quot; # replaces feature.dynatrace.com/max-csi-mount-attempts: &quot;10&quot;
</code></pre></div>
<h3 id="moved-fields_1">Moved fields<a class="headerlink" href="#moved-fields_1" title="Permanent link">&para;</a></h3>
<h4 id="specnamespaceselector_1"><code>spec.namespaceSelector</code><a class="headerlink" href="#specnamespaceselector_1" title="Permanent link">&para;</a></h4>
<p>The <code>spec.namespaceSelector</code> field was moved to each feature subsection that it affects.</p>
<p>Cloud native fullstack</p>
<p>Application monitoring</p>
<p>Metadata enrichment</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-191-1" name="__codelineno-191-1" href="#__codelineno-191-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-191-2" name="__codelineno-191-2" href="#__codelineno-191-2"></a>
<a id="__codelineno-191-3" name="__codelineno-191-3" href="#__codelineno-191-3"></a>
<a id="__codelineno-191-4" name="__codelineno-191-4" href="#__codelineno-191-4"></a>
<a id="__codelineno-191-5" name="__codelineno-191-5" href="#__codelineno-191-5"></a>kind: DynaKube
<a id="__codelineno-191-6" name="__codelineno-191-6" href="#__codelineno-191-6"></a>
<a id="__codelineno-191-7" name="__codelineno-191-7" href="#__codelineno-191-7"></a>
<a id="__codelineno-191-8" name="__codelineno-191-8" href="#__codelineno-191-8"></a>
<a id="__codelineno-191-9" name="__codelineno-191-9" href="#__codelineno-191-9"></a>metadata:
<a id="__codelineno-191-10" name="__codelineno-191-10" href="#__codelineno-191-10"></a>
<a id="__codelineno-191-11" name="__codelineno-191-11" href="#__codelineno-191-11"></a>
<a id="__codelineno-191-12" name="__codelineno-191-12" href="#__codelineno-191-12"></a>
<a id="__codelineno-191-13" name="__codelineno-191-13" href="#__codelineno-191-13"></a>name: example
<a id="__codelineno-191-14" name="__codelineno-191-14" href="#__codelineno-191-14"></a>
<a id="__codelineno-191-15" name="__codelineno-191-15" href="#__codelineno-191-15"></a>
<a id="__codelineno-191-16" name="__codelineno-191-16" href="#__codelineno-191-16"></a>
<a id="__codelineno-191-17" name="__codelineno-191-17" href="#__codelineno-191-17"></a>namespace: dynatrace
<a id="__codelineno-191-18" name="__codelineno-191-18" href="#__codelineno-191-18"></a>
<a id="__codelineno-191-19" name="__codelineno-191-19" href="#__codelineno-191-19"></a>
<a id="__codelineno-191-20" name="__codelineno-191-20" href="#__codelineno-191-20"></a>
<a id="__codelineno-191-21" name="__codelineno-191-21" href="#__codelineno-191-21"></a>spec:
<a id="__codelineno-191-22" name="__codelineno-191-22" href="#__codelineno-191-22"></a>
<a id="__codelineno-191-23" name="__codelineno-191-23" href="#__codelineno-191-23"></a>
<a id="__codelineno-191-24" name="__codelineno-191-24" href="#__codelineno-191-24"></a>
<a id="__codelineno-191-25" name="__codelineno-191-25" href="#__codelineno-191-25"></a>oneAgent:
<a id="__codelineno-191-26" name="__codelineno-191-26" href="#__codelineno-191-26"></a>
<a id="__codelineno-191-27" name="__codelineno-191-27" href="#__codelineno-191-27"></a>
<a id="__codelineno-191-28" name="__codelineno-191-28" href="#__codelineno-191-28"></a>
<a id="__codelineno-191-29" name="__codelineno-191-29" href="#__codelineno-191-29"></a>cloudNativeFullstack:
<a id="__codelineno-191-30" name="__codelineno-191-30" href="#__codelineno-191-30"></a>
<a id="__codelineno-191-31" name="__codelineno-191-31" href="#__codelineno-191-31"></a>
<a id="__codelineno-191-32" name="__codelineno-191-32" href="#__codelineno-191-32"></a>
<a id="__codelineno-191-33" name="__codelineno-191-33" href="#__codelineno-191-33"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-191-34" name="__codelineno-191-34" href="#__codelineno-191-34"></a>
<a id="__codelineno-191-35" name="__codelineno-191-35" href="#__codelineno-191-35"></a>
<a id="__codelineno-191-36" name="__codelineno-191-36" href="#__codelineno-191-36"></a>
<a id="__codelineno-191-37" name="__codelineno-191-37" href="#__codelineno-191-37"></a># ...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-192-1" name="__codelineno-192-1" href="#__codelineno-192-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-192-2" name="__codelineno-192-2" href="#__codelineno-192-2"></a>
<a id="__codelineno-192-3" name="__codelineno-192-3" href="#__codelineno-192-3"></a>
<a id="__codelineno-192-4" name="__codelineno-192-4" href="#__codelineno-192-4"></a>
<a id="__codelineno-192-5" name="__codelineno-192-5" href="#__codelineno-192-5"></a>kind: DynaKube
<a id="__codelineno-192-6" name="__codelineno-192-6" href="#__codelineno-192-6"></a>
<a id="__codelineno-192-7" name="__codelineno-192-7" href="#__codelineno-192-7"></a>
<a id="__codelineno-192-8" name="__codelineno-192-8" href="#__codelineno-192-8"></a>
<a id="__codelineno-192-9" name="__codelineno-192-9" href="#__codelineno-192-9"></a>metadata:
<a id="__codelineno-192-10" name="__codelineno-192-10" href="#__codelineno-192-10"></a>
<a id="__codelineno-192-11" name="__codelineno-192-11" href="#__codelineno-192-11"></a>
<a id="__codelineno-192-12" name="__codelineno-192-12" href="#__codelineno-192-12"></a>
<a id="__codelineno-192-13" name="__codelineno-192-13" href="#__codelineno-192-13"></a>name: example
<a id="__codelineno-192-14" name="__codelineno-192-14" href="#__codelineno-192-14"></a>
<a id="__codelineno-192-15" name="__codelineno-192-15" href="#__codelineno-192-15"></a>
<a id="__codelineno-192-16" name="__codelineno-192-16" href="#__codelineno-192-16"></a>
<a id="__codelineno-192-17" name="__codelineno-192-17" href="#__codelineno-192-17"></a>namespace: dynatrace
<a id="__codelineno-192-18" name="__codelineno-192-18" href="#__codelineno-192-18"></a>
<a id="__codelineno-192-19" name="__codelineno-192-19" href="#__codelineno-192-19"></a>
<a id="__codelineno-192-20" name="__codelineno-192-20" href="#__codelineno-192-20"></a>
<a id="__codelineno-192-21" name="__codelineno-192-21" href="#__codelineno-192-21"></a>spec:
<a id="__codelineno-192-22" name="__codelineno-192-22" href="#__codelineno-192-22"></a>
<a id="__codelineno-192-23" name="__codelineno-192-23" href="#__codelineno-192-23"></a>
<a id="__codelineno-192-24" name="__codelineno-192-24" href="#__codelineno-192-24"></a>
<a id="__codelineno-192-25" name="__codelineno-192-25" href="#__codelineno-192-25"></a>oneAgent:
<a id="__codelineno-192-26" name="__codelineno-192-26" href="#__codelineno-192-26"></a>
<a id="__codelineno-192-27" name="__codelineno-192-27" href="#__codelineno-192-27"></a>
<a id="__codelineno-192-28" name="__codelineno-192-28" href="#__codelineno-192-28"></a>
<a id="__codelineno-192-29" name="__codelineno-192-29" href="#__codelineno-192-29"></a>applicationMonitoring:
<a id="__codelineno-192-30" name="__codelineno-192-30" href="#__codelineno-192-30"></a>
<a id="__codelineno-192-31" name="__codelineno-192-31" href="#__codelineno-192-31"></a>
<a id="__codelineno-192-32" name="__codelineno-192-32" href="#__codelineno-192-32"></a>
<a id="__codelineno-192-33" name="__codelineno-192-33" href="#__codelineno-192-33"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-192-34" name="__codelineno-192-34" href="#__codelineno-192-34"></a>
<a id="__codelineno-192-35" name="__codelineno-192-35" href="#__codelineno-192-35"></a>
<a id="__codelineno-192-36" name="__codelineno-192-36" href="#__codelineno-192-36"></a>
<a id="__codelineno-192-37" name="__codelineno-192-37" href="#__codelineno-192-37"></a># ...
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-193-1" name="__codelineno-193-1" href="#__codelineno-193-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-193-2" name="__codelineno-193-2" href="#__codelineno-193-2"></a>
<a id="__codelineno-193-3" name="__codelineno-193-3" href="#__codelineno-193-3"></a>
<a id="__codelineno-193-4" name="__codelineno-193-4" href="#__codelineno-193-4"></a>
<a id="__codelineno-193-5" name="__codelineno-193-5" href="#__codelineno-193-5"></a>kind: DynaKube
<a id="__codelineno-193-6" name="__codelineno-193-6" href="#__codelineno-193-6"></a>
<a id="__codelineno-193-7" name="__codelineno-193-7" href="#__codelineno-193-7"></a>
<a id="__codelineno-193-8" name="__codelineno-193-8" href="#__codelineno-193-8"></a>
<a id="__codelineno-193-9" name="__codelineno-193-9" href="#__codelineno-193-9"></a>metadata:
<a id="__codelineno-193-10" name="__codelineno-193-10" href="#__codelineno-193-10"></a>
<a id="__codelineno-193-11" name="__codelineno-193-11" href="#__codelineno-193-11"></a>
<a id="__codelineno-193-12" name="__codelineno-193-12" href="#__codelineno-193-12"></a>
<a id="__codelineno-193-13" name="__codelineno-193-13" href="#__codelineno-193-13"></a>name: example
<a id="__codelineno-193-14" name="__codelineno-193-14" href="#__codelineno-193-14"></a>
<a id="__codelineno-193-15" name="__codelineno-193-15" href="#__codelineno-193-15"></a>
<a id="__codelineno-193-16" name="__codelineno-193-16" href="#__codelineno-193-16"></a>
<a id="__codelineno-193-17" name="__codelineno-193-17" href="#__codelineno-193-17"></a>namespace: dynatrace
<a id="__codelineno-193-18" name="__codelineno-193-18" href="#__codelineno-193-18"></a>
<a id="__codelineno-193-19" name="__codelineno-193-19" href="#__codelineno-193-19"></a>
<a id="__codelineno-193-20" name="__codelineno-193-20" href="#__codelineno-193-20"></a>
<a id="__codelineno-193-21" name="__codelineno-193-21" href="#__codelineno-193-21"></a>spec:
<a id="__codelineno-193-22" name="__codelineno-193-22" href="#__codelineno-193-22"></a>
<a id="__codelineno-193-23" name="__codelineno-193-23" href="#__codelineno-193-23"></a>
<a id="__codelineno-193-24" name="__codelineno-193-24" href="#__codelineno-193-24"></a>
<a id="__codelineno-193-25" name="__codelineno-193-25" href="#__codelineno-193-25"></a>metadataEnrichment:
<a id="__codelineno-193-26" name="__codelineno-193-26" href="#__codelineno-193-26"></a>
<a id="__codelineno-193-27" name="__codelineno-193-27" href="#__codelineno-193-27"></a>
<a id="__codelineno-193-28" name="__codelineno-193-28" href="#__codelineno-193-28"></a>
<a id="__codelineno-193-29" name="__codelineno-193-29" href="#__codelineno-193-29"></a>namespaceSelector: ... # replaces spec.namespaceSelector
<a id="__codelineno-193-30" name="__codelineno-193-30" href="#__codelineno-193-30"></a>
<a id="__codelineno-193-31" name="__codelineno-193-31" href="#__codelineno-193-31"></a>
<a id="__codelineno-193-32" name="__codelineno-193-32" href="#__codelineno-193-32"></a>
<a id="__codelineno-193-33" name="__codelineno-193-33" href="#__codelineno-193-33"></a># ...
</code></pre></div>
<h3 id="deprecated-fields_1">Deprecated fields<a class="headerlink" href="#deprecated-fields_1" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_1">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_1" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-194-1" name="__codelineno-194-1" href="#__codelineno-194-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-194-2" name="__codelineno-194-2" href="#__codelineno-194-2"></a>
<a id="__codelineno-194-3" name="__codelineno-194-3" href="#__codelineno-194-3"></a>
<a id="__codelineno-194-4" name="__codelineno-194-4" href="#__codelineno-194-4"></a>
<a id="__codelineno-194-5" name="__codelineno-194-5" href="#__codelineno-194-5"></a>kind: DynaKube
<a id="__codelineno-194-6" name="__codelineno-194-6" href="#__codelineno-194-6"></a>
<a id="__codelineno-194-7" name="__codelineno-194-7" href="#__codelineno-194-7"></a>
<a id="__codelineno-194-8" name="__codelineno-194-8" href="#__codelineno-194-8"></a>
<a id="__codelineno-194-9" name="__codelineno-194-9" href="#__codelineno-194-9"></a>metadata:
<a id="__codelineno-194-10" name="__codelineno-194-10" href="#__codelineno-194-10"></a>
<a id="__codelineno-194-11" name="__codelineno-194-11" href="#__codelineno-194-11"></a>
<a id="__codelineno-194-12" name="__codelineno-194-12" href="#__codelineno-194-12"></a>
<a id="__codelineno-194-13" name="__codelineno-194-13" href="#__codelineno-194-13"></a>name: example
<a id="__codelineno-194-14" name="__codelineno-194-14" href="#__codelineno-194-14"></a>
<a id="__codelineno-194-15" name="__codelineno-194-15" href="#__codelineno-194-15"></a>
<a id="__codelineno-194-16" name="__codelineno-194-16" href="#__codelineno-194-16"></a>
<a id="__codelineno-194-17" name="__codelineno-194-17" href="#__codelineno-194-17"></a>namespace: dynatrace
<a id="__codelineno-194-18" name="__codelineno-194-18" href="#__codelineno-194-18"></a>
<a id="__codelineno-194-19" name="__codelineno-194-19" href="#__codelineno-194-19"></a>
<a id="__codelineno-194-20" name="__codelineno-194-20" href="#__codelineno-194-20"></a>
<a id="__codelineno-194-21" name="__codelineno-194-21" href="#__codelineno-194-21"></a>spec:
<a id="__codelineno-194-22" name="__codelineno-194-22" href="#__codelineno-194-22"></a>
<a id="__codelineno-194-23" name="__codelineno-194-23" href="#__codelineno-194-23"></a>
<a id="__codelineno-194-24" name="__codelineno-194-24" href="#__codelineno-194-24"></a>
<a id="__codelineno-194-25" name="__codelineno-194-25" href="#__codelineno-194-25"></a>oneAgent:
<a id="__codelineno-194-26" name="__codelineno-194-26" href="#__codelineno-194-26"></a>
<a id="__codelineno-194-27" name="__codelineno-194-27" href="#__codelineno-194-27"></a>
<a id="__codelineno-194-28" name="__codelineno-194-28" href="#__codelineno-194-28"></a>
<a id="__codelineno-194-29" name="__codelineno-194-29" href="#__codelineno-194-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-194-30" name="__codelineno-194-30" href="#__codelineno-194-30"></a>
<a id="__codelineno-194-31" name="__codelineno-194-31" href="#__codelineno-194-31"></a>
<a id="__codelineno-194-32" name="__codelineno-194-32" href="#__codelineno-194-32"></a>
<a id="__codelineno-194-33" name="__codelineno-194-33" href="#__codelineno-194-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-195-1" name="__codelineno-195-1" href="#__codelineno-195-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-195-2" name="__codelineno-195-2" href="#__codelineno-195-2"></a>
<a id="__codelineno-195-3" name="__codelineno-195-3" href="#__codelineno-195-3"></a>
<a id="__codelineno-195-4" name="__codelineno-195-4" href="#__codelineno-195-4"></a>
<a id="__codelineno-195-5" name="__codelineno-195-5" href="#__codelineno-195-5"></a>kind: DynaKube
<a id="__codelineno-195-6" name="__codelineno-195-6" href="#__codelineno-195-6"></a>
<a id="__codelineno-195-7" name="__codelineno-195-7" href="#__codelineno-195-7"></a>
<a id="__codelineno-195-8" name="__codelineno-195-8" href="#__codelineno-195-8"></a>
<a id="__codelineno-195-9" name="__codelineno-195-9" href="#__codelineno-195-9"></a>metadata:
<a id="__codelineno-195-10" name="__codelineno-195-10" href="#__codelineno-195-10"></a>
<a id="__codelineno-195-11" name="__codelineno-195-11" href="#__codelineno-195-11"></a>
<a id="__codelineno-195-12" name="__codelineno-195-12" href="#__codelineno-195-12"></a>
<a id="__codelineno-195-13" name="__codelineno-195-13" href="#__codelineno-195-13"></a>name: example
<a id="__codelineno-195-14" name="__codelineno-195-14" href="#__codelineno-195-14"></a>
<a id="__codelineno-195-15" name="__codelineno-195-15" href="#__codelineno-195-15"></a>
<a id="__codelineno-195-16" name="__codelineno-195-16" href="#__codelineno-195-16"></a>
<a id="__codelineno-195-17" name="__codelineno-195-17" href="#__codelineno-195-17"></a>namespace: dynatrace
<a id="__codelineno-195-18" name="__codelineno-195-18" href="#__codelineno-195-18"></a>
<a id="__codelineno-195-19" name="__codelineno-195-19" href="#__codelineno-195-19"></a>
<a id="__codelineno-195-20" name="__codelineno-195-20" href="#__codelineno-195-20"></a>
<a id="__codelineno-195-21" name="__codelineno-195-21" href="#__codelineno-195-21"></a>spec:
<a id="__codelineno-195-22" name="__codelineno-195-22" href="#__codelineno-195-22"></a>
<a id="__codelineno-195-23" name="__codelineno-195-23" href="#__codelineno-195-23"></a>
<a id="__codelineno-195-24" name="__codelineno-195-24" href="#__codelineno-195-24"></a>
<a id="__codelineno-195-25" name="__codelineno-195-25" href="#__codelineno-195-25"></a>oneAgent:
<a id="__codelineno-195-26" name="__codelineno-195-26" href="#__codelineno-195-26"></a>
<a id="__codelineno-195-27" name="__codelineno-195-27" href="#__codelineno-195-27"></a>
<a id="__codelineno-195-28" name="__codelineno-195-28" href="#__codelineno-195-28"></a>
<a id="__codelineno-195-29" name="__codelineno-195-29" href="#__codelineno-195-29"></a>cloudNativeFullstack:
<a id="__codelineno-195-30" name="__codelineno-195-30" href="#__codelineno-195-30"></a>
<a id="__codelineno-195-31" name="__codelineno-195-31" href="#__codelineno-195-31"></a>
<a id="__codelineno-195-32" name="__codelineno-195-32" href="#__codelineno-195-32"></a>
<a id="__codelineno-195-33" name="__codelineno-195-33" href="#__codelineno-195-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-195-34" name="__codelineno-195-34" href="#__codelineno-195-34"></a>
<a id="__codelineno-195-35" name="__codelineno-195-35" href="#__codelineno-195-35"></a>
<a id="__codelineno-195-36" name="__codelineno-195-36" href="#__codelineno-195-36"></a>
<a id="__codelineno-195-37" name="__codelineno-195-37" href="#__codelineno-195-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-195-38" name="__codelineno-195-38" href="#__codelineno-195-38"></a>
<a id="__codelineno-195-39" name="__codelineno-195-39" href="#__codelineno-195-39"></a>
<a id="__codelineno-195-40" name="__codelineno-195-40" href="#__codelineno-195-40"></a>
<a id="__codelineno-195-41" name="__codelineno-195-41" href="#__codelineno-195-41"></a># ...
<a id="__codelineno-195-42" name="__codelineno-195-42" href="#__codelineno-195-42"></a>
<a id="__codelineno-195-43" name="__codelineno-195-43" href="#__codelineno-195-43"></a>
<a id="__codelineno-195-44" name="__codelineno-195-44" href="#__codelineno-195-44"></a>
<a id="__codelineno-195-45" name="__codelineno-195-45" href="#__codelineno-195-45"></a>---
<a id="__codelineno-195-46" name="__codelineno-195-46" href="#__codelineno-195-46"></a>
<a id="__codelineno-195-47" name="__codelineno-195-47" href="#__codelineno-195-47"></a>
<a id="__codelineno-195-48" name="__codelineno-195-48" href="#__codelineno-195-48"></a>
<a id="__codelineno-195-49" name="__codelineno-195-49" href="#__codelineno-195-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-195-50" name="__codelineno-195-50" href="#__codelineno-195-50"></a>
<a id="__codelineno-195-51" name="__codelineno-195-51" href="#__codelineno-195-51"></a>
<a id="__codelineno-195-52" name="__codelineno-195-52" href="#__codelineno-195-52"></a>
<a id="__codelineno-195-53" name="__codelineno-195-53" href="#__codelineno-195-53"></a>kind: DynaKube
<a id="__codelineno-195-54" name="__codelineno-195-54" href="#__codelineno-195-54"></a>
<a id="__codelineno-195-55" name="__codelineno-195-55" href="#__codelineno-195-55"></a>
<a id="__codelineno-195-56" name="__codelineno-195-56" href="#__codelineno-195-56"></a>
<a id="__codelineno-195-57" name="__codelineno-195-57" href="#__codelineno-195-57"></a>metadata:
<a id="__codelineno-195-58" name="__codelineno-195-58" href="#__codelineno-195-58"></a>
<a id="__codelineno-195-59" name="__codelineno-195-59" href="#__codelineno-195-59"></a>
<a id="__codelineno-195-60" name="__codelineno-195-60" href="#__codelineno-195-60"></a>
<a id="__codelineno-195-61" name="__codelineno-195-61" href="#__codelineno-195-61"></a>name: example
<a id="__codelineno-195-62" name="__codelineno-195-62" href="#__codelineno-195-62"></a>
<a id="__codelineno-195-63" name="__codelineno-195-63" href="#__codelineno-195-63"></a>
<a id="__codelineno-195-64" name="__codelineno-195-64" href="#__codelineno-195-64"></a>
<a id="__codelineno-195-65" name="__codelineno-195-65" href="#__codelineno-195-65"></a>namespace: dynatrace
<a id="__codelineno-195-66" name="__codelineno-195-66" href="#__codelineno-195-66"></a>
<a id="__codelineno-195-67" name="__codelineno-195-67" href="#__codelineno-195-67"></a>
<a id="__codelineno-195-68" name="__codelineno-195-68" href="#__codelineno-195-68"></a>
<a id="__codelineno-195-69" name="__codelineno-195-69" href="#__codelineno-195-69"></a>spec:
<a id="__codelineno-195-70" name="__codelineno-195-70" href="#__codelineno-195-70"></a>
<a id="__codelineno-195-71" name="__codelineno-195-71" href="#__codelineno-195-71"></a>
<a id="__codelineno-195-72" name="__codelineno-195-72" href="#__codelineno-195-72"></a>
<a id="__codelineno-195-73" name="__codelineno-195-73" href="#__codelineno-195-73"></a>oneAgent:
<a id="__codelineno-195-74" name="__codelineno-195-74" href="#__codelineno-195-74"></a>
<a id="__codelineno-195-75" name="__codelineno-195-75" href="#__codelineno-195-75"></a>
<a id="__codelineno-195-76" name="__codelineno-195-76" href="#__codelineno-195-76"></a>
<a id="__codelineno-195-77" name="__codelineno-195-77" href="#__codelineno-195-77"></a>cloudNativeFullstack:
<a id="__codelineno-195-78" name="__codelineno-195-78" href="#__codelineno-195-78"></a>
<a id="__codelineno-195-79" name="__codelineno-195-79" href="#__codelineno-195-79"></a>
<a id="__codelineno-195-80" name="__codelineno-195-80" href="#__codelineno-195-80"></a>
<a id="__codelineno-195-81" name="__codelineno-195-81" href="#__codelineno-195-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-195-82" name="__codelineno-195-82" href="#__codelineno-195-82"></a>
<a id="__codelineno-195-83" name="__codelineno-195-83" href="#__codelineno-195-83"></a>
<a id="__codelineno-195-84" name="__codelineno-195-84" href="#__codelineno-195-84"></a>
<a id="__codelineno-195-85" name="__codelineno-195-85" href="#__codelineno-195-85"></a># ...
</code></pre></div>
<h3 id="removed-fields_1">Removed fields<a class="headerlink" href="#removed-fields_1" title="Permanent link">&para;</a></h3>
<h4 id="specapplicationmonitoringusecsidriver_1"><code>spec.applicationMonitoring.useCSIDriver</code><a class="headerlink" href="#specapplicationmonitoringusecsidriver_1" title="Permanent link">&para;</a></h4>
<p>The <code>spec.applicationMonitoring.useCSIDriver: true/false</code> field has been removed.</p>
<p>The CSI driver is now used when installed as part of the Dynatrace Operator installation.</p>
<h4 id="speckubernetesmonitoring_1"><code>spec.kubernetesMonitoring</code><a class="headerlink" href="#speckubernetesmonitoring_1" title="Permanent link">&para;</a></h4>
<p>The deprecated field <code>spec.kubernetesMonitoring</code> was removed in favor of using the current <code>spec.activeGate</code> section. This example shows you before and after:</p>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-196-1" name="__codelineno-196-1" href="#__codelineno-196-1"></a>apiVersion: dynatrace.com/v1beta1
<a id="__codelineno-196-2" name="__codelineno-196-2" href="#__codelineno-196-2"></a>
<a id="__codelineno-196-3" name="__codelineno-196-3" href="#__codelineno-196-3"></a>
<a id="__codelineno-196-4" name="__codelineno-196-4" href="#__codelineno-196-4"></a>
<a id="__codelineno-196-5" name="__codelineno-196-5" href="#__codelineno-196-5"></a>kind: DynaKube
<a id="__codelineno-196-6" name="__codelineno-196-6" href="#__codelineno-196-6"></a>
<a id="__codelineno-196-7" name="__codelineno-196-7" href="#__codelineno-196-7"></a>
<a id="__codelineno-196-8" name="__codelineno-196-8" href="#__codelineno-196-8"></a>
<a id="__codelineno-196-9" name="__codelineno-196-9" href="#__codelineno-196-9"></a>metadata:
<a id="__codelineno-196-10" name="__codelineno-196-10" href="#__codelineno-196-10"></a>
<a id="__codelineno-196-11" name="__codelineno-196-11" href="#__codelineno-196-11"></a>
<a id="__codelineno-196-12" name="__codelineno-196-12" href="#__codelineno-196-12"></a>
<a id="__codelineno-196-13" name="__codelineno-196-13" href="#__codelineno-196-13"></a>name: example
<a id="__codelineno-196-14" name="__codelineno-196-14" href="#__codelineno-196-14"></a>
<a id="__codelineno-196-15" name="__codelineno-196-15" href="#__codelineno-196-15"></a>
<a id="__codelineno-196-16" name="__codelineno-196-16" href="#__codelineno-196-16"></a>
<a id="__codelineno-196-17" name="__codelineno-196-17" href="#__codelineno-196-17"></a>namespace: dynatrace
<a id="__codelineno-196-18" name="__codelineno-196-18" href="#__codelineno-196-18"></a>
<a id="__codelineno-196-19" name="__codelineno-196-19" href="#__codelineno-196-19"></a>
<a id="__codelineno-196-20" name="__codelineno-196-20" href="#__codelineno-196-20"></a>
<a id="__codelineno-196-21" name="__codelineno-196-21" href="#__codelineno-196-21"></a>spec:
<a id="__codelineno-196-22" name="__codelineno-196-22" href="#__codelineno-196-22"></a>
<a id="__codelineno-196-23" name="__codelineno-196-23" href="#__codelineno-196-23"></a>
<a id="__codelineno-196-24" name="__codelineno-196-24" href="#__codelineno-196-24"></a>
<a id="__codelineno-196-25" name="__codelineno-196-25" href="#__codelineno-196-25"></a>kubernetesMonitoring:
<a id="__codelineno-196-26" name="__codelineno-196-26" href="#__codelineno-196-26"></a>
<a id="__codelineno-196-27" name="__codelineno-196-27" href="#__codelineno-196-27"></a>
<a id="__codelineno-196-28" name="__codelineno-196-28" href="#__codelineno-196-28"></a>
<a id="__codelineno-196-29" name="__codelineno-196-29" href="#__codelineno-196-29"></a>enabled: true
<a id="__codelineno-196-30" name="__codelineno-196-30" href="#__codelineno-196-30"></a>
<a id="__codelineno-196-31" name="__codelineno-196-31" href="#__codelineno-196-31"></a>
<a id="__codelineno-196-32" name="__codelineno-196-32" href="#__codelineno-196-32"></a>
<a id="__codelineno-196-33" name="__codelineno-196-33" href="#__codelineno-196-33"></a>replicas: ...
<a id="__codelineno-196-34" name="__codelineno-196-34" href="#__codelineno-196-34"></a>
<a id="__codelineno-196-35" name="__codelineno-196-35" href="#__codelineno-196-35"></a>
<a id="__codelineno-196-36" name="__codelineno-196-36" href="#__codelineno-196-36"></a>
<a id="__codelineno-196-37" name="__codelineno-196-37" href="#__codelineno-196-37"></a>image: ...
<a id="__codelineno-196-38" name="__codelineno-196-38" href="#__codelineno-196-38"></a>
<a id="__codelineno-196-39" name="__codelineno-196-39" href="#__codelineno-196-39"></a>
<a id="__codelineno-196-40" name="__codelineno-196-40" href="#__codelineno-196-40"></a>
<a id="__codelineno-196-41" name="__codelineno-196-41" href="#__codelineno-196-41"></a>group: ...
<a id="__codelineno-196-42" name="__codelineno-196-42" href="#__codelineno-196-42"></a>
<a id="__codelineno-196-43" name="__codelineno-196-43" href="#__codelineno-196-43"></a>
<a id="__codelineno-196-44" name="__codelineno-196-44" href="#__codelineno-196-44"></a>
<a id="__codelineno-196-45" name="__codelineno-196-45" href="#__codelineno-196-45"></a>customProperties: ...
<a id="__codelineno-196-46" name="__codelineno-196-46" href="#__codelineno-196-46"></a>
<a id="__codelineno-196-47" name="__codelineno-196-47" href="#__codelineno-196-47"></a>
<a id="__codelineno-196-48" name="__codelineno-196-48" href="#__codelineno-196-48"></a>
<a id="__codelineno-196-49" name="__codelineno-196-49" href="#__codelineno-196-49"></a>resources: ...
<a id="__codelineno-196-50" name="__codelineno-196-50" href="#__codelineno-196-50"></a>
<a id="__codelineno-196-51" name="__codelineno-196-51" href="#__codelineno-196-51"></a>
<a id="__codelineno-196-52" name="__codelineno-196-52" href="#__codelineno-196-52"></a>
<a id="__codelineno-196-53" name="__codelineno-196-53" href="#__codelineno-196-53"></a>nodeSelector: ...
<a id="__codelineno-196-54" name="__codelineno-196-54" href="#__codelineno-196-54"></a>
<a id="__codelineno-196-55" name="__codelineno-196-55" href="#__codelineno-196-55"></a>
<a id="__codelineno-196-56" name="__codelineno-196-56" href="#__codelineno-196-56"></a>
<a id="__codelineno-196-57" name="__codelineno-196-57" href="#__codelineno-196-57"></a>tolerations: ...
<a id="__codelineno-196-58" name="__codelineno-196-58" href="#__codelineno-196-58"></a>
<a id="__codelineno-196-59" name="__codelineno-196-59" href="#__codelineno-196-59"></a>
<a id="__codelineno-196-60" name="__codelineno-196-60" href="#__codelineno-196-60"></a>
<a id="__codelineno-196-61" name="__codelineno-196-61" href="#__codelineno-196-61"></a>labels: ...
<a id="__codelineno-196-62" name="__codelineno-196-62" href="#__codelineno-196-62"></a>
<a id="__codelineno-196-63" name="__codelineno-196-63" href="#__codelineno-196-63"></a>
<a id="__codelineno-196-64" name="__codelineno-196-64" href="#__codelineno-196-64"></a>
<a id="__codelineno-196-65" name="__codelineno-196-65" href="#__codelineno-196-65"></a>env: ...
<a id="__codelineno-196-66" name="__codelineno-196-66" href="#__codelineno-196-66"></a>
<a id="__codelineno-196-67" name="__codelineno-196-67" href="#__codelineno-196-67"></a>
<a id="__codelineno-196-68" name="__codelineno-196-68" href="#__codelineno-196-68"></a>
<a id="__codelineno-196-69" name="__codelineno-196-69" href="#__codelineno-196-69"></a>#...
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-197-1" name="__codelineno-197-1" href="#__codelineno-197-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-197-2" name="__codelineno-197-2" href="#__codelineno-197-2"></a>
<a id="__codelineno-197-3" name="__codelineno-197-3" href="#__codelineno-197-3"></a>
<a id="__codelineno-197-4" name="__codelineno-197-4" href="#__codelineno-197-4"></a>
<a id="__codelineno-197-5" name="__codelineno-197-5" href="#__codelineno-197-5"></a>kind: DynaKube
<a id="__codelineno-197-6" name="__codelineno-197-6" href="#__codelineno-197-6"></a>
<a id="__codelineno-197-7" name="__codelineno-197-7" href="#__codelineno-197-7"></a>
<a id="__codelineno-197-8" name="__codelineno-197-8" href="#__codelineno-197-8"></a>
<a id="__codelineno-197-9" name="__codelineno-197-9" href="#__codelineno-197-9"></a>metadata:
<a id="__codelineno-197-10" name="__codelineno-197-10" href="#__codelineno-197-10"></a>
<a id="__codelineno-197-11" name="__codelineno-197-11" href="#__codelineno-197-11"></a>
<a id="__codelineno-197-12" name="__codelineno-197-12" href="#__codelineno-197-12"></a>
<a id="__codelineno-197-13" name="__codelineno-197-13" href="#__codelineno-197-13"></a>name: example
<a id="__codelineno-197-14" name="__codelineno-197-14" href="#__codelineno-197-14"></a>
<a id="__codelineno-197-15" name="__codelineno-197-15" href="#__codelineno-197-15"></a>
<a id="__codelineno-197-16" name="__codelineno-197-16" href="#__codelineno-197-16"></a>
<a id="__codelineno-197-17" name="__codelineno-197-17" href="#__codelineno-197-17"></a>namespace: dynatrace
<a id="__codelineno-197-18" name="__codelineno-197-18" href="#__codelineno-197-18"></a>
<a id="__codelineno-197-19" name="__codelineno-197-19" href="#__codelineno-197-19"></a>
<a id="__codelineno-197-20" name="__codelineno-197-20" href="#__codelineno-197-20"></a>
<a id="__codelineno-197-21" name="__codelineno-197-21" href="#__codelineno-197-21"></a>spec:
<a id="__codelineno-197-22" name="__codelineno-197-22" href="#__codelineno-197-22"></a>
<a id="__codelineno-197-23" name="__codelineno-197-23" href="#__codelineno-197-23"></a>
<a id="__codelineno-197-24" name="__codelineno-197-24" href="#__codelineno-197-24"></a>
<a id="__codelineno-197-25" name="__codelineno-197-25" href="#__codelineno-197-25"></a>activeGate:
<a id="__codelineno-197-26" name="__codelineno-197-26" href="#__codelineno-197-26"></a>
<a id="__codelineno-197-27" name="__codelineno-197-27" href="#__codelineno-197-27"></a>
<a id="__codelineno-197-28" name="__codelineno-197-28" href="#__codelineno-197-28"></a>
<a id="__codelineno-197-29" name="__codelineno-197-29" href="#__codelineno-197-29"></a>capabilities:
<a id="__codelineno-197-30" name="__codelineno-197-30" href="#__codelineno-197-30"></a>
<a id="__codelineno-197-31" name="__codelineno-197-31" href="#__codelineno-197-31"></a>
<a id="__codelineno-197-32" name="__codelineno-197-32" href="#__codelineno-197-32"></a>
<a id="__codelineno-197-33" name="__codelineno-197-33" href="#__codelineno-197-33"></a>- kubernetes-monitoring #&lt;-- explicitly enable Kubernetes monitoring
<a id="__codelineno-197-34" name="__codelineno-197-34" href="#__codelineno-197-34"></a>
<a id="__codelineno-197-35" name="__codelineno-197-35" href="#__codelineno-197-35"></a>
<a id="__codelineno-197-36" name="__codelineno-197-36" href="#__codelineno-197-36"></a>
<a id="__codelineno-197-37" name="__codelineno-197-37" href="#__codelineno-197-37"></a>replicas: ...
<a id="__codelineno-197-38" name="__codelineno-197-38" href="#__codelineno-197-38"></a>
<a id="__codelineno-197-39" name="__codelineno-197-39" href="#__codelineno-197-39"></a>
<a id="__codelineno-197-40" name="__codelineno-197-40" href="#__codelineno-197-40"></a>
<a id="__codelineno-197-41" name="__codelineno-197-41" href="#__codelineno-197-41"></a>image: ...
<a id="__codelineno-197-42" name="__codelineno-197-42" href="#__codelineno-197-42"></a>
<a id="__codelineno-197-43" name="__codelineno-197-43" href="#__codelineno-197-43"></a>
<a id="__codelineno-197-44" name="__codelineno-197-44" href="#__codelineno-197-44"></a>
<a id="__codelineno-197-45" name="__codelineno-197-45" href="#__codelineno-197-45"></a>group: ...
<a id="__codelineno-197-46" name="__codelineno-197-46" href="#__codelineno-197-46"></a>
<a id="__codelineno-197-47" name="__codelineno-197-47" href="#__codelineno-197-47"></a>
<a id="__codelineno-197-48" name="__codelineno-197-48" href="#__codelineno-197-48"></a>
<a id="__codelineno-197-49" name="__codelineno-197-49" href="#__codelineno-197-49"></a>customProperties: ...
<a id="__codelineno-197-50" name="__codelineno-197-50" href="#__codelineno-197-50"></a>
<a id="__codelineno-197-51" name="__codelineno-197-51" href="#__codelineno-197-51"></a>
<a id="__codelineno-197-52" name="__codelineno-197-52" href="#__codelineno-197-52"></a>
<a id="__codelineno-197-53" name="__codelineno-197-53" href="#__codelineno-197-53"></a>resources: ...
<a id="__codelineno-197-54" name="__codelineno-197-54" href="#__codelineno-197-54"></a>
<a id="__codelineno-197-55" name="__codelineno-197-55" href="#__codelineno-197-55"></a>
<a id="__codelineno-197-56" name="__codelineno-197-56" href="#__codelineno-197-56"></a>
<a id="__codelineno-197-57" name="__codelineno-197-57" href="#__codelineno-197-57"></a>nodeSelector: ...
<a id="__codelineno-197-58" name="__codelineno-197-58" href="#__codelineno-197-58"></a>
<a id="__codelineno-197-59" name="__codelineno-197-59" href="#__codelineno-197-59"></a>
<a id="__codelineno-197-60" name="__codelineno-197-60" href="#__codelineno-197-60"></a>
<a id="__codelineno-197-61" name="__codelineno-197-61" href="#__codelineno-197-61"></a>tolerations: ...
<a id="__codelineno-197-62" name="__codelineno-197-62" href="#__codelineno-197-62"></a>
<a id="__codelineno-197-63" name="__codelineno-197-63" href="#__codelineno-197-63"></a>
<a id="__codelineno-197-64" name="__codelineno-197-64" href="#__codelineno-197-64"></a>
<a id="__codelineno-197-65" name="__codelineno-197-65" href="#__codelineno-197-65"></a>labels: ...
<a id="__codelineno-197-66" name="__codelineno-197-66" href="#__codelineno-197-66"></a>
<a id="__codelineno-197-67" name="__codelineno-197-67" href="#__codelineno-197-67"></a>
<a id="__codelineno-197-68" name="__codelineno-197-68" href="#__codelineno-197-68"></a>
<a id="__codelineno-197-69" name="__codelineno-197-69" href="#__codelineno-197-69"></a>env: ...
<a id="__codelineno-197-70" name="__codelineno-197-70" href="#__codelineno-197-70"></a>
<a id="__codelineno-197-71" name="__codelineno-197-71" href="#__codelineno-197-71"></a>
<a id="__codelineno-197-72" name="__codelineno-197-72" href="#__codelineno-197-72"></a>
<a id="__codelineno-197-73" name="__codelineno-197-73" href="#__codelineno-197-73"></a>#...
</code></pre></div>
<h4 id="specrouting_1"><code>spec.routing</code><a class="headerlink" href="#specrouting_1" title="Permanent link">&para;</a></h4>
<p>The deprecated field <code>spec.routing</code> was removed in favor of using the current <code>spec.activeGate</code> section. This example shows you before and after:</p>
<p><strong>Before</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-198-1" name="__codelineno-198-1" href="#__codelineno-198-1"></a>apiVersion: dynatrace.com/v1beta1
<a id="__codelineno-198-2" name="__codelineno-198-2" href="#__codelineno-198-2"></a>
<a id="__codelineno-198-3" name="__codelineno-198-3" href="#__codelineno-198-3"></a>
<a id="__codelineno-198-4" name="__codelineno-198-4" href="#__codelineno-198-4"></a>
<a id="__codelineno-198-5" name="__codelineno-198-5" href="#__codelineno-198-5"></a>kind: DynaKube
<a id="__codelineno-198-6" name="__codelineno-198-6" href="#__codelineno-198-6"></a>
<a id="__codelineno-198-7" name="__codelineno-198-7" href="#__codelineno-198-7"></a>
<a id="__codelineno-198-8" name="__codelineno-198-8" href="#__codelineno-198-8"></a>
<a id="__codelineno-198-9" name="__codelineno-198-9" href="#__codelineno-198-9"></a>metadata:
<a id="__codelineno-198-10" name="__codelineno-198-10" href="#__codelineno-198-10"></a>
<a id="__codelineno-198-11" name="__codelineno-198-11" href="#__codelineno-198-11"></a>
<a id="__codelineno-198-12" name="__codelineno-198-12" href="#__codelineno-198-12"></a>
<a id="__codelineno-198-13" name="__codelineno-198-13" href="#__codelineno-198-13"></a>name: example
<a id="__codelineno-198-14" name="__codelineno-198-14" href="#__codelineno-198-14"></a>
<a id="__codelineno-198-15" name="__codelineno-198-15" href="#__codelineno-198-15"></a>
<a id="__codelineno-198-16" name="__codelineno-198-16" href="#__codelineno-198-16"></a>
<a id="__codelineno-198-17" name="__codelineno-198-17" href="#__codelineno-198-17"></a>namespace: dynatrace
<a id="__codelineno-198-18" name="__codelineno-198-18" href="#__codelineno-198-18"></a>
<a id="__codelineno-198-19" name="__codelineno-198-19" href="#__codelineno-198-19"></a>
<a id="__codelineno-198-20" name="__codelineno-198-20" href="#__codelineno-198-20"></a>
<a id="__codelineno-198-21" name="__codelineno-198-21" href="#__codelineno-198-21"></a>spec:
<a id="__codelineno-198-22" name="__codelineno-198-22" href="#__codelineno-198-22"></a>
<a id="__codelineno-198-23" name="__codelineno-198-23" href="#__codelineno-198-23"></a>
<a id="__codelineno-198-24" name="__codelineno-198-24" href="#__codelineno-198-24"></a>
<a id="__codelineno-198-25" name="__codelineno-198-25" href="#__codelineno-198-25"></a>routing:
<a id="__codelineno-198-26" name="__codelineno-198-26" href="#__codelineno-198-26"></a>
<a id="__codelineno-198-27" name="__codelineno-198-27" href="#__codelineno-198-27"></a>
<a id="__codelineno-198-28" name="__codelineno-198-28" href="#__codelineno-198-28"></a>
<a id="__codelineno-198-29" name="__codelineno-198-29" href="#__codelineno-198-29"></a>enabled: true
<a id="__codelineno-198-30" name="__codelineno-198-30" href="#__codelineno-198-30"></a>
<a id="__codelineno-198-31" name="__codelineno-198-31" href="#__codelineno-198-31"></a>
<a id="__codelineno-198-32" name="__codelineno-198-32" href="#__codelineno-198-32"></a>
<a id="__codelineno-198-33" name="__codelineno-198-33" href="#__codelineno-198-33"></a>replicas: ...
<a id="__codelineno-198-34" name="__codelineno-198-34" href="#__codelineno-198-34"></a>
<a id="__codelineno-198-35" name="__codelineno-198-35" href="#__codelineno-198-35"></a>
<a id="__codelineno-198-36" name="__codelineno-198-36" href="#__codelineno-198-36"></a>
<a id="__codelineno-198-37" name="__codelineno-198-37" href="#__codelineno-198-37"></a>image: ...
<a id="__codelineno-198-38" name="__codelineno-198-38" href="#__codelineno-198-38"></a>
<a id="__codelineno-198-39" name="__codelineno-198-39" href="#__codelineno-198-39"></a>
<a id="__codelineno-198-40" name="__codelineno-198-40" href="#__codelineno-198-40"></a>
<a id="__codelineno-198-41" name="__codelineno-198-41" href="#__codelineno-198-41"></a>group: ...
<a id="__codelineno-198-42" name="__codelineno-198-42" href="#__codelineno-198-42"></a>
<a id="__codelineno-198-43" name="__codelineno-198-43" href="#__codelineno-198-43"></a>
<a id="__codelineno-198-44" name="__codelineno-198-44" href="#__codelineno-198-44"></a>
<a id="__codelineno-198-45" name="__codelineno-198-45" href="#__codelineno-198-45"></a>customProperties: ...
<a id="__codelineno-198-46" name="__codelineno-198-46" href="#__codelineno-198-46"></a>
<a id="__codelineno-198-47" name="__codelineno-198-47" href="#__codelineno-198-47"></a>
<a id="__codelineno-198-48" name="__codelineno-198-48" href="#__codelineno-198-48"></a>
<a id="__codelineno-198-49" name="__codelineno-198-49" href="#__codelineno-198-49"></a>resources: ...
<a id="__codelineno-198-50" name="__codelineno-198-50" href="#__codelineno-198-50"></a>
<a id="__codelineno-198-51" name="__codelineno-198-51" href="#__codelineno-198-51"></a>
<a id="__codelineno-198-52" name="__codelineno-198-52" href="#__codelineno-198-52"></a>
<a id="__codelineno-198-53" name="__codelineno-198-53" href="#__codelineno-198-53"></a>nodeSelector: ...
<a id="__codelineno-198-54" name="__codelineno-198-54" href="#__codelineno-198-54"></a>
<a id="__codelineno-198-55" name="__codelineno-198-55" href="#__codelineno-198-55"></a>
<a id="__codelineno-198-56" name="__codelineno-198-56" href="#__codelineno-198-56"></a>
<a id="__codelineno-198-57" name="__codelineno-198-57" href="#__codelineno-198-57"></a>tolerations: ...
<a id="__codelineno-198-58" name="__codelineno-198-58" href="#__codelineno-198-58"></a>
<a id="__codelineno-198-59" name="__codelineno-198-59" href="#__codelineno-198-59"></a>
<a id="__codelineno-198-60" name="__codelineno-198-60" href="#__codelineno-198-60"></a>
<a id="__codelineno-198-61" name="__codelineno-198-61" href="#__codelineno-198-61"></a>labels: ...
<a id="__codelineno-198-62" name="__codelineno-198-62" href="#__codelineno-198-62"></a>
<a id="__codelineno-198-63" name="__codelineno-198-63" href="#__codelineno-198-63"></a>
<a id="__codelineno-198-64" name="__codelineno-198-64" href="#__codelineno-198-64"></a>
<a id="__codelineno-198-65" name="__codelineno-198-65" href="#__codelineno-198-65"></a>env: ...
<a id="__codelineno-198-66" name="__codelineno-198-66" href="#__codelineno-198-66"></a>
<a id="__codelineno-198-67" name="__codelineno-198-67" href="#__codelineno-198-67"></a>
<a id="__codelineno-198-68" name="__codelineno-198-68" href="#__codelineno-198-68"></a>
<a id="__codelineno-198-69" name="__codelineno-198-69" href="#__codelineno-198-69"></a>#...
</code></pre></div>
<p><strong>After</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-199-1" name="__codelineno-199-1" href="#__codelineno-199-1"></a>apiVersion: dynatrace.com/v1beta4
<a id="__codelineno-199-2" name="__codelineno-199-2" href="#__codelineno-199-2"></a>
<a id="__codelineno-199-3" name="__codelineno-199-3" href="#__codelineno-199-3"></a>
<a id="__codelineno-199-4" name="__codelineno-199-4" href="#__codelineno-199-4"></a>
<a id="__codelineno-199-5" name="__codelineno-199-5" href="#__codelineno-199-5"></a>kind: DynaKube
<a id="__codelineno-199-6" name="__codelineno-199-6" href="#__codelineno-199-6"></a>
<a id="__codelineno-199-7" name="__codelineno-199-7" href="#__codelineno-199-7"></a>
<a id="__codelineno-199-8" name="__codelineno-199-8" href="#__codelineno-199-8"></a>
<a id="__codelineno-199-9" name="__codelineno-199-9" href="#__codelineno-199-9"></a>metadata:
<a id="__codelineno-199-10" name="__codelineno-199-10" href="#__codelineno-199-10"></a>
<a id="__codelineno-199-11" name="__codelineno-199-11" href="#__codelineno-199-11"></a>
<a id="__codelineno-199-12" name="__codelineno-199-12" href="#__codelineno-199-12"></a>
<a id="__codelineno-199-13" name="__codelineno-199-13" href="#__codelineno-199-13"></a>name: example
<a id="__codelineno-199-14" name="__codelineno-199-14" href="#__codelineno-199-14"></a>
<a id="__codelineno-199-15" name="__codelineno-199-15" href="#__codelineno-199-15"></a>
<a id="__codelineno-199-16" name="__codelineno-199-16" href="#__codelineno-199-16"></a>
<a id="__codelineno-199-17" name="__codelineno-199-17" href="#__codelineno-199-17"></a>namespace: dynatrace
<a id="__codelineno-199-18" name="__codelineno-199-18" href="#__codelineno-199-18"></a>
<a id="__codelineno-199-19" name="__codelineno-199-19" href="#__codelineno-199-19"></a>
<a id="__codelineno-199-20" name="__codelineno-199-20" href="#__codelineno-199-20"></a>
<a id="__codelineno-199-21" name="__codelineno-199-21" href="#__codelineno-199-21"></a>spec:
<a id="__codelineno-199-22" name="__codelineno-199-22" href="#__codelineno-199-22"></a>
<a id="__codelineno-199-23" name="__codelineno-199-23" href="#__codelineno-199-23"></a>
<a id="__codelineno-199-24" name="__codelineno-199-24" href="#__codelineno-199-24"></a>
<a id="__codelineno-199-25" name="__codelineno-199-25" href="#__codelineno-199-25"></a>activeGate:
<a id="__codelineno-199-26" name="__codelineno-199-26" href="#__codelineno-199-26"></a>
<a id="__codelineno-199-27" name="__codelineno-199-27" href="#__codelineno-199-27"></a>
<a id="__codelineno-199-28" name="__codelineno-199-28" href="#__codelineno-199-28"></a>
<a id="__codelineno-199-29" name="__codelineno-199-29" href="#__codelineno-199-29"></a>capabilities:
<a id="__codelineno-199-30" name="__codelineno-199-30" href="#__codelineno-199-30"></a>
<a id="__codelineno-199-31" name="__codelineno-199-31" href="#__codelineno-199-31"></a>
<a id="__codelineno-199-32" name="__codelineno-199-32" href="#__codelineno-199-32"></a>
<a id="__codelineno-199-33" name="__codelineno-199-33" href="#__codelineno-199-33"></a>- routing #&lt;-- explicitly enable routing
<a id="__codelineno-199-34" name="__codelineno-199-34" href="#__codelineno-199-34"></a>
<a id="__codelineno-199-35" name="__codelineno-199-35" href="#__codelineno-199-35"></a>
<a id="__codelineno-199-36" name="__codelineno-199-36" href="#__codelineno-199-36"></a>
<a id="__codelineno-199-37" name="__codelineno-199-37" href="#__codelineno-199-37"></a>replicas: ...
<a id="__codelineno-199-38" name="__codelineno-199-38" href="#__codelineno-199-38"></a>
<a id="__codelineno-199-39" name="__codelineno-199-39" href="#__codelineno-199-39"></a>
<a id="__codelineno-199-40" name="__codelineno-199-40" href="#__codelineno-199-40"></a>
<a id="__codelineno-199-41" name="__codelineno-199-41" href="#__codelineno-199-41"></a>image: ...
<a id="__codelineno-199-42" name="__codelineno-199-42" href="#__codelineno-199-42"></a>
<a id="__codelineno-199-43" name="__codelineno-199-43" href="#__codelineno-199-43"></a>
<a id="__codelineno-199-44" name="__codelineno-199-44" href="#__codelineno-199-44"></a>
<a id="__codelineno-199-45" name="__codelineno-199-45" href="#__codelineno-199-45"></a>group: ...
<a id="__codelineno-199-46" name="__codelineno-199-46" href="#__codelineno-199-46"></a>
<a id="__codelineno-199-47" name="__codelineno-199-47" href="#__codelineno-199-47"></a>
<a id="__codelineno-199-48" name="__codelineno-199-48" href="#__codelineno-199-48"></a>
<a id="__codelineno-199-49" name="__codelineno-199-49" href="#__codelineno-199-49"></a>customProperties: ...
<a id="__codelineno-199-50" name="__codelineno-199-50" href="#__codelineno-199-50"></a>
<a id="__codelineno-199-51" name="__codelineno-199-51" href="#__codelineno-199-51"></a>
<a id="__codelineno-199-52" name="__codelineno-199-52" href="#__codelineno-199-52"></a>
<a id="__codelineno-199-53" name="__codelineno-199-53" href="#__codelineno-199-53"></a>resources: ...
<a id="__codelineno-199-54" name="__codelineno-199-54" href="#__codelineno-199-54"></a>
<a id="__codelineno-199-55" name="__codelineno-199-55" href="#__codelineno-199-55"></a>
<a id="__codelineno-199-56" name="__codelineno-199-56" href="#__codelineno-199-56"></a>
<a id="__codelineno-199-57" name="__codelineno-199-57" href="#__codelineno-199-57"></a>nodeSelector: ...
<a id="__codelineno-199-58" name="__codelineno-199-58" href="#__codelineno-199-58"></a>
<a id="__codelineno-199-59" name="__codelineno-199-59" href="#__codelineno-199-59"></a>
<a id="__codelineno-199-60" name="__codelineno-199-60" href="#__codelineno-199-60"></a>
<a id="__codelineno-199-61" name="__codelineno-199-61" href="#__codelineno-199-61"></a>tolerations: ...
<a id="__codelineno-199-62" name="__codelineno-199-62" href="#__codelineno-199-62"></a>
<a id="__codelineno-199-63" name="__codelineno-199-63" href="#__codelineno-199-63"></a>
<a id="__codelineno-199-64" name="__codelineno-199-64" href="#__codelineno-199-64"></a>
<a id="__codelineno-199-65" name="__codelineno-199-65" href="#__codelineno-199-65"></a>labels: ...
<a id="__codelineno-199-66" name="__codelineno-199-66" href="#__codelineno-199-66"></a>
<a id="__codelineno-199-67" name="__codelineno-199-67" href="#__codelineno-199-67"></a>
<a id="__codelineno-199-68" name="__codelineno-199-68" href="#__codelineno-199-68"></a>
<a id="__codelineno-199-69" name="__codelineno-199-69" href="#__codelineno-199-69"></a>env: ...
<a id="__codelineno-199-70" name="__codelineno-199-70" href="#__codelineno-199-70"></a>
<a id="__codelineno-199-71" name="__codelineno-199-71" href="#__codelineno-199-71"></a>
<a id="__codelineno-199-72" name="__codelineno-199-72" href="#__codelineno-199-72"></a>
<a id="__codelineno-199-73" name="__codelineno-199-73" href="#__codelineno-199-73"></a>#...
</code></pre></div>
<hr />
<h2 id="source-migrate-dk-v1beta2-v1beta4md">Source: migrate-dk-v1beta2-v1beta4.md<a class="headerlink" href="#source-migrate-dk-v1beta2-v1beta4md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta2 to v1beta4
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta2-v1beta4
scraped: 2026-02-15T21:25:27.203240</p>
<hr />
<h1 id="migration-of-dynakube-v1beta2-to-v1beta4">Migration of DynaKube v1beta2 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta2-to-v1beta4" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta2-to-v1beta4_1">Migration of DynaKube v1beta2 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta2-to-v1beta4_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta2</code> to <code>apiVersion: dynatrace.com/v1beta4</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_2">Support lifecycle<a class="headerlink" href="#support-lifecycle_2" title="Permanent link">&para;</a></h2>
<h3 id="v1beta2">v1beta2<a class="headerlink" href="#v1beta2" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.2.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<p><strong>Last supported in</strong>: Dynatrace Operator version 1.6.2</p>
<h3 id="v1beta4_1">v1beta4<a class="headerlink" href="#v1beta4_1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.5.0</p>
<h2 id="changes_2">Changes<a class="headerlink" href="#changes_2" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="replaced-feature-flags_2">Replaced feature flags<a class="headerlink" href="#replaced-feature-flags_2" title="Permanent link">&para;</a></h3>
<h4 id="new-csi-mount-timeout-feature-flag_2">New CSI mount timeout feature flag<a class="headerlink" href="#new-csi-mount-timeout-feature-flag_2" title="Permanent link">&para;</a></h4>
<p>The feature flag that controlled how many mount attempts the CSI driver would make before stopping (<code>feature.dynatrace.com/max-csi-mount-attempts: 5</code>) has been replaced with a timeout-based feature flag. This was done due to the difficulty of determining how many attempts equal a given timeout.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-200-1" name="__codelineno-200-1" href="#__codelineno-200-1"></a>feature.dynatrace.com/max-csi-mount-timeout: &quot;8m&quot; # replaces feature.dynatrace.com/max-csi-mount-attempts: &quot;10&quot;
</code></pre></div>
<h3 id="deprecated-fields_2">Deprecated fields<a class="headerlink" href="#deprecated-fields_2" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_2">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_2" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-201-1" name="__codelineno-201-1" href="#__codelineno-201-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-201-2" name="__codelineno-201-2" href="#__codelineno-201-2"></a>
<a id="__codelineno-201-3" name="__codelineno-201-3" href="#__codelineno-201-3"></a>
<a id="__codelineno-201-4" name="__codelineno-201-4" href="#__codelineno-201-4"></a>
<a id="__codelineno-201-5" name="__codelineno-201-5" href="#__codelineno-201-5"></a>kind: DynaKube
<a id="__codelineno-201-6" name="__codelineno-201-6" href="#__codelineno-201-6"></a>
<a id="__codelineno-201-7" name="__codelineno-201-7" href="#__codelineno-201-7"></a>
<a id="__codelineno-201-8" name="__codelineno-201-8" href="#__codelineno-201-8"></a>
<a id="__codelineno-201-9" name="__codelineno-201-9" href="#__codelineno-201-9"></a>metadata:
<a id="__codelineno-201-10" name="__codelineno-201-10" href="#__codelineno-201-10"></a>
<a id="__codelineno-201-11" name="__codelineno-201-11" href="#__codelineno-201-11"></a>
<a id="__codelineno-201-12" name="__codelineno-201-12" href="#__codelineno-201-12"></a>
<a id="__codelineno-201-13" name="__codelineno-201-13" href="#__codelineno-201-13"></a>name: example
<a id="__codelineno-201-14" name="__codelineno-201-14" href="#__codelineno-201-14"></a>
<a id="__codelineno-201-15" name="__codelineno-201-15" href="#__codelineno-201-15"></a>
<a id="__codelineno-201-16" name="__codelineno-201-16" href="#__codelineno-201-16"></a>
<a id="__codelineno-201-17" name="__codelineno-201-17" href="#__codelineno-201-17"></a>namespace: dynatrace
<a id="__codelineno-201-18" name="__codelineno-201-18" href="#__codelineno-201-18"></a>
<a id="__codelineno-201-19" name="__codelineno-201-19" href="#__codelineno-201-19"></a>
<a id="__codelineno-201-20" name="__codelineno-201-20" href="#__codelineno-201-20"></a>
<a id="__codelineno-201-21" name="__codelineno-201-21" href="#__codelineno-201-21"></a>spec:
<a id="__codelineno-201-22" name="__codelineno-201-22" href="#__codelineno-201-22"></a>
<a id="__codelineno-201-23" name="__codelineno-201-23" href="#__codelineno-201-23"></a>
<a id="__codelineno-201-24" name="__codelineno-201-24" href="#__codelineno-201-24"></a>
<a id="__codelineno-201-25" name="__codelineno-201-25" href="#__codelineno-201-25"></a>oneAgent:
<a id="__codelineno-201-26" name="__codelineno-201-26" href="#__codelineno-201-26"></a>
<a id="__codelineno-201-27" name="__codelineno-201-27" href="#__codelineno-201-27"></a>
<a id="__codelineno-201-28" name="__codelineno-201-28" href="#__codelineno-201-28"></a>
<a id="__codelineno-201-29" name="__codelineno-201-29" href="#__codelineno-201-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-201-30" name="__codelineno-201-30" href="#__codelineno-201-30"></a>
<a id="__codelineno-201-31" name="__codelineno-201-31" href="#__codelineno-201-31"></a>
<a id="__codelineno-201-32" name="__codelineno-201-32" href="#__codelineno-201-32"></a>
<a id="__codelineno-201-33" name="__codelineno-201-33" href="#__codelineno-201-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-202-1" name="__codelineno-202-1" href="#__codelineno-202-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-202-2" name="__codelineno-202-2" href="#__codelineno-202-2"></a>
<a id="__codelineno-202-3" name="__codelineno-202-3" href="#__codelineno-202-3"></a>
<a id="__codelineno-202-4" name="__codelineno-202-4" href="#__codelineno-202-4"></a>
<a id="__codelineno-202-5" name="__codelineno-202-5" href="#__codelineno-202-5"></a>kind: DynaKube
<a id="__codelineno-202-6" name="__codelineno-202-6" href="#__codelineno-202-6"></a>
<a id="__codelineno-202-7" name="__codelineno-202-7" href="#__codelineno-202-7"></a>
<a id="__codelineno-202-8" name="__codelineno-202-8" href="#__codelineno-202-8"></a>
<a id="__codelineno-202-9" name="__codelineno-202-9" href="#__codelineno-202-9"></a>metadata:
<a id="__codelineno-202-10" name="__codelineno-202-10" href="#__codelineno-202-10"></a>
<a id="__codelineno-202-11" name="__codelineno-202-11" href="#__codelineno-202-11"></a>
<a id="__codelineno-202-12" name="__codelineno-202-12" href="#__codelineno-202-12"></a>
<a id="__codelineno-202-13" name="__codelineno-202-13" href="#__codelineno-202-13"></a>name: example
<a id="__codelineno-202-14" name="__codelineno-202-14" href="#__codelineno-202-14"></a>
<a id="__codelineno-202-15" name="__codelineno-202-15" href="#__codelineno-202-15"></a>
<a id="__codelineno-202-16" name="__codelineno-202-16" href="#__codelineno-202-16"></a>
<a id="__codelineno-202-17" name="__codelineno-202-17" href="#__codelineno-202-17"></a>namespace: dynatrace
<a id="__codelineno-202-18" name="__codelineno-202-18" href="#__codelineno-202-18"></a>
<a id="__codelineno-202-19" name="__codelineno-202-19" href="#__codelineno-202-19"></a>
<a id="__codelineno-202-20" name="__codelineno-202-20" href="#__codelineno-202-20"></a>
<a id="__codelineno-202-21" name="__codelineno-202-21" href="#__codelineno-202-21"></a>spec:
<a id="__codelineno-202-22" name="__codelineno-202-22" href="#__codelineno-202-22"></a>
<a id="__codelineno-202-23" name="__codelineno-202-23" href="#__codelineno-202-23"></a>
<a id="__codelineno-202-24" name="__codelineno-202-24" href="#__codelineno-202-24"></a>
<a id="__codelineno-202-25" name="__codelineno-202-25" href="#__codelineno-202-25"></a>oneAgent:
<a id="__codelineno-202-26" name="__codelineno-202-26" href="#__codelineno-202-26"></a>
<a id="__codelineno-202-27" name="__codelineno-202-27" href="#__codelineno-202-27"></a>
<a id="__codelineno-202-28" name="__codelineno-202-28" href="#__codelineno-202-28"></a>
<a id="__codelineno-202-29" name="__codelineno-202-29" href="#__codelineno-202-29"></a>cloudNativeFullstack:
<a id="__codelineno-202-30" name="__codelineno-202-30" href="#__codelineno-202-30"></a>
<a id="__codelineno-202-31" name="__codelineno-202-31" href="#__codelineno-202-31"></a>
<a id="__codelineno-202-32" name="__codelineno-202-32" href="#__codelineno-202-32"></a>
<a id="__codelineno-202-33" name="__codelineno-202-33" href="#__codelineno-202-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-202-34" name="__codelineno-202-34" href="#__codelineno-202-34"></a>
<a id="__codelineno-202-35" name="__codelineno-202-35" href="#__codelineno-202-35"></a>
<a id="__codelineno-202-36" name="__codelineno-202-36" href="#__codelineno-202-36"></a>
<a id="__codelineno-202-37" name="__codelineno-202-37" href="#__codelineno-202-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-202-38" name="__codelineno-202-38" href="#__codelineno-202-38"></a>
<a id="__codelineno-202-39" name="__codelineno-202-39" href="#__codelineno-202-39"></a>
<a id="__codelineno-202-40" name="__codelineno-202-40" href="#__codelineno-202-40"></a>
<a id="__codelineno-202-41" name="__codelineno-202-41" href="#__codelineno-202-41"></a># ...
<a id="__codelineno-202-42" name="__codelineno-202-42" href="#__codelineno-202-42"></a>
<a id="__codelineno-202-43" name="__codelineno-202-43" href="#__codelineno-202-43"></a>
<a id="__codelineno-202-44" name="__codelineno-202-44" href="#__codelineno-202-44"></a>
<a id="__codelineno-202-45" name="__codelineno-202-45" href="#__codelineno-202-45"></a>---
<a id="__codelineno-202-46" name="__codelineno-202-46" href="#__codelineno-202-46"></a>
<a id="__codelineno-202-47" name="__codelineno-202-47" href="#__codelineno-202-47"></a>
<a id="__codelineno-202-48" name="__codelineno-202-48" href="#__codelineno-202-48"></a>
<a id="__codelineno-202-49" name="__codelineno-202-49" href="#__codelineno-202-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-202-50" name="__codelineno-202-50" href="#__codelineno-202-50"></a>
<a id="__codelineno-202-51" name="__codelineno-202-51" href="#__codelineno-202-51"></a>
<a id="__codelineno-202-52" name="__codelineno-202-52" href="#__codelineno-202-52"></a>
<a id="__codelineno-202-53" name="__codelineno-202-53" href="#__codelineno-202-53"></a>kind: DynaKube
<a id="__codelineno-202-54" name="__codelineno-202-54" href="#__codelineno-202-54"></a>
<a id="__codelineno-202-55" name="__codelineno-202-55" href="#__codelineno-202-55"></a>
<a id="__codelineno-202-56" name="__codelineno-202-56" href="#__codelineno-202-56"></a>
<a id="__codelineno-202-57" name="__codelineno-202-57" href="#__codelineno-202-57"></a>metadata:
<a id="__codelineno-202-58" name="__codelineno-202-58" href="#__codelineno-202-58"></a>
<a id="__codelineno-202-59" name="__codelineno-202-59" href="#__codelineno-202-59"></a>
<a id="__codelineno-202-60" name="__codelineno-202-60" href="#__codelineno-202-60"></a>
<a id="__codelineno-202-61" name="__codelineno-202-61" href="#__codelineno-202-61"></a>name: example
<a id="__codelineno-202-62" name="__codelineno-202-62" href="#__codelineno-202-62"></a>
<a id="__codelineno-202-63" name="__codelineno-202-63" href="#__codelineno-202-63"></a>
<a id="__codelineno-202-64" name="__codelineno-202-64" href="#__codelineno-202-64"></a>
<a id="__codelineno-202-65" name="__codelineno-202-65" href="#__codelineno-202-65"></a>namespace: dynatrace
<a id="__codelineno-202-66" name="__codelineno-202-66" href="#__codelineno-202-66"></a>
<a id="__codelineno-202-67" name="__codelineno-202-67" href="#__codelineno-202-67"></a>
<a id="__codelineno-202-68" name="__codelineno-202-68" href="#__codelineno-202-68"></a>
<a id="__codelineno-202-69" name="__codelineno-202-69" href="#__codelineno-202-69"></a>spec:
<a id="__codelineno-202-70" name="__codelineno-202-70" href="#__codelineno-202-70"></a>
<a id="__codelineno-202-71" name="__codelineno-202-71" href="#__codelineno-202-71"></a>
<a id="__codelineno-202-72" name="__codelineno-202-72" href="#__codelineno-202-72"></a>
<a id="__codelineno-202-73" name="__codelineno-202-73" href="#__codelineno-202-73"></a>oneAgent:
<a id="__codelineno-202-74" name="__codelineno-202-74" href="#__codelineno-202-74"></a>
<a id="__codelineno-202-75" name="__codelineno-202-75" href="#__codelineno-202-75"></a>
<a id="__codelineno-202-76" name="__codelineno-202-76" href="#__codelineno-202-76"></a>
<a id="__codelineno-202-77" name="__codelineno-202-77" href="#__codelineno-202-77"></a>cloudNativeFullstack:
<a id="__codelineno-202-78" name="__codelineno-202-78" href="#__codelineno-202-78"></a>
<a id="__codelineno-202-79" name="__codelineno-202-79" href="#__codelineno-202-79"></a>
<a id="__codelineno-202-80" name="__codelineno-202-80" href="#__codelineno-202-80"></a>
<a id="__codelineno-202-81" name="__codelineno-202-81" href="#__codelineno-202-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-202-82" name="__codelineno-202-82" href="#__codelineno-202-82"></a>
<a id="__codelineno-202-83" name="__codelineno-202-83" href="#__codelineno-202-83"></a>
<a id="__codelineno-202-84" name="__codelineno-202-84" href="#__codelineno-202-84"></a>
<a id="__codelineno-202-85" name="__codelineno-202-85" href="#__codelineno-202-85"></a># ...
</code></pre></div>
<h3 id="removed-fields_2">Removed fields<a class="headerlink" href="#removed-fields_2" title="Permanent link">&para;</a></h3>
<h4 id="specapplicationmonitoringusecsidriver_2"><code>spec.applicationMonitoring.useCSIDriver</code><a class="headerlink" href="#specapplicationmonitoringusecsidriver_2" title="Permanent link">&para;</a></h4>
<p>The <code>spec.applicationMonitoring.useCSIDriver: true/false</code> field has been removed.</p>
<p>The CSI driver is now used when installed as part of the Dynatrace Operator installation.</p>
<hr />
<h2 id="source-migrate-dk-v1beta2-v1beta5md">Source: migrate-dk-v1beta2-v1beta5.md<a class="headerlink" href="#source-migrate-dk-v1beta2-v1beta5md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta2 to v1beta5
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta2-v1beta5
scraped: 2026-02-17T05:11:57.736258</p>
<hr />
<h1 id="migration-of-dynakube-v1beta2-to-v1beta5">Migration of DynaKube v1beta2 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta2-to-v1beta5" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta2-to-v1beta5_1">Migration of DynaKube v1beta2 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta2-to-v1beta5_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 30, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta2</code> to <code>apiVersion: dynatrace.com/v1beta5</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_3">Support lifecycle<a class="headerlink" href="#support-lifecycle_3" title="Permanent link">&para;</a></h2>
<h3 id="v1beta2_1">v1beta2<a class="headerlink" href="#v1beta2_1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.2.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<p><strong>Last supported in</strong>: Dynatrace Operator version 1.6.2</p>
<h3 id="v1beta5_1">v1beta5<a class="headerlink" href="#v1beta5_1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.6.0</p>
<h2 id="changes_3">Changes<a class="headerlink" href="#changes_3" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="prepare-for-v1beta2-apiversion-removal">Prepare for v1beta2 apiVersion removal<a class="headerlink" href="#prepare-for-v1beta2-apiversion-removal" title="Permanent link">&para;</a></h3>
<p>Notice</p>
<p>DynaKube CRD v1beta2 apiVersion will be removed in a future release. We recommend that you prepare for this ahead of time.
User action will be required when upgrading from Dynatrace Operator version 1.3.0 and earlier.</p>
<p>Query the current storage version of the DynaKube CRD:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-203-1" name="__codelineno-203-1" href="#__codelineno-203-1"></a>kubectl get customresourcedefinitions dynakubes.dynatrace.com -o jsonpath=&#39;{.spec.versions[?(@.storage==true)].name}&#39;
</code></pre></div>
<p>Query the stored versions of the DynaKube CRD:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-204-1" name="__codelineno-204-1" href="#__codelineno-204-1"></a>kubectl get customresourcedefinitions dynakubes.dynatrace.com -o jsonpath=&#39;{.status.storedVersions}&#39;
</code></pre></div>
<p>If the <strong>stored versions list</strong> contains versions that will be removed with the CRD update, <strong>user intervention is required</strong>.</p>
<p>Make sure that the old apiVersion is no longer referenced by any manifest. This includes resources that load manifests from external sources, like Helm releases or ArgoCD applications.
When using GitOps, always check the source that manifests are synced from, because diffing may take conversion into account.</p>
<p>To ensure that the Kubernetes storage backend no longer contains outdated DynaKube objects, we recommend updating them in place.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-205-1" name="__codelineno-205-1" href="#__codelineno-205-1"></a>for item in $(kubectl get dynakubes.dynatrace.com -A -o jsonpath=&#39;{range .items[*]}{.metadata.namespace}{&quot;/&quot;}{.metadata.name}{&quot;\n&quot;}{end}&#39;); do
<a id="__codelineno-205-2" name="__codelineno-205-2" href="#__codelineno-205-2"></a>
<a id="__codelineno-205-3" name="__codelineno-205-3" href="#__codelineno-205-3"></a>
<a id="__codelineno-205-4" name="__codelineno-205-4" href="#__codelineno-205-4"></a>
<a id="__codelineno-205-5" name="__codelineno-205-5" href="#__codelineno-205-5"></a>namespace=${item%/*}
<a id="__codelineno-205-6" name="__codelineno-205-6" href="#__codelineno-205-6"></a>
<a id="__codelineno-205-7" name="__codelineno-205-7" href="#__codelineno-205-7"></a>
<a id="__codelineno-205-8" name="__codelineno-205-8" href="#__codelineno-205-8"></a>
<a id="__codelineno-205-9" name="__codelineno-205-9" href="#__codelineno-205-9"></a>name=${item#*/}
<a id="__codelineno-205-10" name="__codelineno-205-10" href="#__codelineno-205-10"></a>
<a id="__codelineno-205-11" name="__codelineno-205-11" href="#__codelineno-205-11"></a>
<a id="__codelineno-205-12" name="__codelineno-205-12" href="#__codelineno-205-12"></a>
<a id="__codelineno-205-13" name="__codelineno-205-13" href="#__codelineno-205-13"></a>kubectl get dynakubes.dynatrace.com -n $namespace $name -o yaml | kubectl replace -f -
<a id="__codelineno-205-14" name="__codelineno-205-14" href="#__codelineno-205-14"></a>
<a id="__codelineno-205-15" name="__codelineno-205-15" href="#__codelineno-205-15"></a>
<a id="__codelineno-205-16" name="__codelineno-205-16" href="#__codelineno-205-16"></a>
<a id="__codelineno-205-17" name="__codelineno-205-17" href="#__codelineno-205-17"></a>done
</code></pre></div>
<p>Do not use the command <code>kubectl apply</code>, because it only writes data when changes are detected.</p>
<p>Once the old apiVersion is no longer referenced, it is safe to update the CRD status.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-206-1" name="__codelineno-206-1" href="#__codelineno-206-1"></a>kubectl patch customresourcedefinitions dynakubes.dynatrace.com --subresource status --type merge -p &#39;{&quot;status&quot;:{&quot;storedVersions&quot;:[&quot;&lt;current storage version&gt;&quot;]}}&#39;
</code></pre></div>
<h3 id="replaced-feature-flags_3">Replaced feature flags<a class="headerlink" href="#replaced-feature-flags_3" title="Permanent link">&para;</a></h3>
<h4 id="new-csi-mount-timeout-feature-flag_3">New CSI mount timeout feature flag<a class="headerlink" href="#new-csi-mount-timeout-feature-flag_3" title="Permanent link">&para;</a></h4>
<p>The feature flag that controlled how many mount attempts the CSI driver would make before stopping (<code>feature.dynatrace.com/max-csi-mount-attempts: 5</code>) has been replaced with a timeout-based feature flag. This was done due to the difficulty of determining how many attempts equal a given timeout.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-207-1" name="__codelineno-207-1" href="#__codelineno-207-1"></a>feature.dynatrace.com/max-csi-mount-timeout: &quot;8m&quot; # replaces feature.dynatrace.com/max-csi-mount-attempts: &quot;10&quot;
</code></pre></div>
<h3 id="deprecated-fields_3">Deprecated fields<a class="headerlink" href="#deprecated-fields_3" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_3">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_3" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-208-1" name="__codelineno-208-1" href="#__codelineno-208-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-208-2" name="__codelineno-208-2" href="#__codelineno-208-2"></a>
<a id="__codelineno-208-3" name="__codelineno-208-3" href="#__codelineno-208-3"></a>
<a id="__codelineno-208-4" name="__codelineno-208-4" href="#__codelineno-208-4"></a>
<a id="__codelineno-208-5" name="__codelineno-208-5" href="#__codelineno-208-5"></a>kind: DynaKube
<a id="__codelineno-208-6" name="__codelineno-208-6" href="#__codelineno-208-6"></a>
<a id="__codelineno-208-7" name="__codelineno-208-7" href="#__codelineno-208-7"></a>
<a id="__codelineno-208-8" name="__codelineno-208-8" href="#__codelineno-208-8"></a>
<a id="__codelineno-208-9" name="__codelineno-208-9" href="#__codelineno-208-9"></a>metadata:
<a id="__codelineno-208-10" name="__codelineno-208-10" href="#__codelineno-208-10"></a>
<a id="__codelineno-208-11" name="__codelineno-208-11" href="#__codelineno-208-11"></a>
<a id="__codelineno-208-12" name="__codelineno-208-12" href="#__codelineno-208-12"></a>
<a id="__codelineno-208-13" name="__codelineno-208-13" href="#__codelineno-208-13"></a>name: example
<a id="__codelineno-208-14" name="__codelineno-208-14" href="#__codelineno-208-14"></a>
<a id="__codelineno-208-15" name="__codelineno-208-15" href="#__codelineno-208-15"></a>
<a id="__codelineno-208-16" name="__codelineno-208-16" href="#__codelineno-208-16"></a>
<a id="__codelineno-208-17" name="__codelineno-208-17" href="#__codelineno-208-17"></a>namespace: dynatrace
<a id="__codelineno-208-18" name="__codelineno-208-18" href="#__codelineno-208-18"></a>
<a id="__codelineno-208-19" name="__codelineno-208-19" href="#__codelineno-208-19"></a>
<a id="__codelineno-208-20" name="__codelineno-208-20" href="#__codelineno-208-20"></a>
<a id="__codelineno-208-21" name="__codelineno-208-21" href="#__codelineno-208-21"></a>spec:
<a id="__codelineno-208-22" name="__codelineno-208-22" href="#__codelineno-208-22"></a>
<a id="__codelineno-208-23" name="__codelineno-208-23" href="#__codelineno-208-23"></a>
<a id="__codelineno-208-24" name="__codelineno-208-24" href="#__codelineno-208-24"></a>
<a id="__codelineno-208-25" name="__codelineno-208-25" href="#__codelineno-208-25"></a>oneAgent:
<a id="__codelineno-208-26" name="__codelineno-208-26" href="#__codelineno-208-26"></a>
<a id="__codelineno-208-27" name="__codelineno-208-27" href="#__codelineno-208-27"></a>
<a id="__codelineno-208-28" name="__codelineno-208-28" href="#__codelineno-208-28"></a>
<a id="__codelineno-208-29" name="__codelineno-208-29" href="#__codelineno-208-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-208-30" name="__codelineno-208-30" href="#__codelineno-208-30"></a>
<a id="__codelineno-208-31" name="__codelineno-208-31" href="#__codelineno-208-31"></a>
<a id="__codelineno-208-32" name="__codelineno-208-32" href="#__codelineno-208-32"></a>
<a id="__codelineno-208-33" name="__codelineno-208-33" href="#__codelineno-208-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-209-1" name="__codelineno-209-1" href="#__codelineno-209-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-209-2" name="__codelineno-209-2" href="#__codelineno-209-2"></a>
<a id="__codelineno-209-3" name="__codelineno-209-3" href="#__codelineno-209-3"></a>
<a id="__codelineno-209-4" name="__codelineno-209-4" href="#__codelineno-209-4"></a>
<a id="__codelineno-209-5" name="__codelineno-209-5" href="#__codelineno-209-5"></a>kind: DynaKube
<a id="__codelineno-209-6" name="__codelineno-209-6" href="#__codelineno-209-6"></a>
<a id="__codelineno-209-7" name="__codelineno-209-7" href="#__codelineno-209-7"></a>
<a id="__codelineno-209-8" name="__codelineno-209-8" href="#__codelineno-209-8"></a>
<a id="__codelineno-209-9" name="__codelineno-209-9" href="#__codelineno-209-9"></a>metadata:
<a id="__codelineno-209-10" name="__codelineno-209-10" href="#__codelineno-209-10"></a>
<a id="__codelineno-209-11" name="__codelineno-209-11" href="#__codelineno-209-11"></a>
<a id="__codelineno-209-12" name="__codelineno-209-12" href="#__codelineno-209-12"></a>
<a id="__codelineno-209-13" name="__codelineno-209-13" href="#__codelineno-209-13"></a>name: example
<a id="__codelineno-209-14" name="__codelineno-209-14" href="#__codelineno-209-14"></a>
<a id="__codelineno-209-15" name="__codelineno-209-15" href="#__codelineno-209-15"></a>
<a id="__codelineno-209-16" name="__codelineno-209-16" href="#__codelineno-209-16"></a>
<a id="__codelineno-209-17" name="__codelineno-209-17" href="#__codelineno-209-17"></a>namespace: dynatrace
<a id="__codelineno-209-18" name="__codelineno-209-18" href="#__codelineno-209-18"></a>
<a id="__codelineno-209-19" name="__codelineno-209-19" href="#__codelineno-209-19"></a>
<a id="__codelineno-209-20" name="__codelineno-209-20" href="#__codelineno-209-20"></a>
<a id="__codelineno-209-21" name="__codelineno-209-21" href="#__codelineno-209-21"></a>spec:
<a id="__codelineno-209-22" name="__codelineno-209-22" href="#__codelineno-209-22"></a>
<a id="__codelineno-209-23" name="__codelineno-209-23" href="#__codelineno-209-23"></a>
<a id="__codelineno-209-24" name="__codelineno-209-24" href="#__codelineno-209-24"></a>
<a id="__codelineno-209-25" name="__codelineno-209-25" href="#__codelineno-209-25"></a>oneAgent:
<a id="__codelineno-209-26" name="__codelineno-209-26" href="#__codelineno-209-26"></a>
<a id="__codelineno-209-27" name="__codelineno-209-27" href="#__codelineno-209-27"></a>
<a id="__codelineno-209-28" name="__codelineno-209-28" href="#__codelineno-209-28"></a>
<a id="__codelineno-209-29" name="__codelineno-209-29" href="#__codelineno-209-29"></a>cloudNativeFullstack:
<a id="__codelineno-209-30" name="__codelineno-209-30" href="#__codelineno-209-30"></a>
<a id="__codelineno-209-31" name="__codelineno-209-31" href="#__codelineno-209-31"></a>
<a id="__codelineno-209-32" name="__codelineno-209-32" href="#__codelineno-209-32"></a>
<a id="__codelineno-209-33" name="__codelineno-209-33" href="#__codelineno-209-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-209-34" name="__codelineno-209-34" href="#__codelineno-209-34"></a>
<a id="__codelineno-209-35" name="__codelineno-209-35" href="#__codelineno-209-35"></a>
<a id="__codelineno-209-36" name="__codelineno-209-36" href="#__codelineno-209-36"></a>
<a id="__codelineno-209-37" name="__codelineno-209-37" href="#__codelineno-209-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-209-38" name="__codelineno-209-38" href="#__codelineno-209-38"></a>
<a id="__codelineno-209-39" name="__codelineno-209-39" href="#__codelineno-209-39"></a>
<a id="__codelineno-209-40" name="__codelineno-209-40" href="#__codelineno-209-40"></a>
<a id="__codelineno-209-41" name="__codelineno-209-41" href="#__codelineno-209-41"></a># ...
<a id="__codelineno-209-42" name="__codelineno-209-42" href="#__codelineno-209-42"></a>
<a id="__codelineno-209-43" name="__codelineno-209-43" href="#__codelineno-209-43"></a>
<a id="__codelineno-209-44" name="__codelineno-209-44" href="#__codelineno-209-44"></a>
<a id="__codelineno-209-45" name="__codelineno-209-45" href="#__codelineno-209-45"></a>---
<a id="__codelineno-209-46" name="__codelineno-209-46" href="#__codelineno-209-46"></a>
<a id="__codelineno-209-47" name="__codelineno-209-47" href="#__codelineno-209-47"></a>
<a id="__codelineno-209-48" name="__codelineno-209-48" href="#__codelineno-209-48"></a>
<a id="__codelineno-209-49" name="__codelineno-209-49" href="#__codelineno-209-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-209-50" name="__codelineno-209-50" href="#__codelineno-209-50"></a>
<a id="__codelineno-209-51" name="__codelineno-209-51" href="#__codelineno-209-51"></a>
<a id="__codelineno-209-52" name="__codelineno-209-52" href="#__codelineno-209-52"></a>
<a id="__codelineno-209-53" name="__codelineno-209-53" href="#__codelineno-209-53"></a>kind: DynaKube
<a id="__codelineno-209-54" name="__codelineno-209-54" href="#__codelineno-209-54"></a>
<a id="__codelineno-209-55" name="__codelineno-209-55" href="#__codelineno-209-55"></a>
<a id="__codelineno-209-56" name="__codelineno-209-56" href="#__codelineno-209-56"></a>
<a id="__codelineno-209-57" name="__codelineno-209-57" href="#__codelineno-209-57"></a>metadata:
<a id="__codelineno-209-58" name="__codelineno-209-58" href="#__codelineno-209-58"></a>
<a id="__codelineno-209-59" name="__codelineno-209-59" href="#__codelineno-209-59"></a>
<a id="__codelineno-209-60" name="__codelineno-209-60" href="#__codelineno-209-60"></a>
<a id="__codelineno-209-61" name="__codelineno-209-61" href="#__codelineno-209-61"></a>name: example
<a id="__codelineno-209-62" name="__codelineno-209-62" href="#__codelineno-209-62"></a>
<a id="__codelineno-209-63" name="__codelineno-209-63" href="#__codelineno-209-63"></a>
<a id="__codelineno-209-64" name="__codelineno-209-64" href="#__codelineno-209-64"></a>
<a id="__codelineno-209-65" name="__codelineno-209-65" href="#__codelineno-209-65"></a>namespace: dynatrace
<a id="__codelineno-209-66" name="__codelineno-209-66" href="#__codelineno-209-66"></a>
<a id="__codelineno-209-67" name="__codelineno-209-67" href="#__codelineno-209-67"></a>
<a id="__codelineno-209-68" name="__codelineno-209-68" href="#__codelineno-209-68"></a>
<a id="__codelineno-209-69" name="__codelineno-209-69" href="#__codelineno-209-69"></a>spec:
<a id="__codelineno-209-70" name="__codelineno-209-70" href="#__codelineno-209-70"></a>
<a id="__codelineno-209-71" name="__codelineno-209-71" href="#__codelineno-209-71"></a>
<a id="__codelineno-209-72" name="__codelineno-209-72" href="#__codelineno-209-72"></a>
<a id="__codelineno-209-73" name="__codelineno-209-73" href="#__codelineno-209-73"></a>oneAgent:
<a id="__codelineno-209-74" name="__codelineno-209-74" href="#__codelineno-209-74"></a>
<a id="__codelineno-209-75" name="__codelineno-209-75" href="#__codelineno-209-75"></a>
<a id="__codelineno-209-76" name="__codelineno-209-76" href="#__codelineno-209-76"></a>
<a id="__codelineno-209-77" name="__codelineno-209-77" href="#__codelineno-209-77"></a>cloudNativeFullstack:
<a id="__codelineno-209-78" name="__codelineno-209-78" href="#__codelineno-209-78"></a>
<a id="__codelineno-209-79" name="__codelineno-209-79" href="#__codelineno-209-79"></a>
<a id="__codelineno-209-80" name="__codelineno-209-80" href="#__codelineno-209-80"></a>
<a id="__codelineno-209-81" name="__codelineno-209-81" href="#__codelineno-209-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-209-82" name="__codelineno-209-82" href="#__codelineno-209-82"></a>
<a id="__codelineno-209-83" name="__codelineno-209-83" href="#__codelineno-209-83"></a>
<a id="__codelineno-209-84" name="__codelineno-209-84" href="#__codelineno-209-84"></a>
<a id="__codelineno-209-85" name="__codelineno-209-85" href="#__codelineno-209-85"></a># ...
</code></pre></div>
<h3 id="removed-fields_3">Removed fields<a class="headerlink" href="#removed-fields_3" title="Permanent link">&para;</a></h3>
<h4 id="specapplicationmonitoringusecsidriver_3"><code>spec.applicationMonitoring.useCSIDriver</code><a class="headerlink" href="#specapplicationmonitoringusecsidriver_3" title="Permanent link">&para;</a></h4>
<p>The <code>spec.applicationMonitoring.useCSIDriver: true/false</code> field has been removed.</p>
<p>The CSI driver is now used when installed as part of the Dynatrace Operator installation.</p>
<hr />
<h2 id="source-migrate-dk-v1beta3-v1beta4md">Source: migrate-dk-v1beta3-v1beta4.md<a class="headerlink" href="#source-migrate-dk-v1beta3-v1beta4md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta3 to v1beta4
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta3-v1beta4
scraped: 2026-02-17T05:00:17.657215</p>
<hr />
<h1 id="migration-of-dynakube-v1beta3-to-v1beta4">Migration of DynaKube v1beta3 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta3-to-v1beta4" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta3-to-v1beta4_1">Migration of DynaKube v1beta3 to v1beta4<a class="headerlink" href="#migration-of-dynakube-v1beta3-to-v1beta4_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta3</code> to <code>apiVersion: dynatrace.com/v1beta4</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_4">Support lifecycle<a class="headerlink" href="#support-lifecycle_4" title="Permanent link">&para;</a></h2>
<h3 id="v1beta3">v1beta3<a class="headerlink" href="#v1beta3" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.3.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<h3 id="v1beta4_2">v1beta4<a class="headerlink" href="#v1beta4_2" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.5.0</p>
<h2 id="changes_4">Changes<a class="headerlink" href="#changes_4" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="deprecated-fields_4">Deprecated fields<a class="headerlink" href="#deprecated-fields_4" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_4">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_4" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-210-1" name="__codelineno-210-1" href="#__codelineno-210-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-210-2" name="__codelineno-210-2" href="#__codelineno-210-2"></a>
<a id="__codelineno-210-3" name="__codelineno-210-3" href="#__codelineno-210-3"></a>
<a id="__codelineno-210-4" name="__codelineno-210-4" href="#__codelineno-210-4"></a>
<a id="__codelineno-210-5" name="__codelineno-210-5" href="#__codelineno-210-5"></a>kind: DynaKube
<a id="__codelineno-210-6" name="__codelineno-210-6" href="#__codelineno-210-6"></a>
<a id="__codelineno-210-7" name="__codelineno-210-7" href="#__codelineno-210-7"></a>
<a id="__codelineno-210-8" name="__codelineno-210-8" href="#__codelineno-210-8"></a>
<a id="__codelineno-210-9" name="__codelineno-210-9" href="#__codelineno-210-9"></a>metadata:
<a id="__codelineno-210-10" name="__codelineno-210-10" href="#__codelineno-210-10"></a>
<a id="__codelineno-210-11" name="__codelineno-210-11" href="#__codelineno-210-11"></a>
<a id="__codelineno-210-12" name="__codelineno-210-12" href="#__codelineno-210-12"></a>
<a id="__codelineno-210-13" name="__codelineno-210-13" href="#__codelineno-210-13"></a>name: example
<a id="__codelineno-210-14" name="__codelineno-210-14" href="#__codelineno-210-14"></a>
<a id="__codelineno-210-15" name="__codelineno-210-15" href="#__codelineno-210-15"></a>
<a id="__codelineno-210-16" name="__codelineno-210-16" href="#__codelineno-210-16"></a>
<a id="__codelineno-210-17" name="__codelineno-210-17" href="#__codelineno-210-17"></a>namespace: dynatrace
<a id="__codelineno-210-18" name="__codelineno-210-18" href="#__codelineno-210-18"></a>
<a id="__codelineno-210-19" name="__codelineno-210-19" href="#__codelineno-210-19"></a>
<a id="__codelineno-210-20" name="__codelineno-210-20" href="#__codelineno-210-20"></a>
<a id="__codelineno-210-21" name="__codelineno-210-21" href="#__codelineno-210-21"></a>spec:
<a id="__codelineno-210-22" name="__codelineno-210-22" href="#__codelineno-210-22"></a>
<a id="__codelineno-210-23" name="__codelineno-210-23" href="#__codelineno-210-23"></a>
<a id="__codelineno-210-24" name="__codelineno-210-24" href="#__codelineno-210-24"></a>
<a id="__codelineno-210-25" name="__codelineno-210-25" href="#__codelineno-210-25"></a>oneAgent:
<a id="__codelineno-210-26" name="__codelineno-210-26" href="#__codelineno-210-26"></a>
<a id="__codelineno-210-27" name="__codelineno-210-27" href="#__codelineno-210-27"></a>
<a id="__codelineno-210-28" name="__codelineno-210-28" href="#__codelineno-210-28"></a>
<a id="__codelineno-210-29" name="__codelineno-210-29" href="#__codelineno-210-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-210-30" name="__codelineno-210-30" href="#__codelineno-210-30"></a>
<a id="__codelineno-210-31" name="__codelineno-210-31" href="#__codelineno-210-31"></a>
<a id="__codelineno-210-32" name="__codelineno-210-32" href="#__codelineno-210-32"></a>
<a id="__codelineno-210-33" name="__codelineno-210-33" href="#__codelineno-210-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-211-1" name="__codelineno-211-1" href="#__codelineno-211-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-211-2" name="__codelineno-211-2" href="#__codelineno-211-2"></a>
<a id="__codelineno-211-3" name="__codelineno-211-3" href="#__codelineno-211-3"></a>
<a id="__codelineno-211-4" name="__codelineno-211-4" href="#__codelineno-211-4"></a>
<a id="__codelineno-211-5" name="__codelineno-211-5" href="#__codelineno-211-5"></a>kind: DynaKube
<a id="__codelineno-211-6" name="__codelineno-211-6" href="#__codelineno-211-6"></a>
<a id="__codelineno-211-7" name="__codelineno-211-7" href="#__codelineno-211-7"></a>
<a id="__codelineno-211-8" name="__codelineno-211-8" href="#__codelineno-211-8"></a>
<a id="__codelineno-211-9" name="__codelineno-211-9" href="#__codelineno-211-9"></a>metadata:
<a id="__codelineno-211-10" name="__codelineno-211-10" href="#__codelineno-211-10"></a>
<a id="__codelineno-211-11" name="__codelineno-211-11" href="#__codelineno-211-11"></a>
<a id="__codelineno-211-12" name="__codelineno-211-12" href="#__codelineno-211-12"></a>
<a id="__codelineno-211-13" name="__codelineno-211-13" href="#__codelineno-211-13"></a>name: example
<a id="__codelineno-211-14" name="__codelineno-211-14" href="#__codelineno-211-14"></a>
<a id="__codelineno-211-15" name="__codelineno-211-15" href="#__codelineno-211-15"></a>
<a id="__codelineno-211-16" name="__codelineno-211-16" href="#__codelineno-211-16"></a>
<a id="__codelineno-211-17" name="__codelineno-211-17" href="#__codelineno-211-17"></a>namespace: dynatrace
<a id="__codelineno-211-18" name="__codelineno-211-18" href="#__codelineno-211-18"></a>
<a id="__codelineno-211-19" name="__codelineno-211-19" href="#__codelineno-211-19"></a>
<a id="__codelineno-211-20" name="__codelineno-211-20" href="#__codelineno-211-20"></a>
<a id="__codelineno-211-21" name="__codelineno-211-21" href="#__codelineno-211-21"></a>spec:
<a id="__codelineno-211-22" name="__codelineno-211-22" href="#__codelineno-211-22"></a>
<a id="__codelineno-211-23" name="__codelineno-211-23" href="#__codelineno-211-23"></a>
<a id="__codelineno-211-24" name="__codelineno-211-24" href="#__codelineno-211-24"></a>
<a id="__codelineno-211-25" name="__codelineno-211-25" href="#__codelineno-211-25"></a>oneAgent:
<a id="__codelineno-211-26" name="__codelineno-211-26" href="#__codelineno-211-26"></a>
<a id="__codelineno-211-27" name="__codelineno-211-27" href="#__codelineno-211-27"></a>
<a id="__codelineno-211-28" name="__codelineno-211-28" href="#__codelineno-211-28"></a>
<a id="__codelineno-211-29" name="__codelineno-211-29" href="#__codelineno-211-29"></a>cloudNativeFullstack:
<a id="__codelineno-211-30" name="__codelineno-211-30" href="#__codelineno-211-30"></a>
<a id="__codelineno-211-31" name="__codelineno-211-31" href="#__codelineno-211-31"></a>
<a id="__codelineno-211-32" name="__codelineno-211-32" href="#__codelineno-211-32"></a>
<a id="__codelineno-211-33" name="__codelineno-211-33" href="#__codelineno-211-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-211-34" name="__codelineno-211-34" href="#__codelineno-211-34"></a>
<a id="__codelineno-211-35" name="__codelineno-211-35" href="#__codelineno-211-35"></a>
<a id="__codelineno-211-36" name="__codelineno-211-36" href="#__codelineno-211-36"></a>
<a id="__codelineno-211-37" name="__codelineno-211-37" href="#__codelineno-211-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-211-38" name="__codelineno-211-38" href="#__codelineno-211-38"></a>
<a id="__codelineno-211-39" name="__codelineno-211-39" href="#__codelineno-211-39"></a>
<a id="__codelineno-211-40" name="__codelineno-211-40" href="#__codelineno-211-40"></a>
<a id="__codelineno-211-41" name="__codelineno-211-41" href="#__codelineno-211-41"></a># ...
<a id="__codelineno-211-42" name="__codelineno-211-42" href="#__codelineno-211-42"></a>
<a id="__codelineno-211-43" name="__codelineno-211-43" href="#__codelineno-211-43"></a>
<a id="__codelineno-211-44" name="__codelineno-211-44" href="#__codelineno-211-44"></a>
<a id="__codelineno-211-45" name="__codelineno-211-45" href="#__codelineno-211-45"></a>---
<a id="__codelineno-211-46" name="__codelineno-211-46" href="#__codelineno-211-46"></a>
<a id="__codelineno-211-47" name="__codelineno-211-47" href="#__codelineno-211-47"></a>
<a id="__codelineno-211-48" name="__codelineno-211-48" href="#__codelineno-211-48"></a>
<a id="__codelineno-211-49" name="__codelineno-211-49" href="#__codelineno-211-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-211-50" name="__codelineno-211-50" href="#__codelineno-211-50"></a>
<a id="__codelineno-211-51" name="__codelineno-211-51" href="#__codelineno-211-51"></a>
<a id="__codelineno-211-52" name="__codelineno-211-52" href="#__codelineno-211-52"></a>
<a id="__codelineno-211-53" name="__codelineno-211-53" href="#__codelineno-211-53"></a>kind: DynaKube
<a id="__codelineno-211-54" name="__codelineno-211-54" href="#__codelineno-211-54"></a>
<a id="__codelineno-211-55" name="__codelineno-211-55" href="#__codelineno-211-55"></a>
<a id="__codelineno-211-56" name="__codelineno-211-56" href="#__codelineno-211-56"></a>
<a id="__codelineno-211-57" name="__codelineno-211-57" href="#__codelineno-211-57"></a>metadata:
<a id="__codelineno-211-58" name="__codelineno-211-58" href="#__codelineno-211-58"></a>
<a id="__codelineno-211-59" name="__codelineno-211-59" href="#__codelineno-211-59"></a>
<a id="__codelineno-211-60" name="__codelineno-211-60" href="#__codelineno-211-60"></a>
<a id="__codelineno-211-61" name="__codelineno-211-61" href="#__codelineno-211-61"></a>name: example
<a id="__codelineno-211-62" name="__codelineno-211-62" href="#__codelineno-211-62"></a>
<a id="__codelineno-211-63" name="__codelineno-211-63" href="#__codelineno-211-63"></a>
<a id="__codelineno-211-64" name="__codelineno-211-64" href="#__codelineno-211-64"></a>
<a id="__codelineno-211-65" name="__codelineno-211-65" href="#__codelineno-211-65"></a>namespace: dynatrace
<a id="__codelineno-211-66" name="__codelineno-211-66" href="#__codelineno-211-66"></a>
<a id="__codelineno-211-67" name="__codelineno-211-67" href="#__codelineno-211-67"></a>
<a id="__codelineno-211-68" name="__codelineno-211-68" href="#__codelineno-211-68"></a>
<a id="__codelineno-211-69" name="__codelineno-211-69" href="#__codelineno-211-69"></a>spec:
<a id="__codelineno-211-70" name="__codelineno-211-70" href="#__codelineno-211-70"></a>
<a id="__codelineno-211-71" name="__codelineno-211-71" href="#__codelineno-211-71"></a>
<a id="__codelineno-211-72" name="__codelineno-211-72" href="#__codelineno-211-72"></a>
<a id="__codelineno-211-73" name="__codelineno-211-73" href="#__codelineno-211-73"></a>oneAgent:
<a id="__codelineno-211-74" name="__codelineno-211-74" href="#__codelineno-211-74"></a>
<a id="__codelineno-211-75" name="__codelineno-211-75" href="#__codelineno-211-75"></a>
<a id="__codelineno-211-76" name="__codelineno-211-76" href="#__codelineno-211-76"></a>
<a id="__codelineno-211-77" name="__codelineno-211-77" href="#__codelineno-211-77"></a>cloudNativeFullstack:
<a id="__codelineno-211-78" name="__codelineno-211-78" href="#__codelineno-211-78"></a>
<a id="__codelineno-211-79" name="__codelineno-211-79" href="#__codelineno-211-79"></a>
<a id="__codelineno-211-80" name="__codelineno-211-80" href="#__codelineno-211-80"></a>
<a id="__codelineno-211-81" name="__codelineno-211-81" href="#__codelineno-211-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-211-82" name="__codelineno-211-82" href="#__codelineno-211-82"></a>
<a id="__codelineno-211-83" name="__codelineno-211-83" href="#__codelineno-211-83"></a>
<a id="__codelineno-211-84" name="__codelineno-211-84" href="#__codelineno-211-84"></a>
<a id="__codelineno-211-85" name="__codelineno-211-85" href="#__codelineno-211-85"></a># ...
</code></pre></div>
<hr />
<h2 id="source-migrate-dk-v1beta3-v1beta5md">Source: migrate-dk-v1beta3-v1beta5.md<a class="headerlink" href="#source-migrate-dk-v1beta3-v1beta5md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta3 to v1beta5
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta3-v1beta5
scraped: 2026-02-17T05:12:23.848405</p>
<hr />
<h1 id="migration-of-dynakube-v1beta3-to-v1beta5">Migration of DynaKube v1beta3 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta3-to-v1beta5" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta3-to-v1beta5_1">Migration of DynaKube v1beta3 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta3-to-v1beta5_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta3</code> to <code>apiVersion: dynatrace.com/v1beta4</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_5">Support lifecycle<a class="headerlink" href="#support-lifecycle_5" title="Permanent link">&para;</a></h2>
<h3 id="v1beta3_1">v1beta3<a class="headerlink" href="#v1beta3_1" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.3.0</p>
<p><strong>Deprecated in</strong>: Dynatrace Operator version 1.6.0</p>
<h3 id="v1beta5_2">v1beta5<a class="headerlink" href="#v1beta5_2" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.6.0</p>
<h2 id="changes_5">Changes<a class="headerlink" href="#changes_5" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="deprecated-fields_5">Deprecated fields<a class="headerlink" href="#deprecated-fields_5" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_5">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_5" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-212-1" name="__codelineno-212-1" href="#__codelineno-212-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-212-2" name="__codelineno-212-2" href="#__codelineno-212-2"></a>
<a id="__codelineno-212-3" name="__codelineno-212-3" href="#__codelineno-212-3"></a>
<a id="__codelineno-212-4" name="__codelineno-212-4" href="#__codelineno-212-4"></a>
<a id="__codelineno-212-5" name="__codelineno-212-5" href="#__codelineno-212-5"></a>kind: DynaKube
<a id="__codelineno-212-6" name="__codelineno-212-6" href="#__codelineno-212-6"></a>
<a id="__codelineno-212-7" name="__codelineno-212-7" href="#__codelineno-212-7"></a>
<a id="__codelineno-212-8" name="__codelineno-212-8" href="#__codelineno-212-8"></a>
<a id="__codelineno-212-9" name="__codelineno-212-9" href="#__codelineno-212-9"></a>metadata:
<a id="__codelineno-212-10" name="__codelineno-212-10" href="#__codelineno-212-10"></a>
<a id="__codelineno-212-11" name="__codelineno-212-11" href="#__codelineno-212-11"></a>
<a id="__codelineno-212-12" name="__codelineno-212-12" href="#__codelineno-212-12"></a>
<a id="__codelineno-212-13" name="__codelineno-212-13" href="#__codelineno-212-13"></a>name: example
<a id="__codelineno-212-14" name="__codelineno-212-14" href="#__codelineno-212-14"></a>
<a id="__codelineno-212-15" name="__codelineno-212-15" href="#__codelineno-212-15"></a>
<a id="__codelineno-212-16" name="__codelineno-212-16" href="#__codelineno-212-16"></a>
<a id="__codelineno-212-17" name="__codelineno-212-17" href="#__codelineno-212-17"></a>namespace: dynatrace
<a id="__codelineno-212-18" name="__codelineno-212-18" href="#__codelineno-212-18"></a>
<a id="__codelineno-212-19" name="__codelineno-212-19" href="#__codelineno-212-19"></a>
<a id="__codelineno-212-20" name="__codelineno-212-20" href="#__codelineno-212-20"></a>
<a id="__codelineno-212-21" name="__codelineno-212-21" href="#__codelineno-212-21"></a>spec:
<a id="__codelineno-212-22" name="__codelineno-212-22" href="#__codelineno-212-22"></a>
<a id="__codelineno-212-23" name="__codelineno-212-23" href="#__codelineno-212-23"></a>
<a id="__codelineno-212-24" name="__codelineno-212-24" href="#__codelineno-212-24"></a>
<a id="__codelineno-212-25" name="__codelineno-212-25" href="#__codelineno-212-25"></a>oneAgent:
<a id="__codelineno-212-26" name="__codelineno-212-26" href="#__codelineno-212-26"></a>
<a id="__codelineno-212-27" name="__codelineno-212-27" href="#__codelineno-212-27"></a>
<a id="__codelineno-212-28" name="__codelineno-212-28" href="#__codelineno-212-28"></a>
<a id="__codelineno-212-29" name="__codelineno-212-29" href="#__codelineno-212-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-212-30" name="__codelineno-212-30" href="#__codelineno-212-30"></a>
<a id="__codelineno-212-31" name="__codelineno-212-31" href="#__codelineno-212-31"></a>
<a id="__codelineno-212-32" name="__codelineno-212-32" href="#__codelineno-212-32"></a>
<a id="__codelineno-212-33" name="__codelineno-212-33" href="#__codelineno-212-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-213-1" name="__codelineno-213-1" href="#__codelineno-213-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-213-2" name="__codelineno-213-2" href="#__codelineno-213-2"></a>
<a id="__codelineno-213-3" name="__codelineno-213-3" href="#__codelineno-213-3"></a>
<a id="__codelineno-213-4" name="__codelineno-213-4" href="#__codelineno-213-4"></a>
<a id="__codelineno-213-5" name="__codelineno-213-5" href="#__codelineno-213-5"></a>kind: DynaKube
<a id="__codelineno-213-6" name="__codelineno-213-6" href="#__codelineno-213-6"></a>
<a id="__codelineno-213-7" name="__codelineno-213-7" href="#__codelineno-213-7"></a>
<a id="__codelineno-213-8" name="__codelineno-213-8" href="#__codelineno-213-8"></a>
<a id="__codelineno-213-9" name="__codelineno-213-9" href="#__codelineno-213-9"></a>metadata:
<a id="__codelineno-213-10" name="__codelineno-213-10" href="#__codelineno-213-10"></a>
<a id="__codelineno-213-11" name="__codelineno-213-11" href="#__codelineno-213-11"></a>
<a id="__codelineno-213-12" name="__codelineno-213-12" href="#__codelineno-213-12"></a>
<a id="__codelineno-213-13" name="__codelineno-213-13" href="#__codelineno-213-13"></a>name: example
<a id="__codelineno-213-14" name="__codelineno-213-14" href="#__codelineno-213-14"></a>
<a id="__codelineno-213-15" name="__codelineno-213-15" href="#__codelineno-213-15"></a>
<a id="__codelineno-213-16" name="__codelineno-213-16" href="#__codelineno-213-16"></a>
<a id="__codelineno-213-17" name="__codelineno-213-17" href="#__codelineno-213-17"></a>namespace: dynatrace
<a id="__codelineno-213-18" name="__codelineno-213-18" href="#__codelineno-213-18"></a>
<a id="__codelineno-213-19" name="__codelineno-213-19" href="#__codelineno-213-19"></a>
<a id="__codelineno-213-20" name="__codelineno-213-20" href="#__codelineno-213-20"></a>
<a id="__codelineno-213-21" name="__codelineno-213-21" href="#__codelineno-213-21"></a>spec:
<a id="__codelineno-213-22" name="__codelineno-213-22" href="#__codelineno-213-22"></a>
<a id="__codelineno-213-23" name="__codelineno-213-23" href="#__codelineno-213-23"></a>
<a id="__codelineno-213-24" name="__codelineno-213-24" href="#__codelineno-213-24"></a>
<a id="__codelineno-213-25" name="__codelineno-213-25" href="#__codelineno-213-25"></a>oneAgent:
<a id="__codelineno-213-26" name="__codelineno-213-26" href="#__codelineno-213-26"></a>
<a id="__codelineno-213-27" name="__codelineno-213-27" href="#__codelineno-213-27"></a>
<a id="__codelineno-213-28" name="__codelineno-213-28" href="#__codelineno-213-28"></a>
<a id="__codelineno-213-29" name="__codelineno-213-29" href="#__codelineno-213-29"></a>cloudNativeFullstack:
<a id="__codelineno-213-30" name="__codelineno-213-30" href="#__codelineno-213-30"></a>
<a id="__codelineno-213-31" name="__codelineno-213-31" href="#__codelineno-213-31"></a>
<a id="__codelineno-213-32" name="__codelineno-213-32" href="#__codelineno-213-32"></a>
<a id="__codelineno-213-33" name="__codelineno-213-33" href="#__codelineno-213-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-213-34" name="__codelineno-213-34" href="#__codelineno-213-34"></a>
<a id="__codelineno-213-35" name="__codelineno-213-35" href="#__codelineno-213-35"></a>
<a id="__codelineno-213-36" name="__codelineno-213-36" href="#__codelineno-213-36"></a>
<a id="__codelineno-213-37" name="__codelineno-213-37" href="#__codelineno-213-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-213-38" name="__codelineno-213-38" href="#__codelineno-213-38"></a>
<a id="__codelineno-213-39" name="__codelineno-213-39" href="#__codelineno-213-39"></a>
<a id="__codelineno-213-40" name="__codelineno-213-40" href="#__codelineno-213-40"></a>
<a id="__codelineno-213-41" name="__codelineno-213-41" href="#__codelineno-213-41"></a># ...
<a id="__codelineno-213-42" name="__codelineno-213-42" href="#__codelineno-213-42"></a>
<a id="__codelineno-213-43" name="__codelineno-213-43" href="#__codelineno-213-43"></a>
<a id="__codelineno-213-44" name="__codelineno-213-44" href="#__codelineno-213-44"></a>
<a id="__codelineno-213-45" name="__codelineno-213-45" href="#__codelineno-213-45"></a>---
<a id="__codelineno-213-46" name="__codelineno-213-46" href="#__codelineno-213-46"></a>
<a id="__codelineno-213-47" name="__codelineno-213-47" href="#__codelineno-213-47"></a>
<a id="__codelineno-213-48" name="__codelineno-213-48" href="#__codelineno-213-48"></a>
<a id="__codelineno-213-49" name="__codelineno-213-49" href="#__codelineno-213-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-213-50" name="__codelineno-213-50" href="#__codelineno-213-50"></a>
<a id="__codelineno-213-51" name="__codelineno-213-51" href="#__codelineno-213-51"></a>
<a id="__codelineno-213-52" name="__codelineno-213-52" href="#__codelineno-213-52"></a>
<a id="__codelineno-213-53" name="__codelineno-213-53" href="#__codelineno-213-53"></a>kind: DynaKube
<a id="__codelineno-213-54" name="__codelineno-213-54" href="#__codelineno-213-54"></a>
<a id="__codelineno-213-55" name="__codelineno-213-55" href="#__codelineno-213-55"></a>
<a id="__codelineno-213-56" name="__codelineno-213-56" href="#__codelineno-213-56"></a>
<a id="__codelineno-213-57" name="__codelineno-213-57" href="#__codelineno-213-57"></a>metadata:
<a id="__codelineno-213-58" name="__codelineno-213-58" href="#__codelineno-213-58"></a>
<a id="__codelineno-213-59" name="__codelineno-213-59" href="#__codelineno-213-59"></a>
<a id="__codelineno-213-60" name="__codelineno-213-60" href="#__codelineno-213-60"></a>
<a id="__codelineno-213-61" name="__codelineno-213-61" href="#__codelineno-213-61"></a>name: example
<a id="__codelineno-213-62" name="__codelineno-213-62" href="#__codelineno-213-62"></a>
<a id="__codelineno-213-63" name="__codelineno-213-63" href="#__codelineno-213-63"></a>
<a id="__codelineno-213-64" name="__codelineno-213-64" href="#__codelineno-213-64"></a>
<a id="__codelineno-213-65" name="__codelineno-213-65" href="#__codelineno-213-65"></a>namespace: dynatrace
<a id="__codelineno-213-66" name="__codelineno-213-66" href="#__codelineno-213-66"></a>
<a id="__codelineno-213-67" name="__codelineno-213-67" href="#__codelineno-213-67"></a>
<a id="__codelineno-213-68" name="__codelineno-213-68" href="#__codelineno-213-68"></a>
<a id="__codelineno-213-69" name="__codelineno-213-69" href="#__codelineno-213-69"></a>spec:
<a id="__codelineno-213-70" name="__codelineno-213-70" href="#__codelineno-213-70"></a>
<a id="__codelineno-213-71" name="__codelineno-213-71" href="#__codelineno-213-71"></a>
<a id="__codelineno-213-72" name="__codelineno-213-72" href="#__codelineno-213-72"></a>
<a id="__codelineno-213-73" name="__codelineno-213-73" href="#__codelineno-213-73"></a>oneAgent:
<a id="__codelineno-213-74" name="__codelineno-213-74" href="#__codelineno-213-74"></a>
<a id="__codelineno-213-75" name="__codelineno-213-75" href="#__codelineno-213-75"></a>
<a id="__codelineno-213-76" name="__codelineno-213-76" href="#__codelineno-213-76"></a>
<a id="__codelineno-213-77" name="__codelineno-213-77" href="#__codelineno-213-77"></a>cloudNativeFullstack:
<a id="__codelineno-213-78" name="__codelineno-213-78" href="#__codelineno-213-78"></a>
<a id="__codelineno-213-79" name="__codelineno-213-79" href="#__codelineno-213-79"></a>
<a id="__codelineno-213-80" name="__codelineno-213-80" href="#__codelineno-213-80"></a>
<a id="__codelineno-213-81" name="__codelineno-213-81" href="#__codelineno-213-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-213-82" name="__codelineno-213-82" href="#__codelineno-213-82"></a>
<a id="__codelineno-213-83" name="__codelineno-213-83" href="#__codelineno-213-83"></a>
<a id="__codelineno-213-84" name="__codelineno-213-84" href="#__codelineno-213-84"></a>
<a id="__codelineno-213-85" name="__codelineno-213-85" href="#__codelineno-213-85"></a># ...
</code></pre></div>
<hr />
<h2 id="source-migrate-dk-v1beta4-v1beta5md">Source: migrate-dk-v1beta4-v1beta5.md<a class="headerlink" href="#source-migrate-dk-v1beta4-v1beta5md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta4 to v1beta5
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta4-v1beta5
scraped: 2026-02-16T21:27:31.288039</p>
<hr />
<h1 id="migration-of-dynakube-v1beta4-to-v1beta5">Migration of DynaKube v1beta4 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta4-to-v1beta5" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta4-to-v1beta5_1">Migration of DynaKube v1beta4 to v1beta5<a class="headerlink" href="#migration-of-dynakube-v1beta4-to-v1beta5_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Oct 22, 2025</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta4</code> to <code>apiVersion: dynatrace.com/v1beta4</code> of the <code>DynaKube</code>.</p>
<h2 id="support-lifecycle_6">Support lifecycle<a class="headerlink" href="#support-lifecycle_6" title="Permanent link">&para;</a></h2>
<h3 id="v1beta4_3">v1beta4<a class="headerlink" href="#v1beta4_3" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.5.0</p>
<h3 id="v1beta5_3">v1beta5<a class="headerlink" href="#v1beta5_3" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.6.0</p>
<h2 id="changes_6">Changes<a class="headerlink" href="#changes_6" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="renamed-fields">Renamed fields<a class="headerlink" href="#renamed-fields" title="Permanent link">&para;</a></h3>
<h4 id="specactivegatepersistentvolumeclaim"><code>spec.activeGate.persistentVolumeClaim</code><a class="headerlink" href="#specactivegatepersistentvolumeclaim" title="Permanent link">&para;</a></h4>
<p>The <code>spec.activeGate.persistentVolumeClaim</code> field has been renamed to <code>spec.activeGate.volumeClaimTemplate</code>. The functionality remains the same.</p>
<h3 id="deprecated-fields_6">Deprecated fields<a class="headerlink" href="#deprecated-fields_6" title="Permanent link">&para;</a></h3>
<h4 id="oneagent-autoupdate_6">OneAgent <code>autoUpdate</code><a class="headerlink" href="#oneagent-autoupdate_6" title="Permanent link">&para;</a></h4>
<p>The <code>spec.oneAgent.&lt;mode&gt;.autoUpdate: true/false</code> field is <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">deprecated</a> in <code>v1beta5</code>, so it shouldn't be used.</p>
<p>We recommend the following:</p>
<ul>
<li>If you want <code>autoUpdate: true</code>, do not set <code>image</code>, <code>codeModulesImage</code>, or <code>version</code>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-214-1" name="__codelineno-214-1" href="#__codelineno-214-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-214-2" name="__codelineno-214-2" href="#__codelineno-214-2"></a>
<a id="__codelineno-214-3" name="__codelineno-214-3" href="#__codelineno-214-3"></a>
<a id="__codelineno-214-4" name="__codelineno-214-4" href="#__codelineno-214-4"></a>
<a id="__codelineno-214-5" name="__codelineno-214-5" href="#__codelineno-214-5"></a>kind: DynaKube
<a id="__codelineno-214-6" name="__codelineno-214-6" href="#__codelineno-214-6"></a>
<a id="__codelineno-214-7" name="__codelineno-214-7" href="#__codelineno-214-7"></a>
<a id="__codelineno-214-8" name="__codelineno-214-8" href="#__codelineno-214-8"></a>
<a id="__codelineno-214-9" name="__codelineno-214-9" href="#__codelineno-214-9"></a>metadata:
<a id="__codelineno-214-10" name="__codelineno-214-10" href="#__codelineno-214-10"></a>
<a id="__codelineno-214-11" name="__codelineno-214-11" href="#__codelineno-214-11"></a>
<a id="__codelineno-214-12" name="__codelineno-214-12" href="#__codelineno-214-12"></a>
<a id="__codelineno-214-13" name="__codelineno-214-13" href="#__codelineno-214-13"></a>name: example
<a id="__codelineno-214-14" name="__codelineno-214-14" href="#__codelineno-214-14"></a>
<a id="__codelineno-214-15" name="__codelineno-214-15" href="#__codelineno-214-15"></a>
<a id="__codelineno-214-16" name="__codelineno-214-16" href="#__codelineno-214-16"></a>
<a id="__codelineno-214-17" name="__codelineno-214-17" href="#__codelineno-214-17"></a>namespace: dynatrace
<a id="__codelineno-214-18" name="__codelineno-214-18" href="#__codelineno-214-18"></a>
<a id="__codelineno-214-19" name="__codelineno-214-19" href="#__codelineno-214-19"></a>
<a id="__codelineno-214-20" name="__codelineno-214-20" href="#__codelineno-214-20"></a>
<a id="__codelineno-214-21" name="__codelineno-214-21" href="#__codelineno-214-21"></a>spec:
<a id="__codelineno-214-22" name="__codelineno-214-22" href="#__codelineno-214-22"></a>
<a id="__codelineno-214-23" name="__codelineno-214-23" href="#__codelineno-214-23"></a>
<a id="__codelineno-214-24" name="__codelineno-214-24" href="#__codelineno-214-24"></a>
<a id="__codelineno-214-25" name="__codelineno-214-25" href="#__codelineno-214-25"></a>oneAgent:
<a id="__codelineno-214-26" name="__codelineno-214-26" href="#__codelineno-214-26"></a>
<a id="__codelineno-214-27" name="__codelineno-214-27" href="#__codelineno-214-27"></a>
<a id="__codelineno-214-28" name="__codelineno-214-28" href="#__codelineno-214-28"></a>
<a id="__codelineno-214-29" name="__codelineno-214-29" href="#__codelineno-214-29"></a>cloudNativeFullstack: {} # same as autoUpdate: true
<a id="__codelineno-214-30" name="__codelineno-214-30" href="#__codelineno-214-30"></a>
<a id="__codelineno-214-31" name="__codelineno-214-31" href="#__codelineno-214-31"></a>
<a id="__codelineno-214-32" name="__codelineno-214-32" href="#__codelineno-214-32"></a>
<a id="__codelineno-214-33" name="__codelineno-214-33" href="#__codelineno-214-33"></a># ...
</code></pre></div>
* If you want <code>autoUpdate: false</code>, set <code>image</code>, <code>codeModulesImage</code> or <code>version</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-215-1" name="__codelineno-215-1" href="#__codelineno-215-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-215-2" name="__codelineno-215-2" href="#__codelineno-215-2"></a>
<a id="__codelineno-215-3" name="__codelineno-215-3" href="#__codelineno-215-3"></a>
<a id="__codelineno-215-4" name="__codelineno-215-4" href="#__codelineno-215-4"></a>
<a id="__codelineno-215-5" name="__codelineno-215-5" href="#__codelineno-215-5"></a>kind: DynaKube
<a id="__codelineno-215-6" name="__codelineno-215-6" href="#__codelineno-215-6"></a>
<a id="__codelineno-215-7" name="__codelineno-215-7" href="#__codelineno-215-7"></a>
<a id="__codelineno-215-8" name="__codelineno-215-8" href="#__codelineno-215-8"></a>
<a id="__codelineno-215-9" name="__codelineno-215-9" href="#__codelineno-215-9"></a>metadata:
<a id="__codelineno-215-10" name="__codelineno-215-10" href="#__codelineno-215-10"></a>
<a id="__codelineno-215-11" name="__codelineno-215-11" href="#__codelineno-215-11"></a>
<a id="__codelineno-215-12" name="__codelineno-215-12" href="#__codelineno-215-12"></a>
<a id="__codelineno-215-13" name="__codelineno-215-13" href="#__codelineno-215-13"></a>name: example
<a id="__codelineno-215-14" name="__codelineno-215-14" href="#__codelineno-215-14"></a>
<a id="__codelineno-215-15" name="__codelineno-215-15" href="#__codelineno-215-15"></a>
<a id="__codelineno-215-16" name="__codelineno-215-16" href="#__codelineno-215-16"></a>
<a id="__codelineno-215-17" name="__codelineno-215-17" href="#__codelineno-215-17"></a>namespace: dynatrace
<a id="__codelineno-215-18" name="__codelineno-215-18" href="#__codelineno-215-18"></a>
<a id="__codelineno-215-19" name="__codelineno-215-19" href="#__codelineno-215-19"></a>
<a id="__codelineno-215-20" name="__codelineno-215-20" href="#__codelineno-215-20"></a>
<a id="__codelineno-215-21" name="__codelineno-215-21" href="#__codelineno-215-21"></a>spec:
<a id="__codelineno-215-22" name="__codelineno-215-22" href="#__codelineno-215-22"></a>
<a id="__codelineno-215-23" name="__codelineno-215-23" href="#__codelineno-215-23"></a>
<a id="__codelineno-215-24" name="__codelineno-215-24" href="#__codelineno-215-24"></a>
<a id="__codelineno-215-25" name="__codelineno-215-25" href="#__codelineno-215-25"></a>oneAgent:
<a id="__codelineno-215-26" name="__codelineno-215-26" href="#__codelineno-215-26"></a>
<a id="__codelineno-215-27" name="__codelineno-215-27" href="#__codelineno-215-27"></a>
<a id="__codelineno-215-28" name="__codelineno-215-28" href="#__codelineno-215-28"></a>
<a id="__codelineno-215-29" name="__codelineno-215-29" href="#__codelineno-215-29"></a>cloudNativeFullstack:
<a id="__codelineno-215-30" name="__codelineno-215-30" href="#__codelineno-215-30"></a>
<a id="__codelineno-215-31" name="__codelineno-215-31" href="#__codelineno-215-31"></a>
<a id="__codelineno-215-32" name="__codelineno-215-32" href="#__codelineno-215-32"></a>
<a id="__codelineno-215-33" name="__codelineno-215-33" href="#__codelineno-215-33"></a>image: ... # same effect as autoUpdate: false
<a id="__codelineno-215-34" name="__codelineno-215-34" href="#__codelineno-215-34"></a>
<a id="__codelineno-215-35" name="__codelineno-215-35" href="#__codelineno-215-35"></a>
<a id="__codelineno-215-36" name="__codelineno-215-36" href="#__codelineno-215-36"></a>
<a id="__codelineno-215-37" name="__codelineno-215-37" href="#__codelineno-215-37"></a>codeModulesImage: # same effect as autoUpdate: false
<a id="__codelineno-215-38" name="__codelineno-215-38" href="#__codelineno-215-38"></a>
<a id="__codelineno-215-39" name="__codelineno-215-39" href="#__codelineno-215-39"></a>
<a id="__codelineno-215-40" name="__codelineno-215-40" href="#__codelineno-215-40"></a>
<a id="__codelineno-215-41" name="__codelineno-215-41" href="#__codelineno-215-41"></a># ...
<a id="__codelineno-215-42" name="__codelineno-215-42" href="#__codelineno-215-42"></a>
<a id="__codelineno-215-43" name="__codelineno-215-43" href="#__codelineno-215-43"></a>
<a id="__codelineno-215-44" name="__codelineno-215-44" href="#__codelineno-215-44"></a>
<a id="__codelineno-215-45" name="__codelineno-215-45" href="#__codelineno-215-45"></a>---
<a id="__codelineno-215-46" name="__codelineno-215-46" href="#__codelineno-215-46"></a>
<a id="__codelineno-215-47" name="__codelineno-215-47" href="#__codelineno-215-47"></a>
<a id="__codelineno-215-48" name="__codelineno-215-48" href="#__codelineno-215-48"></a>
<a id="__codelineno-215-49" name="__codelineno-215-49" href="#__codelineno-215-49"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-215-50" name="__codelineno-215-50" href="#__codelineno-215-50"></a>
<a id="__codelineno-215-51" name="__codelineno-215-51" href="#__codelineno-215-51"></a>
<a id="__codelineno-215-52" name="__codelineno-215-52" href="#__codelineno-215-52"></a>
<a id="__codelineno-215-53" name="__codelineno-215-53" href="#__codelineno-215-53"></a>kind: DynaKube
<a id="__codelineno-215-54" name="__codelineno-215-54" href="#__codelineno-215-54"></a>
<a id="__codelineno-215-55" name="__codelineno-215-55" href="#__codelineno-215-55"></a>
<a id="__codelineno-215-56" name="__codelineno-215-56" href="#__codelineno-215-56"></a>
<a id="__codelineno-215-57" name="__codelineno-215-57" href="#__codelineno-215-57"></a>metadata:
<a id="__codelineno-215-58" name="__codelineno-215-58" href="#__codelineno-215-58"></a>
<a id="__codelineno-215-59" name="__codelineno-215-59" href="#__codelineno-215-59"></a>
<a id="__codelineno-215-60" name="__codelineno-215-60" href="#__codelineno-215-60"></a>
<a id="__codelineno-215-61" name="__codelineno-215-61" href="#__codelineno-215-61"></a>name: example
<a id="__codelineno-215-62" name="__codelineno-215-62" href="#__codelineno-215-62"></a>
<a id="__codelineno-215-63" name="__codelineno-215-63" href="#__codelineno-215-63"></a>
<a id="__codelineno-215-64" name="__codelineno-215-64" href="#__codelineno-215-64"></a>
<a id="__codelineno-215-65" name="__codelineno-215-65" href="#__codelineno-215-65"></a>namespace: dynatrace
<a id="__codelineno-215-66" name="__codelineno-215-66" href="#__codelineno-215-66"></a>
<a id="__codelineno-215-67" name="__codelineno-215-67" href="#__codelineno-215-67"></a>
<a id="__codelineno-215-68" name="__codelineno-215-68" href="#__codelineno-215-68"></a>
<a id="__codelineno-215-69" name="__codelineno-215-69" href="#__codelineno-215-69"></a>spec:
<a id="__codelineno-215-70" name="__codelineno-215-70" href="#__codelineno-215-70"></a>
<a id="__codelineno-215-71" name="__codelineno-215-71" href="#__codelineno-215-71"></a>
<a id="__codelineno-215-72" name="__codelineno-215-72" href="#__codelineno-215-72"></a>
<a id="__codelineno-215-73" name="__codelineno-215-73" href="#__codelineno-215-73"></a>oneAgent:
<a id="__codelineno-215-74" name="__codelineno-215-74" href="#__codelineno-215-74"></a>
<a id="__codelineno-215-75" name="__codelineno-215-75" href="#__codelineno-215-75"></a>
<a id="__codelineno-215-76" name="__codelineno-215-76" href="#__codelineno-215-76"></a>
<a id="__codelineno-215-77" name="__codelineno-215-77" href="#__codelineno-215-77"></a>cloudNativeFullstack:
<a id="__codelineno-215-78" name="__codelineno-215-78" href="#__codelineno-215-78"></a>
<a id="__codelineno-215-79" name="__codelineno-215-79" href="#__codelineno-215-79"></a>
<a id="__codelineno-215-80" name="__codelineno-215-80" href="#__codelineno-215-80"></a>
<a id="__codelineno-215-81" name="__codelineno-215-81" href="#__codelineno-215-81"></a>version: ... # replaces autoUpdate: false
<a id="__codelineno-215-82" name="__codelineno-215-82" href="#__codelineno-215-82"></a>
<a id="__codelineno-215-83" name="__codelineno-215-83" href="#__codelineno-215-83"></a>
<a id="__codelineno-215-84" name="__codelineno-215-84" href="#__codelineno-215-84"></a>
<a id="__codelineno-215-85" name="__codelineno-215-85" href="#__codelineno-215-85"></a># ...
</code></pre></div>
<hr />
<h2 id="source-migrate-dk-v1beta5-v1beta6md">Source: migrate-dk-v1beta5-v1beta6.md<a class="headerlink" href="#source-migrate-dk-v1beta5-v1beta6md" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration of DynaKube v1beta5 to v1beta6
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta5-v1beta6
scraped: 2026-02-17T05:09:16.821230</p>
<hr />
<h1 id="migration-of-dynakube-v1beta5-to-v1beta6">Migration of DynaKube v1beta5 to v1beta6<a class="headerlink" href="#migration-of-dynakube-v1beta5-to-v1beta6" title="Permanent link">&para;</a></h1>
<h1 id="migration-of-dynakube-v1beta5-to-v1beta6_1">Migration of DynaKube v1beta5 to v1beta6<a class="headerlink" href="#migration-of-dynakube-v1beta5-to-v1beta6_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>5-min read</li>
<li>Published Jan 20, 2026</li>
</ul>
<p>This guide will show you how you can manually migrate from <code>apiVersion: dynatrace.com/v1beta5</code> to <code>apiVersion: dynatrace.com/v1beta6</code> of the DynaKube.</p>
<h2 id="support-lifecycle_7">Support lifecycle<a class="headerlink" href="#support-lifecycle_7" title="Permanent link">&para;</a></h2>
<h3 id="v1beta5_4">v1beta5<a class="headerlink" href="#v1beta5_4" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.6.0</p>
<h3 id="v1beta6">v1beta6<a class="headerlink" href="#v1beta6" title="Permanent link">&para;</a></h3>
<p><strong>Introduced in</strong>: Dynatrace Operator version 1.8.0</p>
<h2 id="changes_7">Changes<a class="headerlink" href="#changes_7" title="Permanent link">&para;</a></h2>
<p>Reminder</p>
<p>When migrating your DynaKube, remember to update the <code>apiVersion</code> field as well as any other fields that have changed</p>
<h3 id="moved-fields_2">Moved fields<a class="headerlink" href="#moved-fields_2" title="Permanent link">&para;</a></h3>
<h4 id="specextensions"><code>spec.extensions</code><a class="headerlink" href="#specextensions" title="Permanent link">&para;</a></h4>
<p>The <code>spec.extensions</code> field was moved to <code>spec.extensions.prometheus</code> to accommodate the new <code>spec.extensions.databases</code> field. The functionality remains the same.</p>
<hr />
<h2 id="source-classic-to-app-monitoringmd">Source: classic-to-app-monitoring.md<a class="headerlink" href="#source-classic-to-app-monitoringmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migrate from classic full-stack to application monitoring mode
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/classic-to-app-monitoring
scraped: 2026-02-16T21:25:27.670767</p>
<hr />
<h1 id="migrate-from-classic-full-stack-to-application-monitoring-mode">Migrate from classic full-stack to application monitoring mode<a class="headerlink" href="#migrate-from-classic-full-stack-to-application-monitoring-mode" title="Permanent link">&para;</a></h1>
<h1 id="migrate-from-classic-full-stack-to-application-monitoring-mode_1">Migrate from classic full-stack to application monitoring mode<a class="headerlink" href="#migrate-from-classic-full-stack-to-application-monitoring-mode_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>3-min read</li>
<li>Updated on Sep 05, 2025</li>
</ul>
<p>Dynatrace Operator version 1.0.0+</p>
<p>This guide describes the steps required to migrate your Dynatrace deployment from classic full-stack monitoring to <a href="/docs/ingest-from/setup-on-k8s/how-it-works#auto" title="In-depth description on how the deployment on Kubernetes works.">application monitoring mode</a>.</p>
<h2 id="advantages">Advantages<a class="headerlink" href="#advantages" title="Permanent link">&para;</a></h2>
<p>To only monitor selected applications on Kubernetes, application monitoring offers a flexible approach with the following benefits:</p>
<ul>
<li>The application monitoring mode, similar to the cloud native full stack mode, prevents race conditions that can occur when OneAgent DaemonSet pods and monitored application pods start simultaneously.</li>
<li>By leveraging Kubernetes concepts such as admission webhooks and CSI driver for Code Module injection, application monitoring mode reduces the required privileges for OneAgent.</li>
</ul>
<h3 id="considerations-and-implications">Considerations and implications<a class="headerlink" href="#considerations-and-implications" title="Permanent link">&para;</a></h3>
<ul>
<li>When switching to application monitoring, previously deployed OneAgents will get deactivated and deep monitoring of applications will stop. Consequently, restarting all application pods that require deep monitoring becomes mandatory. Restarting these pods ensures that applications are reinjected, allowing deep monitoring to resume.</li>
<li>In application monitoring mode, container monitoring rules are ignored. Instead, <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">label selectors</a> should be employed to precisely manage OneAgent injection.</li>
<li>Log monitoring requires <a href="/docs/analyze-explore-automate/logs/lma-log-ingestion/lma-log-ingestion-via-oa/lma-fluent-bit-logs-k8s" title="Integrate Fluent Bit in Kubernetes to stream logs to Dynatrace.">additional setup</a>.</li>
</ul>
<h2 id="migrate-to-application-monitoring-mode">Migrate to application monitoring mode<a class="headerlink" href="#migrate-to-application-monitoring-mode" title="Permanent link">&para;</a></h2>
<p>This section provides all the information needed to migrate from classic to application monitoring mode.</p>
<p>Using CRI-O container runtime</p>
<p>The standard migration procedure described below requires OneAgent version 1.281 or higher for Kubernetes clusters using CRI-O as their container runtime, so you need to upgrade OneAgents accordingly before continuing with the steps below.</p>
<p>If that upgrade cannot be performed, follow the <a href="#running-crio">Running CRI-O with OneAgent versions 1.279 or earlier</a> procedure for an alternative migration flow, and then return to step 1 of this procedure.</p>
<ol>
<li>Recommended</li>
</ol>
<p>Update installation with CSI driver included:</p>
<p>Helm</p>
<p>Manifest</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-216-1" name="__codelineno-216-1" href="#__codelineno-216-1"></a>helm upgrade dynatrace-operator oci://docker.io/dynatrace/dynatrace-operator \
<a id="__codelineno-216-2" name="__codelineno-216-2" href="#__codelineno-216-2"></a>
<a id="__codelineno-216-3" name="__codelineno-216-3" href="#__codelineno-216-3"></a>
<a id="__codelineno-216-4" name="__codelineno-216-4" href="#__codelineno-216-4"></a>
<a id="__codelineno-216-5" name="__codelineno-216-5" href="#__codelineno-216-5"></a>--atomic \
<a id="__codelineno-216-6" name="__codelineno-216-6" href="#__codelineno-216-6"></a>
<a id="__codelineno-216-7" name="__codelineno-216-7" href="#__codelineno-216-7"></a>
<a id="__codelineno-216-8" name="__codelineno-216-8" href="#__codelineno-216-8"></a>
<a id="__codelineno-216-9" name="__codelineno-216-9" href="#__codelineno-216-9"></a>--csidriver.enabled=&quot;true&quot; \ # By default CSI driver is enabled
<a id="__codelineno-216-10" name="__codelineno-216-10" href="#__codelineno-216-10"></a>
<a id="__codelineno-216-11" name="__codelineno-216-11" href="#__codelineno-216-11"></a>
<a id="__codelineno-216-12" name="__codelineno-216-12" href="#__codelineno-216-12"></a>
<a id="__codelineno-216-13" name="__codelineno-216-13" href="#__codelineno-216-13"></a>--namespace dynatrace
</code></pre></div>
<p><strong>Kubernetes</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-217-1" name="__codelineno-217-1" href="#__codelineno-217-1"></a>kubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/kubernetes-csi.yaml
</code></pre></div>
<p><strong>OpenShift</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-218-1" name="__codelineno-218-1" href="#__codelineno-218-1"></a>oc apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/openshift-csi.yaml
</code></pre></div>
2. Reconfigure (existing) DynaKube for application monitoring mode:</p>
<p>The following side-by-side comparison outlines how to reconfigure a DynaKube CR from classic full-stack to application monitoring:</p>
<p>Classic full-stack monitoring</p>
<p>Application monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-219-1" name="__codelineno-219-1" href="#__codelineno-219-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-219-2" name="__codelineno-219-2" href="#__codelineno-219-2"></a>
<a id="__codelineno-219-3" name="__codelineno-219-3" href="#__codelineno-219-3"></a>
<a id="__codelineno-219-4" name="__codelineno-219-4" href="#__codelineno-219-4"></a>
<a id="__codelineno-219-5" name="__codelineno-219-5" href="#__codelineno-219-5"></a>kind: DynaKube
<a id="__codelineno-219-6" name="__codelineno-219-6" href="#__codelineno-219-6"></a>
<a id="__codelineno-219-7" name="__codelineno-219-7" href="#__codelineno-219-7"></a>
<a id="__codelineno-219-8" name="__codelineno-219-8" href="#__codelineno-219-8"></a>
<a id="__codelineno-219-9" name="__codelineno-219-9" href="#__codelineno-219-9"></a>metadata:
<a id="__codelineno-219-10" name="__codelineno-219-10" href="#__codelineno-219-10"></a>
<a id="__codelineno-219-11" name="__codelineno-219-11" href="#__codelineno-219-11"></a>
<a id="__codelineno-219-12" name="__codelineno-219-12" href="#__codelineno-219-12"></a>
<a id="__codelineno-219-13" name="__codelineno-219-13" href="#__codelineno-219-13"></a>name: dynakube
<a id="__codelineno-219-14" name="__codelineno-219-14" href="#__codelineno-219-14"></a>
<a id="__codelineno-219-15" name="__codelineno-219-15" href="#__codelineno-219-15"></a>
<a id="__codelineno-219-16" name="__codelineno-219-16" href="#__codelineno-219-16"></a>
<a id="__codelineno-219-17" name="__codelineno-219-17" href="#__codelineno-219-17"></a>namespace: dynatrace
<a id="__codelineno-219-18" name="__codelineno-219-18" href="#__codelineno-219-18"></a>
<a id="__codelineno-219-19" name="__codelineno-219-19" href="#__codelineno-219-19"></a>
<a id="__codelineno-219-20" name="__codelineno-219-20" href="#__codelineno-219-20"></a>
<a id="__codelineno-219-21" name="__codelineno-219-21" href="#__codelineno-219-21"></a>spec:
<a id="__codelineno-219-22" name="__codelineno-219-22" href="#__codelineno-219-22"></a>
<a id="__codelineno-219-23" name="__codelineno-219-23" href="#__codelineno-219-23"></a>
<a id="__codelineno-219-24" name="__codelineno-219-24" href="#__codelineno-219-24"></a>
<a id="__codelineno-219-25" name="__codelineno-219-25" href="#__codelineno-219-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-219-26" name="__codelineno-219-26" href="#__codelineno-219-26"></a>
<a id="__codelineno-219-27" name="__codelineno-219-27" href="#__codelineno-219-27"></a>
<a id="__codelineno-219-28" name="__codelineno-219-28" href="#__codelineno-219-28"></a>
<a id="__codelineno-219-29" name="__codelineno-219-29" href="#__codelineno-219-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-219-30" name="__codelineno-219-30" href="#__codelineno-219-30"></a>
<a id="__codelineno-219-31" name="__codelineno-219-31" href="#__codelineno-219-31"></a>
<a id="__codelineno-219-32" name="__codelineno-219-32" href="#__codelineno-219-32"></a>
<a id="__codelineno-219-33" name="__codelineno-219-33" href="#__codelineno-219-33"></a>oneAgent:
<a id="__codelineno-219-34" name="__codelineno-219-34" href="#__codelineno-219-34"></a>
<a id="__codelineno-219-35" name="__codelineno-219-35" href="#__codelineno-219-35"></a>
<a id="__codelineno-219-36" name="__codelineno-219-36" href="#__codelineno-219-36"></a>
<a id="__codelineno-219-37" name="__codelineno-219-37" href="#__codelineno-219-37"></a>classicFullStack:
<a id="__codelineno-219-38" name="__codelineno-219-38" href="#__codelineno-219-38"></a>
<a id="__codelineno-219-39" name="__codelineno-219-39" href="#__codelineno-219-39"></a>
<a id="__codelineno-219-40" name="__codelineno-219-40" href="#__codelineno-219-40"></a>
<a id="__codelineno-219-41" name="__codelineno-219-41" href="#__codelineno-219-41"></a>args:
<a id="__codelineno-219-42" name="__codelineno-219-42" href="#__codelineno-219-42"></a>
<a id="__codelineno-219-43" name="__codelineno-219-43" href="#__codelineno-219-43"></a>
<a id="__codelineno-219-44" name="__codelineno-219-44" href="#__codelineno-219-44"></a>
<a id="__codelineno-219-45" name="__codelineno-219-45" href="#__codelineno-219-45"></a>- &quot;--set-host-group=&lt;host-group&gt;&quot;
<a id="__codelineno-219-46" name="__codelineno-219-46" href="#__codelineno-219-46"></a>
<a id="__codelineno-219-47" name="__codelineno-219-47" href="#__codelineno-219-47"></a>
<a id="__codelineno-219-48" name="__codelineno-219-48" href="#__codelineno-219-48"></a>
<a id="__codelineno-219-49" name="__codelineno-219-49" href="#__codelineno-219-49"></a>activeGate:
<a id="__codelineno-219-50" name="__codelineno-219-50" href="#__codelineno-219-50"></a>
<a id="__codelineno-219-51" name="__codelineno-219-51" href="#__codelineno-219-51"></a>
<a id="__codelineno-219-52" name="__codelineno-219-52" href="#__codelineno-219-52"></a>
<a id="__codelineno-219-53" name="__codelineno-219-53" href="#__codelineno-219-53"></a>capabilities:
<a id="__codelineno-219-54" name="__codelineno-219-54" href="#__codelineno-219-54"></a>
<a id="__codelineno-219-55" name="__codelineno-219-55" href="#__codelineno-219-55"></a>
<a id="__codelineno-219-56" name="__codelineno-219-56" href="#__codelineno-219-56"></a>
<a id="__codelineno-219-57" name="__codelineno-219-57" href="#__codelineno-219-57"></a>- routing
<a id="__codelineno-219-58" name="__codelineno-219-58" href="#__codelineno-219-58"></a>
<a id="__codelineno-219-59" name="__codelineno-219-59" href="#__codelineno-219-59"></a>
<a id="__codelineno-219-60" name="__codelineno-219-60" href="#__codelineno-219-60"></a>
<a id="__codelineno-219-61" name="__codelineno-219-61" href="#__codelineno-219-61"></a>- kubernetes-monitoring
<a id="__codelineno-219-62" name="__codelineno-219-62" href="#__codelineno-219-62"></a>
<a id="__codelineno-219-63" name="__codelineno-219-63" href="#__codelineno-219-63"></a>
<a id="__codelineno-219-64" name="__codelineno-219-64" href="#__codelineno-219-64"></a>
<a id="__codelineno-219-65" name="__codelineno-219-65" href="#__codelineno-219-65"></a>- dynatrace-api
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-220-1" name="__codelineno-220-1" href="#__codelineno-220-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-220-2" name="__codelineno-220-2" href="#__codelineno-220-2"></a>
<a id="__codelineno-220-3" name="__codelineno-220-3" href="#__codelineno-220-3"></a>
<a id="__codelineno-220-4" name="__codelineno-220-4" href="#__codelineno-220-4"></a>
<a id="__codelineno-220-5" name="__codelineno-220-5" href="#__codelineno-220-5"></a>kind: DynaKube
<a id="__codelineno-220-6" name="__codelineno-220-6" href="#__codelineno-220-6"></a>
<a id="__codelineno-220-7" name="__codelineno-220-7" href="#__codelineno-220-7"></a>
<a id="__codelineno-220-8" name="__codelineno-220-8" href="#__codelineno-220-8"></a>
<a id="__codelineno-220-9" name="__codelineno-220-9" href="#__codelineno-220-9"></a>metadata:
<a id="__codelineno-220-10" name="__codelineno-220-10" href="#__codelineno-220-10"></a>
<a id="__codelineno-220-11" name="__codelineno-220-11" href="#__codelineno-220-11"></a>
<a id="__codelineno-220-12" name="__codelineno-220-12" href="#__codelineno-220-12"></a>
<a id="__codelineno-220-13" name="__codelineno-220-13" href="#__codelineno-220-13"></a>name: dynakube
<a id="__codelineno-220-14" name="__codelineno-220-14" href="#__codelineno-220-14"></a>
<a id="__codelineno-220-15" name="__codelineno-220-15" href="#__codelineno-220-15"></a>
<a id="__codelineno-220-16" name="__codelineno-220-16" href="#__codelineno-220-16"></a>
<a id="__codelineno-220-17" name="__codelineno-220-17" href="#__codelineno-220-17"></a>namespace: dynatrace
<a id="__codelineno-220-18" name="__codelineno-220-18" href="#__codelineno-220-18"></a>
<a id="__codelineno-220-19" name="__codelineno-220-19" href="#__codelineno-220-19"></a>
<a id="__codelineno-220-20" name="__codelineno-220-20" href="#__codelineno-220-20"></a>
<a id="__codelineno-220-21" name="__codelineno-220-21" href="#__codelineno-220-21"></a>spec:
<a id="__codelineno-220-22" name="__codelineno-220-22" href="#__codelineno-220-22"></a>
<a id="__codelineno-220-23" name="__codelineno-220-23" href="#__codelineno-220-23"></a>
<a id="__codelineno-220-24" name="__codelineno-220-24" href="#__codelineno-220-24"></a>
<a id="__codelineno-220-25" name="__codelineno-220-25" href="#__codelineno-220-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-220-26" name="__codelineno-220-26" href="#__codelineno-220-26"></a>
<a id="__codelineno-220-27" name="__codelineno-220-27" href="#__codelineno-220-27"></a>
<a id="__codelineno-220-28" name="__codelineno-220-28" href="#__codelineno-220-28"></a>
<a id="__codelineno-220-29" name="__codelineno-220-29" href="#__codelineno-220-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-220-30" name="__codelineno-220-30" href="#__codelineno-220-30"></a>
<a id="__codelineno-220-31" name="__codelineno-220-31" href="#__codelineno-220-31"></a>
<a id="__codelineno-220-32" name="__codelineno-220-32" href="#__codelineno-220-32"></a>
<a id="__codelineno-220-33" name="__codelineno-220-33" href="#__codelineno-220-33"></a>oneAgent:
<a id="__codelineno-220-34" name="__codelineno-220-34" href="#__codelineno-220-34"></a>
<a id="__codelineno-220-35" name="__codelineno-220-35" href="#__codelineno-220-35"></a>
<a id="__codelineno-220-36" name="__codelineno-220-36" href="#__codelineno-220-36"></a>
<a id="__codelineno-220-37" name="__codelineno-220-37" href="#__codelineno-220-37"></a>hostGroup: &lt;host-group&gt;
<a id="__codelineno-220-38" name="__codelineno-220-38" href="#__codelineno-220-38"></a>
<a id="__codelineno-220-39" name="__codelineno-220-39" href="#__codelineno-220-39"></a>
<a id="__codelineno-220-40" name="__codelineno-220-40" href="#__codelineno-220-40"></a>
<a id="__codelineno-220-41" name="__codelineno-220-41" href="#__codelineno-220-41"></a>applicationMonitoring: {}
<a id="__codelineno-220-42" name="__codelineno-220-42" href="#__codelineno-220-42"></a>
<a id="__codelineno-220-43" name="__codelineno-220-43" href="#__codelineno-220-43"></a>
<a id="__codelineno-220-44" name="__codelineno-220-44" href="#__codelineno-220-44"></a>
<a id="__codelineno-220-45" name="__codelineno-220-45" href="#__codelineno-220-45"></a>activeGate:
<a id="__codelineno-220-46" name="__codelineno-220-46" href="#__codelineno-220-46"></a>
<a id="__codelineno-220-47" name="__codelineno-220-47" href="#__codelineno-220-47"></a>
<a id="__codelineno-220-48" name="__codelineno-220-48" href="#__codelineno-220-48"></a>
<a id="__codelineno-220-49" name="__codelineno-220-49" href="#__codelineno-220-49"></a>capabilities:
<a id="__codelineno-220-50" name="__codelineno-220-50" href="#__codelineno-220-50"></a>
<a id="__codelineno-220-51" name="__codelineno-220-51" href="#__codelineno-220-51"></a>
<a id="__codelineno-220-52" name="__codelineno-220-52" href="#__codelineno-220-52"></a>
<a id="__codelineno-220-53" name="__codelineno-220-53" href="#__codelineno-220-53"></a>- routing
<a id="__codelineno-220-54" name="__codelineno-220-54" href="#__codelineno-220-54"></a>
<a id="__codelineno-220-55" name="__codelineno-220-55" href="#__codelineno-220-55"></a>
<a id="__codelineno-220-56" name="__codelineno-220-56" href="#__codelineno-220-56"></a>
<a id="__codelineno-220-57" name="__codelineno-220-57" href="#__codelineno-220-57"></a>- kubernetes-monitoring
<a id="__codelineno-220-58" name="__codelineno-220-58" href="#__codelineno-220-58"></a>
<a id="__codelineno-220-59" name="__codelineno-220-59" href="#__codelineno-220-59"></a>
<a id="__codelineno-220-60" name="__codelineno-220-60" href="#__codelineno-220-60"></a>
<a id="__codelineno-220-61" name="__codelineno-220-61" href="#__codelineno-220-61"></a>- dynatrace-api
</code></pre></div>
<p>For further information on how to configure DynaKube for application monitoring mode, visit the <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">deployment guide</a> or <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters#spec-oneagent-applicationmonitoring" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">DynaKube parameters</a>. Alternatively, download the <a href="https://dt-url.net/0w036dz">DynaKube custom resource sample√Ø¬ª¬ø</a> for application monitoring from GitHub and adapt the DynaKube custom resource according to your requirements.
3. Apply the DynaKube custom resource:</p>
<p>Run the command below to apply the DynaKube custom resource. A validation webhook will provide helpful error messages if there's a problem.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-221-1" name="__codelineno-221-1" href="#__codelineno-221-1"></a>kubectl apply -f dynakube.yaml
</code></pre></div>
<p>This action will lead to the removal of OneAgents in classic full-stack mode and subsequently result in the termination of deep monitoring for application pods shortly thereafter.
4. Wait for code modules to become ready:</p>
<p>Dynatrace Operator picks up the changes in the DynaKube custom resource and ensures code modules are available on each node.</p>
<p>The CSI driver emits Kubernetes events attached to the DynaKube custom resource when the code modules are ready and available on each node. Wait until an event has been logged for each node before proceeding with the next step.
5. Restart application workloads:</p>
<p>Restart all application workloads promptly to trigger code module injection and enable deep monitoring minimizing monitoring outages.</p>
<h4 id="running-cri-o-with-oneagent-versions-1279-or-earlier">Running CRI-O with OneAgent versions 1.279 or earlier<a class="headerlink" href="#running-cri-o-with-oneagent-versions-1279-or-earlier" title="Permanent link">&para;</a></h4>
<p>This section outlines the migration procedure for Kubernetes clusters utilizing a CRI-O container runtime and running OneAgent version 279 or earlier.</p>
<p>It is necessary to remove CRI-O hooks installed and utilized for OneAgent injection in classic full-stack mode. For additional details on CRI-O hooks, refer to this <a href="https://dt-url.net/fq039v2">Red Hat blog post√Ø¬ª¬ø</a>.</p>
<p>Show step-by-step instructions</p>
<p>Follow these instructions to successfully migrate from classic full-stack mode:</p>
<ol>
<li>Delete DynaKube custom resource:</li>
</ol>
<p>Delete the DynaKube configured in classic full-stack mode by running the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-222-1" name="__codelineno-222-1" href="#__codelineno-222-1"></a>kubectl delete dynakube -n dynatrace &lt;dynakube-name&gt;
</code></pre></div>
<p>This action will lead to the removal of OneAgents in classic full-stack mode and subsequently result in the termination of deep monitoring for application pods shortly thereafter. Additionally, if Kubernetes monitoring is configured in the DynaKube custom resource, Kubernetes monitoring will stop instantly with the removal of the ActiveGate.
2. Wait for the OneAgent pods to terminate.
3. Follow the instructions in the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/update-uninstall-operator#cleanup-nodes" title="Upgrade and uninstallation procedures for Dynatrace Operator">Cleanup nodes</a> section to remove Dynatrace CRI-O hooks from all Linux nodes.
4. Continue with step 1 of the <a href="#migrate">standard migration procedure</a>.</p>
<h2 id="changes-in-kubernetes-resources">Changes in Kubernetes resources<a class="headerlink" href="#changes-in-kubernetes-resources" title="Permanent link">&para;</a></h2>
<p>The migration impacts several Kubernetes resources, altering their functions or introducing new components to support the application monitoring mode. Key changes include:</p>
<p>Component</p>
<p>classic full-stack</p>
<p>Application monitoring</p>
<p>Dynatrace Oneagent</p>
<ul>
<li>Deployed as a DaemonSet</li>
<li>Collect host metrics on nodes</li>
<li>
<p>Inject code modules into application pods</p>
</li>
<li>
<p>Not present</p>
</li>
</ul>
<p>Dynatrace Webhook Server</p>
<ul>
<li>
<p>Validates DynaKube definitions</p>
</li>
<li>
<p>Validates DynaKube definitions</p>
</li>
<li>Inject code modules into application pods by modifying pod definitions</li>
</ul>
<p><a href="/docs/ingest-from/setup-on-k8s/how-it-works#csi-driver" title="In-depth description on how the deployment on Kubernetes works.">Dynatrace Operator CSI driver</a></p>
<p>Optional</p>
<ul>
<li>
<p>Not present</p>
</li>
<li>
<p>Deployed as a DaemonSet</p>
</li>
<li>Optimizes the download of code modules to speed up pod injection and reduce storage consumption</li>
</ul>
<hr />
<h2 id="source-classic-to-cloud-nativemd">Source: classic-to-cloud-native.md<a class="headerlink" href="#source-classic-to-cloud-nativemd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migrate from classic full-stack to cloud-native full-stack mode
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/classic-to-cloud-native
scraped: 2026-02-17T05:02:12.035415</p>
<hr />
<h1 id="migrate-from-classic-full-stack-to-cloud-native-full-stack-mode">Migrate from classic full-stack to cloud-native full-stack mode<a class="headerlink" href="#migrate-from-classic-full-stack-to-cloud-native-full-stack-mode" title="Permanent link">&para;</a></h1>
<h1 id="migrate-from-classic-full-stack-to-cloud-native-full-stack-mode_1">Migrate from classic full-stack to cloud-native full-stack mode<a class="headerlink" href="#migrate-from-classic-full-stack-to-cloud-native-full-stack-mode_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>4-min read</li>
<li>Updated on Sep 05, 2025</li>
</ul>
<p>Dynatrace Operator version 1.0.0+</p>
<p>This guide describes the steps required to migrate your Dynatrace deployment from classic full-stack to the <a href="/docs/ingest-from/setup-on-k8s/how-it-works#cloud-native" title="In-depth description on how the deployment on Kubernetes works.">cloud-native full-stack mode</a>.</p>
<h2 id="advantages_1">Advantages<a class="headerlink" href="#advantages_1" title="Permanent link">&para;</a></h2>
<p>The cloud-native full-stack deployment mode represents a major advancement in security, utilizing cloud native methods for OneAgent injection. This approach addresses two key limitations found in the traditional full stack mode:</p>
<ul>
<li>The cloud-native full-stack mode prevents race conditions that can occur when OneAgent DaemonSet pods and monitored application pods start simultaneously.</li>
<li>By leveraging Kubernetes concepts such as admission webhooks and CSI driver for Code Module injection, cloud-native full-stack monitoring reduces the required privileges for OneAgent.</li>
</ul>
<h3 id="considerations-and-implications_1">Considerations and implications<a class="headerlink" href="#considerations-and-implications_1" title="Permanent link">&para;</a></h3>
<ul>
<li>When switching to cloud-native full-stack monitoring, previously deployed OneAgents will get deactivated and deep monitoring of applications will stop. Consequently, the restart of all application pods requiring deep monitoring becomes mandatory. Restarting these pods will ensure that applications are reinjected, allowing deep monitoring to resume.</li>
<li>In cloud-native full-stack mode, Host IDs are determined differently, leading to the temporary presence of both new and old hosts in the host list screens. Old host entities and their associated data follow the data retention policy defined by Dynatrace, remaining accessible for the specified duration.</li>
<li>In cloud-native full-stack mode, container monitoring rules are ignored. Instead, <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">label selectors</a> should be employed to precisely manage OneAgent injection.</li>
</ul>
<h2 id="migrate-to-cloud-native-full-stack">Migrate to cloud-native full-stack<a class="headerlink" href="#migrate-to-cloud-native-full-stack" title="Permanent link">&para;</a></h2>
<p>This section provides all the information needed to migrate from classic to cloud-native full-stack mode.</p>
<p>Using CRI-O container runtime</p>
<p>The standard migration procedure described below requires OneAgent version 1.281 or higher for Kubernetes clusters using CRI-O as their container runtime, so you need to upgrade OneAgents accordingly before continuing with the steps below.</p>
<p>If that upgrade cannot be performed, follow the <a href="#running-crio">Running CRI-O with OneAgent versions 1.279 or earlier</a> procedure for an alternative migration flow, and then return to step 1 of this procedure.</p>
<ol>
<li>Update installation with CSI driver included:</li>
</ol>
<p>Helm</p>
<p>Manifest</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-223-1" name="__codelineno-223-1" href="#__codelineno-223-1"></a>helm upgrade dynatrace-operator oci://docker.io/dynatrace/dynatrace-operator \
<a id="__codelineno-223-2" name="__codelineno-223-2" href="#__codelineno-223-2"></a>
<a id="__codelineno-223-3" name="__codelineno-223-3" href="#__codelineno-223-3"></a>
<a id="__codelineno-223-4" name="__codelineno-223-4" href="#__codelineno-223-4"></a>
<a id="__codelineno-223-5" name="__codelineno-223-5" href="#__codelineno-223-5"></a>--atomic \
<a id="__codelineno-223-6" name="__codelineno-223-6" href="#__codelineno-223-6"></a>
<a id="__codelineno-223-7" name="__codelineno-223-7" href="#__codelineno-223-7"></a>
<a id="__codelineno-223-8" name="__codelineno-223-8" href="#__codelineno-223-8"></a>
<a id="__codelineno-223-9" name="__codelineno-223-9" href="#__codelineno-223-9"></a>--csidriver.enabled=&quot;true&quot; \ # By default CSI driver is enabled
<a id="__codelineno-223-10" name="__codelineno-223-10" href="#__codelineno-223-10"></a>
<a id="__codelineno-223-11" name="__codelineno-223-11" href="#__codelineno-223-11"></a>
<a id="__codelineno-223-12" name="__codelineno-223-12" href="#__codelineno-223-12"></a>
<a id="__codelineno-223-13" name="__codelineno-223-13" href="#__codelineno-223-13"></a>--namespace dynatrace
</code></pre></div>
<p><strong>Kubernetes</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-224-1" name="__codelineno-224-1" href="#__codelineno-224-1"></a>kubectl apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/kubernetes-csi.yaml
</code></pre></div>
<p><strong>OpenShift</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-225-1" name="__codelineno-225-1" href="#__codelineno-225-1"></a>oc apply -f https://github.com/Dynatrace/dynatrace-operator/releases/download/v1.8.1/openshift-csi.yaml
</code></pre></div>
2. Reconfigure (existing) DynaKube for cloud-native full-stack mode:</p>
<p>The following side-by-side comparison outlines how to reconfigure a DynaKube CR from classic full-stack to cloud-native full-stack monitoring:</p>
<p>Classic full-stack monitoring</p>
<p>Cloud-native full-stack monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-226-1" name="__codelineno-226-1" href="#__codelineno-226-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-226-2" name="__codelineno-226-2" href="#__codelineno-226-2"></a>
<a id="__codelineno-226-3" name="__codelineno-226-3" href="#__codelineno-226-3"></a>
<a id="__codelineno-226-4" name="__codelineno-226-4" href="#__codelineno-226-4"></a>
<a id="__codelineno-226-5" name="__codelineno-226-5" href="#__codelineno-226-5"></a>kind: DynaKube
<a id="__codelineno-226-6" name="__codelineno-226-6" href="#__codelineno-226-6"></a>
<a id="__codelineno-226-7" name="__codelineno-226-7" href="#__codelineno-226-7"></a>
<a id="__codelineno-226-8" name="__codelineno-226-8" href="#__codelineno-226-8"></a>
<a id="__codelineno-226-9" name="__codelineno-226-9" href="#__codelineno-226-9"></a>metadata:
<a id="__codelineno-226-10" name="__codelineno-226-10" href="#__codelineno-226-10"></a>
<a id="__codelineno-226-11" name="__codelineno-226-11" href="#__codelineno-226-11"></a>
<a id="__codelineno-226-12" name="__codelineno-226-12" href="#__codelineno-226-12"></a>
<a id="__codelineno-226-13" name="__codelineno-226-13" href="#__codelineno-226-13"></a>name: dynakube
<a id="__codelineno-226-14" name="__codelineno-226-14" href="#__codelineno-226-14"></a>
<a id="__codelineno-226-15" name="__codelineno-226-15" href="#__codelineno-226-15"></a>
<a id="__codelineno-226-16" name="__codelineno-226-16" href="#__codelineno-226-16"></a>
<a id="__codelineno-226-17" name="__codelineno-226-17" href="#__codelineno-226-17"></a>namespace: dynatrace
<a id="__codelineno-226-18" name="__codelineno-226-18" href="#__codelineno-226-18"></a>
<a id="__codelineno-226-19" name="__codelineno-226-19" href="#__codelineno-226-19"></a>
<a id="__codelineno-226-20" name="__codelineno-226-20" href="#__codelineno-226-20"></a>
<a id="__codelineno-226-21" name="__codelineno-226-21" href="#__codelineno-226-21"></a>spec:
<a id="__codelineno-226-22" name="__codelineno-226-22" href="#__codelineno-226-22"></a>
<a id="__codelineno-226-23" name="__codelineno-226-23" href="#__codelineno-226-23"></a>
<a id="__codelineno-226-24" name="__codelineno-226-24" href="#__codelineno-226-24"></a>
<a id="__codelineno-226-25" name="__codelineno-226-25" href="#__codelineno-226-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-226-26" name="__codelineno-226-26" href="#__codelineno-226-26"></a>
<a id="__codelineno-226-27" name="__codelineno-226-27" href="#__codelineno-226-27"></a>
<a id="__codelineno-226-28" name="__codelineno-226-28" href="#__codelineno-226-28"></a>
<a id="__codelineno-226-29" name="__codelineno-226-29" href="#__codelineno-226-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-226-30" name="__codelineno-226-30" href="#__codelineno-226-30"></a>
<a id="__codelineno-226-31" name="__codelineno-226-31" href="#__codelineno-226-31"></a>
<a id="__codelineno-226-32" name="__codelineno-226-32" href="#__codelineno-226-32"></a>
<a id="__codelineno-226-33" name="__codelineno-226-33" href="#__codelineno-226-33"></a>oneAgent:
<a id="__codelineno-226-34" name="__codelineno-226-34" href="#__codelineno-226-34"></a>
<a id="__codelineno-226-35" name="__codelineno-226-35" href="#__codelineno-226-35"></a>
<a id="__codelineno-226-36" name="__codelineno-226-36" href="#__codelineno-226-36"></a>
<a id="__codelineno-226-37" name="__codelineno-226-37" href="#__codelineno-226-37"></a>hostGroup: &lt;host-group&gt;
<a id="__codelineno-226-38" name="__codelineno-226-38" href="#__codelineno-226-38"></a>
<a id="__codelineno-226-39" name="__codelineno-226-39" href="#__codelineno-226-39"></a>
<a id="__codelineno-226-40" name="__codelineno-226-40" href="#__codelineno-226-40"></a>
<a id="__codelineno-226-41" name="__codelineno-226-41" href="#__codelineno-226-41"></a>classicFullStack: {}
<a id="__codelineno-226-42" name="__codelineno-226-42" href="#__codelineno-226-42"></a>
<a id="__codelineno-226-43" name="__codelineno-226-43" href="#__codelineno-226-43"></a>
<a id="__codelineno-226-44" name="__codelineno-226-44" href="#__codelineno-226-44"></a>
<a id="__codelineno-226-45" name="__codelineno-226-45" href="#__codelineno-226-45"></a>activeGate:
<a id="__codelineno-226-46" name="__codelineno-226-46" href="#__codelineno-226-46"></a>
<a id="__codelineno-226-47" name="__codelineno-226-47" href="#__codelineno-226-47"></a>
<a id="__codelineno-226-48" name="__codelineno-226-48" href="#__codelineno-226-48"></a>
<a id="__codelineno-226-49" name="__codelineno-226-49" href="#__codelineno-226-49"></a>capabilities:
<a id="__codelineno-226-50" name="__codelineno-226-50" href="#__codelineno-226-50"></a>
<a id="__codelineno-226-51" name="__codelineno-226-51" href="#__codelineno-226-51"></a>
<a id="__codelineno-226-52" name="__codelineno-226-52" href="#__codelineno-226-52"></a>
<a id="__codelineno-226-53" name="__codelineno-226-53" href="#__codelineno-226-53"></a>- routing
<a id="__codelineno-226-54" name="__codelineno-226-54" href="#__codelineno-226-54"></a>
<a id="__codelineno-226-55" name="__codelineno-226-55" href="#__codelineno-226-55"></a>
<a id="__codelineno-226-56" name="__codelineno-226-56" href="#__codelineno-226-56"></a>
<a id="__codelineno-226-57" name="__codelineno-226-57" href="#__codelineno-226-57"></a>- kubernetes-monitoring
<a id="__codelineno-226-58" name="__codelineno-226-58" href="#__codelineno-226-58"></a>
<a id="__codelineno-226-59" name="__codelineno-226-59" href="#__codelineno-226-59"></a>
<a id="__codelineno-226-60" name="__codelineno-226-60" href="#__codelineno-226-60"></a>
<a id="__codelineno-226-61" name="__codelineno-226-61" href="#__codelineno-226-61"></a>- dynatrace-api
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-227-1" name="__codelineno-227-1" href="#__codelineno-227-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-227-2" name="__codelineno-227-2" href="#__codelineno-227-2"></a>
<a id="__codelineno-227-3" name="__codelineno-227-3" href="#__codelineno-227-3"></a>
<a id="__codelineno-227-4" name="__codelineno-227-4" href="#__codelineno-227-4"></a>
<a id="__codelineno-227-5" name="__codelineno-227-5" href="#__codelineno-227-5"></a>kind: DynaKube
<a id="__codelineno-227-6" name="__codelineno-227-6" href="#__codelineno-227-6"></a>
<a id="__codelineno-227-7" name="__codelineno-227-7" href="#__codelineno-227-7"></a>
<a id="__codelineno-227-8" name="__codelineno-227-8" href="#__codelineno-227-8"></a>
<a id="__codelineno-227-9" name="__codelineno-227-9" href="#__codelineno-227-9"></a>metadata:
<a id="__codelineno-227-10" name="__codelineno-227-10" href="#__codelineno-227-10"></a>
<a id="__codelineno-227-11" name="__codelineno-227-11" href="#__codelineno-227-11"></a>
<a id="__codelineno-227-12" name="__codelineno-227-12" href="#__codelineno-227-12"></a>
<a id="__codelineno-227-13" name="__codelineno-227-13" href="#__codelineno-227-13"></a>name: dynakube
<a id="__codelineno-227-14" name="__codelineno-227-14" href="#__codelineno-227-14"></a>
<a id="__codelineno-227-15" name="__codelineno-227-15" href="#__codelineno-227-15"></a>
<a id="__codelineno-227-16" name="__codelineno-227-16" href="#__codelineno-227-16"></a>
<a id="__codelineno-227-17" name="__codelineno-227-17" href="#__codelineno-227-17"></a>namespace: dynatrace
<a id="__codelineno-227-18" name="__codelineno-227-18" href="#__codelineno-227-18"></a>
<a id="__codelineno-227-19" name="__codelineno-227-19" href="#__codelineno-227-19"></a>
<a id="__codelineno-227-20" name="__codelineno-227-20" href="#__codelineno-227-20"></a>
<a id="__codelineno-227-21" name="__codelineno-227-21" href="#__codelineno-227-21"></a>spec:
<a id="__codelineno-227-22" name="__codelineno-227-22" href="#__codelineno-227-22"></a>
<a id="__codelineno-227-23" name="__codelineno-227-23" href="#__codelineno-227-23"></a>
<a id="__codelineno-227-24" name="__codelineno-227-24" href="#__codelineno-227-24"></a>
<a id="__codelineno-227-25" name="__codelineno-227-25" href="#__codelineno-227-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-227-26" name="__codelineno-227-26" href="#__codelineno-227-26"></a>
<a id="__codelineno-227-27" name="__codelineno-227-27" href="#__codelineno-227-27"></a>
<a id="__codelineno-227-28" name="__codelineno-227-28" href="#__codelineno-227-28"></a>
<a id="__codelineno-227-29" name="__codelineno-227-29" href="#__codelineno-227-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-227-30" name="__codelineno-227-30" href="#__codelineno-227-30"></a>
<a id="__codelineno-227-31" name="__codelineno-227-31" href="#__codelineno-227-31"></a>
<a id="__codelineno-227-32" name="__codelineno-227-32" href="#__codelineno-227-32"></a>
<a id="__codelineno-227-33" name="__codelineno-227-33" href="#__codelineno-227-33"></a>oneAgent:
<a id="__codelineno-227-34" name="__codelineno-227-34" href="#__codelineno-227-34"></a>
<a id="__codelineno-227-35" name="__codelineno-227-35" href="#__codelineno-227-35"></a>
<a id="__codelineno-227-36" name="__codelineno-227-36" href="#__codelineno-227-36"></a>
<a id="__codelineno-227-37" name="__codelineno-227-37" href="#__codelineno-227-37"></a>hostGroup: &lt;host-group&gt;
<a id="__codelineno-227-38" name="__codelineno-227-38" href="#__codelineno-227-38"></a>
<a id="__codelineno-227-39" name="__codelineno-227-39" href="#__codelineno-227-39"></a>
<a id="__codelineno-227-40" name="__codelineno-227-40" href="#__codelineno-227-40"></a>
<a id="__codelineno-227-41" name="__codelineno-227-41" href="#__codelineno-227-41"></a>cloudNativeFullStack: {}
<a id="__codelineno-227-42" name="__codelineno-227-42" href="#__codelineno-227-42"></a>
<a id="__codelineno-227-43" name="__codelineno-227-43" href="#__codelineno-227-43"></a>
<a id="__codelineno-227-44" name="__codelineno-227-44" href="#__codelineno-227-44"></a>
<a id="__codelineno-227-45" name="__codelineno-227-45" href="#__codelineno-227-45"></a>activeGate:
<a id="__codelineno-227-46" name="__codelineno-227-46" href="#__codelineno-227-46"></a>
<a id="__codelineno-227-47" name="__codelineno-227-47" href="#__codelineno-227-47"></a>
<a id="__codelineno-227-48" name="__codelineno-227-48" href="#__codelineno-227-48"></a>
<a id="__codelineno-227-49" name="__codelineno-227-49" href="#__codelineno-227-49"></a>capabilities:
<a id="__codelineno-227-50" name="__codelineno-227-50" href="#__codelineno-227-50"></a>
<a id="__codelineno-227-51" name="__codelineno-227-51" href="#__codelineno-227-51"></a>
<a id="__codelineno-227-52" name="__codelineno-227-52" href="#__codelineno-227-52"></a>
<a id="__codelineno-227-53" name="__codelineno-227-53" href="#__codelineno-227-53"></a>- routing
<a id="__codelineno-227-54" name="__codelineno-227-54" href="#__codelineno-227-54"></a>
<a id="__codelineno-227-55" name="__codelineno-227-55" href="#__codelineno-227-55"></a>
<a id="__codelineno-227-56" name="__codelineno-227-56" href="#__codelineno-227-56"></a>
<a id="__codelineno-227-57" name="__codelineno-227-57" href="#__codelineno-227-57"></a>- kubernetes-monitoring
<a id="__codelineno-227-58" name="__codelineno-227-58" href="#__codelineno-227-58"></a>
<a id="__codelineno-227-59" name="__codelineno-227-59" href="#__codelineno-227-59"></a>
<a id="__codelineno-227-60" name="__codelineno-227-60" href="#__codelineno-227-60"></a>
<a id="__codelineno-227-61" name="__codelineno-227-61" href="#__codelineno-227-61"></a>- dynatrace-api
</code></pre></div>
<p>For further information on how to configure DynaKube for cloud-native full-stack mode, see the comparison below, visit the <a href="/docs/ingest-from/setup-on-k8s/deployment/full-stack-observability" title="Deploy Dynatrace Operator in cloud-native full-stack mode to Kubernetes">deployment guide</a> or <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters#spec-oneagent-cloudnativefullstack" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">DynaKube parameters</a>. Alternatively, download the <a href="https://dt-url.net/9n636jg">DynaKube custom resource sample√Ø¬ª¬ø</a> for cloud-native full-stack from GitHub and adapt the DynaKube custom resource according to your requirements.
3. Apply the DynaKube custom resource:</p>
<p>Run the command below to apply the DynaKube custom resource. A validation webhook will provide helpful error messages if there's a problem.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-228-1" name="__codelineno-228-1" href="#__codelineno-228-1"></a>kubectl apply -f dynakube.yaml
</code></pre></div>
<p>This action will lead to the removal of OneAgents in classic full-stack mode and subsequently result in the termination of deep monitoring for application pods shortly thereafter.
4. Wait for OneAgents to become ready:</p>
<p>The Dynatrace Operator will pick up the changes in the DynaKube custom resource and ensure new OneAgents are available on each node.
5. Restart application workloads:</p>
<p>Restart all application workloads promptly to trigger OneAgent injection and enable deep monitoring preventing/minimizing monitoring outages.</p>
<h4 id="running-cri-o-with-oneagent-versions-1279-or-earlier_1">Running CRI-O with OneAgent versions 1.279 or earlier<a class="headerlink" href="#running-cri-o-with-oneagent-versions-1279-or-earlier_1" title="Permanent link">&para;</a></h4>
<p>This section outlines the migration procedure for Kubernetes clusters utilizing a CRI-O container runtime and running OneAgent version 279 or earlier.</p>
<p>It is necessary to remove CRI-O hooks installed and utilized for OneAgent injection in classic full-stack mode. For additional details on CRI-O hooks, refer to this <a href="https://dt-url.net/fq039v2">Red Hat blog post√Ø¬ª¬ø</a>.</p>
<p>Show step-by-step instructions</p>
<p>Follow these instructions to successfully migrate from classic full-stack mode:</p>
<ol>
<li>Delete DynaKube custom resource:</li>
</ol>
<p>Delete the DynaKube configured in classic full-stack mode by running the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-229-1" name="__codelineno-229-1" href="#__codelineno-229-1"></a>kubectl delete dynakube -n dynatrace &lt;dynakube-name&gt;
</code></pre></div>
<p>This action will lead to the removal of OneAgents in classic full-stack mode and subsequently result in the termination of deep monitoring for application pods shortly thereafter. Additionally, if Kubernetes monitoring is configured in the DynaKube custom resource, Kubernetes monitoring will stop instantly with the removal of the ActiveGate.
2. Wait for the OneAgent pods to terminate.
3. Follow the instructions in the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/update-uninstall-operator#cleanup-nodes" title="Upgrade and uninstallation procedures for Dynatrace Operator">Cleanup nodes</a> section to remove Dynatrace CRI-O hooks from all Linux nodes.
4. Continue with step 1 of the <a href="#migrate">standard migration procedure</a>.</p>
<h2 id="changes-in-kubernetes-resources_1">Changes in Kubernetes resources<a class="headerlink" href="#changes-in-kubernetes-resources_1" title="Permanent link">&para;</a></h2>
<p>This migration impacts several Kubernetes resources, altering their functions or introducing new components to support cloud-native injection mode. Key changes include:</p>
<p>Component</p>
<p>classic full-stack</p>
<p>cloud-native full-stack</p>
<p>OneAgent</p>
<ul>
<li>Deployed as a DaemonSet</li>
<li>Collect host metrics on nodes</li>
<li>
<p>Inject code modules into application pods</p>
</li>
<li>
<p>Deployed as a DaemonSet</p>
</li>
<li>Collect host metrics on nodes</li>
</ul>
<p>Dynatrace Webhook Server</p>
<ul>
<li>
<p>Validates DynaKube definitions</p>
</li>
<li>
<p>Validates DynaKube definitions</p>
</li>
<li>Inject code modules into application pods by modifying pod definitions</li>
</ul>
<p><a href="/docs/ingest-from/setup-on-k8s/how-it-works#csi-driver" title="In-depth description on how the deployment on Kubernetes works.">Dynatrace Operator CSI driver</a></p>
<p>Required</p>
<ul>
<li>
<p>Not present</p>
</li>
<li>
<p>Deployed as a DaemonSet</p>
</li>
<li>Optimizes the download of code modules to speed up pod injection and reduce storage consumption</li>
</ul>
<hr />
<h2 id="source-cloud-native-to-app-monitoringmd">Source: cloud-native-to-app-monitoring.md<a class="headerlink" href="#source-cloud-native-to-app-monitoringmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migrate from cloud-native full-stack to application monitoring mode
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/cloud-native-to-app-monitoring
scraped: 2026-02-17T05:09:26.726342</p>
<hr />
<h1 id="migrate-from-cloud-native-full-stack-to-application-monitoring-mode">Migrate from cloud-native full-stack to application monitoring mode<a class="headerlink" href="#migrate-from-cloud-native-full-stack-to-application-monitoring-mode" title="Permanent link">&para;</a></h1>
<h1 id="migrate-from-cloud-native-full-stack-to-application-monitoring-mode_1">Migrate from cloud-native full-stack to application monitoring mode<a class="headerlink" href="#migrate-from-cloud-native-full-stack-to-application-monitoring-mode_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Apr 09, 2024</li>
</ul>
<p>Dynatrace Operator version 1.0.0+</p>
<p>This guide describes the steps required to migrate your Dynatrace deployment from cloud-native full-stack to the <a href="/docs/ingest-from/setup-on-k8s/how-it-works#auto" title="In-depth description on how the deployment on Kubernetes works.">application monitoring mode</a>.</p>
<h2 id="advantages_2">Advantages<a class="headerlink" href="#advantages_2" title="Permanent link">&para;</a></h2>
<p>To only monitor selected applications on Kubernetes, application monitoring offers a flexible approach with the following benefits:</p>
<ul>
<li>The application monitoring mode, similar to the cloud native full stack mode, prevents race conditions that can occur when OneAgent DaemonSet pods and monitored application pods start simultaneously.</li>
<li>By leveraging Kubernetes concepts such as admission webhooks and CSI driver for Code Module injection, application monitoring mode reduces the required privileges for OneAgent.</li>
</ul>
<h3 id="considerations-and-implications_2">Considerations and implications<a class="headerlink" href="#considerations-and-implications_2" title="Permanent link">&para;</a></h3>
<ul>
<li>When switching to application monitoring, previously deployed OneAgents will get deactivated and deep monitoring of applications will stop. Consequently, restarting all application pods that require deep monitoring becomes mandatory. Restarting these pods ensures that applications are reinjected, allowing deep monitoring to resume.</li>
<li>In application monitoring mode, container monitoring rules are ignored. Instead, <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">label selectors</a> should be employed to precisely manage OneAgent injection.</li>
<li>Log monitoring requires <a href="/docs/analyze-explore-automate/logs/lma-log-ingestion/lma-log-ingestion-via-oa/lma-fluent-bit-logs-k8s" title="Integrate Fluent Bit in Kubernetes to stream logs to Dynatrace.">additional setup</a>.</li>
</ul>
<h2 id="migrate-to-application-monitoring-mode_1">Migrate to application monitoring mode<a class="headerlink" href="#migrate-to-application-monitoring-mode_1" title="Permanent link">&para;</a></h2>
<p>This section provides all the information needed to perform the migration from cloud-native full-stack to application monitoring mode.</p>
<ol>
<li>Reconfigure (existing) DynaKube for application monitoring mode:</li>
</ol>
<p>The following side-by-side comparison outlines how to reconfigure a DynaKube CR from cloud-native full-stack to application monitoring:</p>
<p>Cloud-native full-stack monitoring</p>
<p>Application monitoring</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-230-1" name="__codelineno-230-1" href="#__codelineno-230-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-230-2" name="__codelineno-230-2" href="#__codelineno-230-2"></a>
<a id="__codelineno-230-3" name="__codelineno-230-3" href="#__codelineno-230-3"></a>
<a id="__codelineno-230-4" name="__codelineno-230-4" href="#__codelineno-230-4"></a>
<a id="__codelineno-230-5" name="__codelineno-230-5" href="#__codelineno-230-5"></a>kind: DynaKube
<a id="__codelineno-230-6" name="__codelineno-230-6" href="#__codelineno-230-6"></a>
<a id="__codelineno-230-7" name="__codelineno-230-7" href="#__codelineno-230-7"></a>
<a id="__codelineno-230-8" name="__codelineno-230-8" href="#__codelineno-230-8"></a>
<a id="__codelineno-230-9" name="__codelineno-230-9" href="#__codelineno-230-9"></a>metadata:
<a id="__codelineno-230-10" name="__codelineno-230-10" href="#__codelineno-230-10"></a>
<a id="__codelineno-230-11" name="__codelineno-230-11" href="#__codelineno-230-11"></a>
<a id="__codelineno-230-12" name="__codelineno-230-12" href="#__codelineno-230-12"></a>
<a id="__codelineno-230-13" name="__codelineno-230-13" href="#__codelineno-230-13"></a>name: dynakube
<a id="__codelineno-230-14" name="__codelineno-230-14" href="#__codelineno-230-14"></a>
<a id="__codelineno-230-15" name="__codelineno-230-15" href="#__codelineno-230-15"></a>
<a id="__codelineno-230-16" name="__codelineno-230-16" href="#__codelineno-230-16"></a>
<a id="__codelineno-230-17" name="__codelineno-230-17" href="#__codelineno-230-17"></a>namespace: dynatrace
<a id="__codelineno-230-18" name="__codelineno-230-18" href="#__codelineno-230-18"></a>
<a id="__codelineno-230-19" name="__codelineno-230-19" href="#__codelineno-230-19"></a>
<a id="__codelineno-230-20" name="__codelineno-230-20" href="#__codelineno-230-20"></a>
<a id="__codelineno-230-21" name="__codelineno-230-21" href="#__codelineno-230-21"></a>spec:
<a id="__codelineno-230-22" name="__codelineno-230-22" href="#__codelineno-230-22"></a>
<a id="__codelineno-230-23" name="__codelineno-230-23" href="#__codelineno-230-23"></a>
<a id="__codelineno-230-24" name="__codelineno-230-24" href="#__codelineno-230-24"></a>
<a id="__codelineno-230-25" name="__codelineno-230-25" href="#__codelineno-230-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-230-26" name="__codelineno-230-26" href="#__codelineno-230-26"></a>
<a id="__codelineno-230-27" name="__codelineno-230-27" href="#__codelineno-230-27"></a>
<a id="__codelineno-230-28" name="__codelineno-230-28" href="#__codelineno-230-28"></a>
<a id="__codelineno-230-29" name="__codelineno-230-29" href="#__codelineno-230-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-230-30" name="__codelineno-230-30" href="#__codelineno-230-30"></a>
<a id="__codelineno-230-31" name="__codelineno-230-31" href="#__codelineno-230-31"></a>
<a id="__codelineno-230-32" name="__codelineno-230-32" href="#__codelineno-230-32"></a>
<a id="__codelineno-230-33" name="__codelineno-230-33" href="#__codelineno-230-33"></a>oneAgent:
<a id="__codelineno-230-34" name="__codelineno-230-34" href="#__codelineno-230-34"></a>
<a id="__codelineno-230-35" name="__codelineno-230-35" href="#__codelineno-230-35"></a>
<a id="__codelineno-230-36" name="__codelineno-230-36" href="#__codelineno-230-36"></a>
<a id="__codelineno-230-37" name="__codelineno-230-37" href="#__codelineno-230-37"></a>cloudNativeFullStack:
<a id="__codelineno-230-38" name="__codelineno-230-38" href="#__codelineno-230-38"></a>
<a id="__codelineno-230-39" name="__codelineno-230-39" href="#__codelineno-230-39"></a>
<a id="__codelineno-230-40" name="__codelineno-230-40" href="#__codelineno-230-40"></a>
<a id="__codelineno-230-41" name="__codelineno-230-41" href="#__codelineno-230-41"></a>args:
<a id="__codelineno-230-42" name="__codelineno-230-42" href="#__codelineno-230-42"></a>
<a id="__codelineno-230-43" name="__codelineno-230-43" href="#__codelineno-230-43"></a>
<a id="__codelineno-230-44" name="__codelineno-230-44" href="#__codelineno-230-44"></a>
<a id="__codelineno-230-45" name="__codelineno-230-45" href="#__codelineno-230-45"></a>- &quot;--set-host-group=&lt;host-group&gt;&quot;
<a id="__codelineno-230-46" name="__codelineno-230-46" href="#__codelineno-230-46"></a>
<a id="__codelineno-230-47" name="__codelineno-230-47" href="#__codelineno-230-47"></a>
<a id="__codelineno-230-48" name="__codelineno-230-48" href="#__codelineno-230-48"></a>
<a id="__codelineno-230-49" name="__codelineno-230-49" href="#__codelineno-230-49"></a>activeGate:
<a id="__codelineno-230-50" name="__codelineno-230-50" href="#__codelineno-230-50"></a>
<a id="__codelineno-230-51" name="__codelineno-230-51" href="#__codelineno-230-51"></a>
<a id="__codelineno-230-52" name="__codelineno-230-52" href="#__codelineno-230-52"></a>
<a id="__codelineno-230-53" name="__codelineno-230-53" href="#__codelineno-230-53"></a>capabilities:
<a id="__codelineno-230-54" name="__codelineno-230-54" href="#__codelineno-230-54"></a>
<a id="__codelineno-230-55" name="__codelineno-230-55" href="#__codelineno-230-55"></a>
<a id="__codelineno-230-56" name="__codelineno-230-56" href="#__codelineno-230-56"></a>
<a id="__codelineno-230-57" name="__codelineno-230-57" href="#__codelineno-230-57"></a>- routing
<a id="__codelineno-230-58" name="__codelineno-230-58" href="#__codelineno-230-58"></a>
<a id="__codelineno-230-59" name="__codelineno-230-59" href="#__codelineno-230-59"></a>
<a id="__codelineno-230-60" name="__codelineno-230-60" href="#__codelineno-230-60"></a>
<a id="__codelineno-230-61" name="__codelineno-230-61" href="#__codelineno-230-61"></a>- kubernetes-monitoring
<a id="__codelineno-230-62" name="__codelineno-230-62" href="#__codelineno-230-62"></a>
<a id="__codelineno-230-63" name="__codelineno-230-63" href="#__codelineno-230-63"></a>
<a id="__codelineno-230-64" name="__codelineno-230-64" href="#__codelineno-230-64"></a>
<a id="__codelineno-230-65" name="__codelineno-230-65" href="#__codelineno-230-65"></a>- dynatrace-api
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-231-1" name="__codelineno-231-1" href="#__codelineno-231-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-231-2" name="__codelineno-231-2" href="#__codelineno-231-2"></a>
<a id="__codelineno-231-3" name="__codelineno-231-3" href="#__codelineno-231-3"></a>
<a id="__codelineno-231-4" name="__codelineno-231-4" href="#__codelineno-231-4"></a>
<a id="__codelineno-231-5" name="__codelineno-231-5" href="#__codelineno-231-5"></a>kind: DynaKube
<a id="__codelineno-231-6" name="__codelineno-231-6" href="#__codelineno-231-6"></a>
<a id="__codelineno-231-7" name="__codelineno-231-7" href="#__codelineno-231-7"></a>
<a id="__codelineno-231-8" name="__codelineno-231-8" href="#__codelineno-231-8"></a>
<a id="__codelineno-231-9" name="__codelineno-231-9" href="#__codelineno-231-9"></a>metadata:
<a id="__codelineno-231-10" name="__codelineno-231-10" href="#__codelineno-231-10"></a>
<a id="__codelineno-231-11" name="__codelineno-231-11" href="#__codelineno-231-11"></a>
<a id="__codelineno-231-12" name="__codelineno-231-12" href="#__codelineno-231-12"></a>
<a id="__codelineno-231-13" name="__codelineno-231-13" href="#__codelineno-231-13"></a>name: dynakube
<a id="__codelineno-231-14" name="__codelineno-231-14" href="#__codelineno-231-14"></a>
<a id="__codelineno-231-15" name="__codelineno-231-15" href="#__codelineno-231-15"></a>
<a id="__codelineno-231-16" name="__codelineno-231-16" href="#__codelineno-231-16"></a>
<a id="__codelineno-231-17" name="__codelineno-231-17" href="#__codelineno-231-17"></a>namespace: dynatrace
<a id="__codelineno-231-18" name="__codelineno-231-18" href="#__codelineno-231-18"></a>
<a id="__codelineno-231-19" name="__codelineno-231-19" href="#__codelineno-231-19"></a>
<a id="__codelineno-231-20" name="__codelineno-231-20" href="#__codelineno-231-20"></a>
<a id="__codelineno-231-21" name="__codelineno-231-21" href="#__codelineno-231-21"></a>spec:
<a id="__codelineno-231-22" name="__codelineno-231-22" href="#__codelineno-231-22"></a>
<a id="__codelineno-231-23" name="__codelineno-231-23" href="#__codelineno-231-23"></a>
<a id="__codelineno-231-24" name="__codelineno-231-24" href="#__codelineno-231-24"></a>
<a id="__codelineno-231-25" name="__codelineno-231-25" href="#__codelineno-231-25"></a>apiUrl: https://&lt;environment-id&gt;.live.dynatrace.com/api
<a id="__codelineno-231-26" name="__codelineno-231-26" href="#__codelineno-231-26"></a>
<a id="__codelineno-231-27" name="__codelineno-231-27" href="#__codelineno-231-27"></a>
<a id="__codelineno-231-28" name="__codelineno-231-28" href="#__codelineno-231-28"></a>
<a id="__codelineno-231-29" name="__codelineno-231-29" href="#__codelineno-231-29"></a>networkZone: &lt;network-zone&gt;
<a id="__codelineno-231-30" name="__codelineno-231-30" href="#__codelineno-231-30"></a>
<a id="__codelineno-231-31" name="__codelineno-231-31" href="#__codelineno-231-31"></a>
<a id="__codelineno-231-32" name="__codelineno-231-32" href="#__codelineno-231-32"></a>
<a id="__codelineno-231-33" name="__codelineno-231-33" href="#__codelineno-231-33"></a>oneAgent:
<a id="__codelineno-231-34" name="__codelineno-231-34" href="#__codelineno-231-34"></a>
<a id="__codelineno-231-35" name="__codelineno-231-35" href="#__codelineno-231-35"></a>
<a id="__codelineno-231-36" name="__codelineno-231-36" href="#__codelineno-231-36"></a>
<a id="__codelineno-231-37" name="__codelineno-231-37" href="#__codelineno-231-37"></a>hostGroup: &lt;host-group&gt;
<a id="__codelineno-231-38" name="__codelineno-231-38" href="#__codelineno-231-38"></a>
<a id="__codelineno-231-39" name="__codelineno-231-39" href="#__codelineno-231-39"></a>
<a id="__codelineno-231-40" name="__codelineno-231-40" href="#__codelineno-231-40"></a>
<a id="__codelineno-231-41" name="__codelineno-231-41" href="#__codelineno-231-41"></a>applicationMonitoring: {}
<a id="__codelineno-231-42" name="__codelineno-231-42" href="#__codelineno-231-42"></a>
<a id="__codelineno-231-43" name="__codelineno-231-43" href="#__codelineno-231-43"></a>
<a id="__codelineno-231-44" name="__codelineno-231-44" href="#__codelineno-231-44"></a>
<a id="__codelineno-231-45" name="__codelineno-231-45" href="#__codelineno-231-45"></a>activeGate:
<a id="__codelineno-231-46" name="__codelineno-231-46" href="#__codelineno-231-46"></a>
<a id="__codelineno-231-47" name="__codelineno-231-47" href="#__codelineno-231-47"></a>
<a id="__codelineno-231-48" name="__codelineno-231-48" href="#__codelineno-231-48"></a>
<a id="__codelineno-231-49" name="__codelineno-231-49" href="#__codelineno-231-49"></a>capabilities:
<a id="__codelineno-231-50" name="__codelineno-231-50" href="#__codelineno-231-50"></a>
<a id="__codelineno-231-51" name="__codelineno-231-51" href="#__codelineno-231-51"></a>
<a id="__codelineno-231-52" name="__codelineno-231-52" href="#__codelineno-231-52"></a>
<a id="__codelineno-231-53" name="__codelineno-231-53" href="#__codelineno-231-53"></a>- routing
<a id="__codelineno-231-54" name="__codelineno-231-54" href="#__codelineno-231-54"></a>
<a id="__codelineno-231-55" name="__codelineno-231-55" href="#__codelineno-231-55"></a>
<a id="__codelineno-231-56" name="__codelineno-231-56" href="#__codelineno-231-56"></a>
<a id="__codelineno-231-57" name="__codelineno-231-57" href="#__codelineno-231-57"></a>- kubernetes-monitoring
<a id="__codelineno-231-58" name="__codelineno-231-58" href="#__codelineno-231-58"></a>
<a id="__codelineno-231-59" name="__codelineno-231-59" href="#__codelineno-231-59"></a>
<a id="__codelineno-231-60" name="__codelineno-231-60" href="#__codelineno-231-60"></a>
<a id="__codelineno-231-61" name="__codelineno-231-61" href="#__codelineno-231-61"></a>- dynatrace-api
</code></pre></div>
<p>For further information on how to configure DynaKube for application monitoring mode, visit the <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">deployment guide</a> or <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters#spec-oneagent-applicationmonitoring" title="List the available parameters for setting up Dynatrace Operator on Kubernetes.">DynaKube parameters</a>. Alternatively, download the <a href="https://dt-url.net/0w036dz">DynaKube custom resource sample√Ø¬ª¬ø</a> for application monitoring from GitHub and adapt the DynaKube custom resource according to your requirements.
2. Apply the DynaKube custom resource:</p>
<p>Run the command below to apply the DynaKube custom resource. A validation webhook will provide helpful error messages if there's a problem.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-232-1" name="__codelineno-232-1" href="#__codelineno-232-1"></a>kubectl apply -f dynakube.yaml
</code></pre></div>
<p>This action will lead to the removal of OneAgents in cloud-native full-stack mode and subsequently result in the termination of deep monitoring for application pods shortly thereafter.
3. Restart application workloads:</p>
<p>Restart all application workloads promptly to trigger OneAgent injection and enable deep monitoring minimizing monitoring outages.</p>
<h2 id="changes-in-kubernetes-resources_2">Changes in Kubernetes resources<a class="headerlink" href="#changes-in-kubernetes-resources_2" title="Permanent link">&para;</a></h2>
<p>The migration impacts several Kubernetes resources, altering their functions or introducing new components to support the application monitoring monitoring mode. Key changes include:</p>
<p>Component</p>
<p>cloud-native full-stack</p>
<p>Application monitoring</p>
<p>Dynatrace OneAgent</p>
<ul>
<li>Deployed as a DaemonSet</li>
<li>
<p>Collect host metrics on nodes</p>
</li>
<li>
<p>Not present</p>
</li>
</ul>
<p>Dynatrace Webhook Server</p>
<ul>
<li>Validates DynaKube definitions</li>
<li>
<p>Inject code modules into application pods by modifying pod definitions</p>
</li>
<li>
<p>Validates DynaKube definitions</p>
</li>
<li>Inject code modules into application pods by modifying pod definitions</li>
</ul>
<p><a href="/docs/ingest-from/setup-on-k8s/how-it-works#csi-driver" title="In-depth description on how the deployment on Kubernetes works.">Dynatrace Operator CSI driver</a></p>
<p>Required</p>
<ul>
<li>Deployed as a DaemonSet</li>
<li>Provides volume storage for OneAgents</li>
<li>Manages and provides code modules used for pod injection and optimizes storage consumption</li>
</ul>
<p>Optional</p>
<ul>
<li>Deployed as a DaemonSet</li>
<li>Manages and provides code modules used for pod injection and optimizes storage consumption</li>
</ul>
<hr />
<h2 id="source-dynakubemd">Source: dynakube.md<a class="headerlink" href="#source-dynakubemd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration guide for DynaKube API versions
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/dynakube
scraped: 2026-02-15T21:23:32.205216</p>
<hr />
<h1 id="migration-guide-for-dynakube-api-versions">Migration guide for DynaKube API versions<a class="headerlink" href="#migration-guide-for-dynakube-api-versions" title="Permanent link">&para;</a></h1>
<h1 id="migration-guide-for-dynakube-api-versions_1">Migration guide for DynaKube API versions<a class="headerlink" href="#migration-guide-for-dynakube-api-versions_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>Reference</li>
<li>10-min read</li>
<li>Updated on Jan 22, 2026</li>
</ul>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Depending on your Dynatrace Operator Version, different <code>apiVersion</code>'s of the <code>DynaKube</code> are supported. This page collects the migration guides for each <code>apiVersion</code> considering the version of the Operator.</p>
<p>Starting with Dynatrace Operator version 1.8.0+, Dynatrace Operator emits a Kubernetes warning event if the installed DynaKube CRD version doesn√¢¬Ä¬ôt match the version expected by this Operator release.</p>
<h3 id="api-version-overview">API Version Overview<a class="headerlink" href="#api-version-overview" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>DynaKube API version</th>
<th>Introduced</th>
<th>Deprecated</th>
<th>Removed <a href="#fn-1-1-def">1</a></th>
<th>Migration guides</th>
</tr>
</thead>
<tbody>
<tr>
<td>v1beta5</td>
<td>1.6.0</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>v1beta4</td>
<td>1.5.0</td>
<td></td>
<td></td>
<td><a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta4-v1beta5" title="Migrate your v1beta4 DynaKube CR to the v1beta5 apiVersions.">to v1beta5</a></td>
</tr>
<tr>
<td>v1beta3</td>
<td>1.3.0</td>
<td>1.7.0</td>
<td></td>
<td><a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta3-v1beta5" title="Migrate your v1beta3 DynaKube CR to the v1beta5 apiVersions.">to v1beta5</a>, <a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta3-v1beta4" title="Migrate your v1beta3 DynaKube CR to the v1beta4 apiVersions.">to v1beta4</a></td>
</tr>
<tr>
<td>v1beta2</td>
<td>1.2.0</td>
<td>1.6.0</td>
<td>1.7.0</td>
<td><a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta2-v1beta5" title="Migrate your v1beta2 DynaKube CR to the v1beta5 apiVersions.">to v1beta5</a>, <a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta2-v1beta4" title="Migrate your v1beta2 DynaKube CR to the v1beta4 apiVersions.">to v1beta4</a></td>
</tr>
<tr>
<td>v1beta1</td>
<td>0.3.0</td>
<td>1.6.0</td>
<td>1.7.0</td>
<td><a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta1-v1beta5" title="Migrate your v1beta1 DynaKube CR to the v1beta5 apiVersions.">to v1beta5</a>, <a href="/docs/ingest-from/setup-on-k8s/guides/migration/api-version-migration-guides/migrate-dk-v1beta1-v1beta4" title="Migrate your v1beta1 DynaKube CR to the v1beta4 apiVersions.">to v1beta4</a></td>
</tr>
</tbody>
</table>
<p>1</p>
<p>The respective API version is no longer served with the stated Dynatrace Operator version. It will get deleted from the CRD in a subsequent version.</p>
<h2 id="conversion-strategies">Conversion strategies<a class="headerlink" href="#conversion-strategies" title="Permanent link">&para;</a></h2>
<h3 id="automatic-conversion">Automatic conversion<a class="headerlink" href="#automatic-conversion" title="Permanent link">&para;</a></h3>
<p>Each version of the Dynatrace Operator converts the deployed <code>DynaKubes</code> with an older <code>apiVersion</code> to the latest <code>apiVersion</code> supported by that Dynatrace Operator version.</p>
<ul>
<li>Example: Dynatrace Operator v1.6.x will always convert <code>DynaKubes</code> to <code>v1beta5</code>.</li>
</ul>
<p>So when you are checking, using <code>kubectl</code> what <code>apiVersion</code> you are using, you will always see the latest <code>apiVersion</code> that is supported by that Dynatrace Operator version. You can facilitate this mechanism instead of doing a manual conversion.</p>
<ol>
<li>Download the converted version of your DynaKube. The following command will give you the DynaKube converted to the latest supported <code>apiVersion</code>:</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-233-1" name="__codelineno-233-1" href="#__codelineno-233-1"></a>kubectl get dynakubes -n &lt;namespace&gt; &lt;dynakube-name&gt; -o yaml
</code></pre></div>
2. Cleanup the downloaded DynaKube, only keep this sections</p>
<ul>
<li>relevant parts of <code>.metadata</code> section</li>
<li>complete <code>.spec</code> section</li>
</ul>
<h3 id="manual-conversion">Manual conversion<a class="headerlink" href="#manual-conversion" title="Permanent link">&para;</a></h3>
<ol>
<li>First, check the version of the Operator that is currently deployed. If you don't know which version you're running, here are some ways to find out.</li>
</ol>
<p>Using Helm:</p>
<ul>
<li>
<p>Use the <code>helm list</code> command, the <code>APP VERSION</code> field tells you the version of the installed Dynatrace Operator.</p>
<ul>
<li>Example:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-234-1" name="__codelineno-234-1" href="#__codelineno-234-1"></a>&gt; helm list -n dynatrace -o json | jq -r &#39;.[].app_version&#39;`
<a id="__codelineno-234-2" name="__codelineno-234-2" href="#__codelineno-234-2"></a>
<a id="__codelineno-234-3" name="__codelineno-234-3" href="#__codelineno-234-3"></a>
<a id="__codelineno-234-4" name="__codelineno-234-4" href="#__codelineno-234-4"></a>
<a id="__codelineno-234-5" name="__codelineno-234-5" href="#__codelineno-234-5"></a>1.6.2
</code></pre></div>
<p>Using <code>kubectl</code>:</p>
<ul>
<li>
<p>There is an <code>app.kubernetes.io/version</code> label on the Dynatrace Operator Deployment that shows the version used.</p>
<ul>
<li>Example:</li>
</ul>
</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-235-1" name="__codelineno-235-1" href="#__codelineno-235-1"></a>&gt; kubectl get deployment dynatrace-operator -n dynatrace -o jsonpath=&#39;{.metadata.labels.app\.kubernetes\.io/version}&#39;
<a id="__codelineno-235-2" name="__codelineno-235-2" href="#__codelineno-235-2"></a>
<a id="__codelineno-235-3" name="__codelineno-235-3" href="#__codelineno-235-3"></a>
<a id="__codelineno-235-4" name="__codelineno-235-4" href="#__codelineno-235-4"></a>
<a id="__codelineno-235-5" name="__codelineno-235-5" href="#__codelineno-235-5"></a>1.6.2
</code></pre></div>
2. Then check the <code>apiVersion</code> of the <code>DynaKube</code> used and follow the matching migration guide in the <a href="#overview">overview above</a>.</p>
<h2 id="removal-process">Removal process<a class="headerlink" href="#removal-process" title="Permanent link">&para;</a></h2>
<p>The Dynatrace Operator follows a structured deprecation process that follows the <a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning">official Kubernetes guidance√Ø¬ª¬ø</a> to ensure smooth transitions between DynaKube API versions while providing adequate time for migration.</p>
<h3 id="phase-1-deprecation-announcement">Phase 1: Deprecation announcement<a class="headerlink" href="#phase-1-deprecation-announcement" title="Permanent link">&para;</a></h3>
<p><strong>Pre-deprecation notice</strong>: An announcement is made in the release notes at least one Dynatrace Operator release before the deprecation takes effect.</p>
<p><strong>Deprecation marking</strong>: The API version is officially marked as deprecated in the subsequent release, but remains fully functional and supported.</p>
<h3 id="phase-2-supported-deprecation-period">Phase 2: Supported deprecation period<a class="headerlink" href="#phase-2-supported-deprecation-period" title="Permanent link">&para;</a></h3>
<p><strong>Continued support</strong>: The deprecated API version continues to be fully supported and functional during the deprecation period.</p>
<p><strong>Migration encouragement</strong>: Users are strongly encouraged to migrate to the newer API version during this time using the provided migration guides.</p>
<p><strong>Automatic conversion</strong>: The Operator automatically converts deprecated API versions to the latest supported version in the background, ensuring compatibility.</p>
<h3 id="phase-3-removal-preparation">Phase 3: Removal preparation<a class="headerlink" href="#phase-3-removal-preparation" title="Permanent link">&para;</a></h3>
<p><strong>API serving disabled</strong>: After the support period ends, the deprecated API version is marked as <code>served: false</code> in the Custom Resource Definition (CRD).</p>
<p><strong>Conversion-only mode</strong>: The API version schema is retained in the CRD for conversion purposes only, allowing existing resources to be read and converted.</p>
<p><strong>Migration deadline</strong>: Users must complete their migration to the newer API version before this phase to ensure continued functionality of their DynaKube resources.</p>
<h3 id="phase-4-complete-removal">Phase 4: Complete removal<a class="headerlink" href="#phase-4-complete-removal" title="Permanent link">&para;</a></h3>
<p><strong>Schema removal</strong>: The deprecated API version schema is completely removed from the CRD in a future Operator release.</p>
<p><strong>No conversion support</strong>: After removal, no conversion or compatibility support is available for the deprecated API version.</p>
<h3 id="migration-timeline-recommendations">Migration timeline recommendations<a class="headerlink" href="#migration-timeline-recommendations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Immediate action</strong>: Plan your migration as soon as a deprecation notice is announced</li>
<li><strong>Testing period</strong>: Use the deprecation period to test the migration in non-production environments</li>
<li><strong>Production migration</strong>: Complete production migration well before the API serving is disabled</li>
<li><strong>Validation</strong>: Verify that all DynaKube resources are using the current API version after migration</li>
</ul>
<hr />
<h2 id="source-migrate-dto-to-tenantmd">Source: migrate-dto-to-tenant.md<a class="headerlink" href="#source-migrate-dto-to-tenantmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migrate Dynatrace Operator to a new environment
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/migrate-dto-to-tenant
scraped: 2026-02-16T21:30:14.612503</p>
<hr />
<h1 id="migrate-dynatrace-operator-to-a-new-environment">Migrate Dynatrace Operator to a new environment<a class="headerlink" href="#migrate-dynatrace-operator-to-a-new-environment" title="Permanent link">&para;</a></h1>
<h1 id="migrate-dynatrace-operator-to-a-new-environment_1">Migrate Dynatrace Operator to a new environment<a class="headerlink" href="#migrate-dynatrace-operator-to-a-new-environment_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Updated on Sep 05, 2025</li>
</ul>
<p>If you're currently monitoring your Kubernetes cluster with a Dynatrace OneAgent rolled out through the Dynatrace Operator and you need to migrate to a different Dynatrace environment, select one of the following options, based on your deployment method.</p>
<p>Kubernetes</p>
<p>OpenShift</p>
<ol>
<li>Delete the existing DynaKube (starting with Dynatrace Operator version 1.3.0, editing <code>spec.apiUrl</code> is not allowed).</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-236-1" name="__codelineno-236-1" href="#__codelineno-236-1"></a>kubectl delete dynakube dynakube -n dynatrace
</code></pre></div>
2. Delete the existing secret that holds the Dynatrace Operator and Data Ingest tokens for authenticating to the Dynatrace Cluster.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-237-1" name="__codelineno-237-1" href="#__codelineno-237-1"></a>kubectl delete secret dynakube -n dynatrace
</code></pre></div>
3. Create a new secret based on new tokens from your new environment.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-238-1" name="__codelineno-238-1" href="#__codelineno-238-1"></a>kubectl -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
4. Apply the new DynaKube with the updated <code>spec.apiUrl</code>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-239-1" name="__codelineno-239-1" href="#__codelineno-239-1"></a>kubectl apply -f dynakube.yaml
</code></pre></div>
5. Restart your applications.</p>
<ol>
<li>Delete the existing DynaKube (starting with Dynatrace Operator version 1.3.0, editing <code>spec.apiUrl</code> is not allowed).</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-240-1" name="__codelineno-240-1" href="#__codelineno-240-1"></a>oc delete dynakube dynakube -n dynatrace
</code></pre></div>
2. Delete the existing secret that holds the Dynatrace Operator and Data Ingest tokens for authenticating to the Dynatrace Cluster.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-241-1" name="__codelineno-241-1" href="#__codelineno-241-1"></a>oc delete secret dynakube -n dynatrace
</code></pre></div>
3. Create a new secret based on new tokens from your new environment.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-242-1" name="__codelineno-242-1" href="#__codelineno-242-1"></a>oc -n dynatrace create secret generic dynakube --from-literal=&quot;apiToken=&lt;OPERATOR_TOKEN&gt;&quot; --from-literal=&quot;dataIngestToken=&lt;DATA_INGEST_TOKEN&gt;&quot;
</code></pre></div>
4. Apply the new DynaKube with the updated <code>spec.apiUrl</code>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-243-1" name="__codelineno-243-1" href="#__codelineno-243-1"></a>oc apply -f dynakube.yaml
</code></pre></div>
5. Restart your applications.</p>
<hr />
<h2 id="source-migrate-to-dtomd">Source: migrate-to-dto.md<a class="headerlink" href="#source-migrate-to-dtomd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migrate from OneAgent Operator to Dynatrace Operator
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration/migrate-to-dto
scraped: 2026-02-17T05:10:49.770574</p>
<hr />
<h1 id="migrate-from-oneagent-operator-to-dynatrace-operator">Migrate from OneAgent Operator to Dynatrace Operator<a class="headerlink" href="#migrate-from-oneagent-operator-to-dynatrace-operator" title="Permanent link">&para;</a></h1>
<h1 id="migrate-from-oneagent-operator-to-dynatrace-operator_1">Migrate from OneAgent Operator to Dynatrace Operator<a class="headerlink" href="#migrate-from-oneagent-operator-to-dynatrace-operator_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>5-min read</li>
<li>Published Apr 01, 2021</li>
</ul>
<h2 id="understand-and-configure-the-dynakube-custom-resource">Understand and configure the DynaKube custom resource<a class="headerlink" href="#understand-and-configure-the-dynakube-custom-resource" title="Permanent link">&para;</a></h2>
<p>The DynaKube custom resource (CR) replaces the OneAgent custom resource. The DynaKube CR follows the "don't repeat yourself" (DRY) principle to deploy a number of different components to your Kubernetes cluster.</p>
<p>Each section includes an illustration of the differences between the two custom resources, what changes from the old custom resource to the new one (marked with green), and what stays the same in both custom resource (marked with blue).</p>
<p>Changing operators will change the host ID calculations for monitored hosts, which will lead to monitoring anomalies in the Dynatrace UI.</p>
<h3 id="classic-full-stack-migration">Classic full-stack migration<a class="headerlink" href="#classic-full-stack-migration" title="Permanent link">&para;</a></h3>
<p>Follow the instructions below to migrate from OneAgent Operator to Dynatrace Operator for classic full-stack injection.</p>
<p><img alt="Migration of properties" src="https://dt-cdn.net/images/classicfullstackmigration-600-fb8529d001.png" /></p>
<p>What stays the same</p>
<p>What changes</p>
<p><strong>Global parameters (<code>spec</code>)</strong><br />
The following settings are global, shared by every component, and located under <code>spec</code>.</p>
<ul>
<li><code>apiUrl</code></li>
<li><code>tokens</code><a href="#fn-1-1-def">1</a></li>
<li><code>skipCertCheck</code></li>
<li><code>proxy</code></li>
<li><code>trustedCAs</code></li>
<li><code>networkZone</code></li>
<li><code>customPullSecret</code></li>
<li><code>enableIstio</code></li>
</ul>
<p>1</p>
<p><strong>Tokens must point to an existing secret.</strong></p>
<p><strong>ClassicFullStack parameters (<code>.spec.oneAgent.classicFullStack</code>)</strong><br />
A new section for the full-stack OneAgent is located at <code>.spec.oneAgent.classicFullStack</code>:</p>
<ul>
<li><code>image</code></li>
<li>~~<code>autoUpdate</code>~~<a href="#fn-2-1-def">1</a></li>
<li><code>version</code><a href="#fn-2-2-def">2</a></li>
</ul>
<p>1</p>
<p>Previously, this was <code>disableAgentUpdate</code> in the OneAgent CR.<br />
The <code>autoUpdate</code> field has been removed. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>.<br />
Auto-update is disabled when either the <code>version</code> or <code>image</code> fields are set.</p>
<p>2</p>
<p>This was <code>agentVersion</code> in the OneAgent CR.</p>
<p>All the other OneAgent parameters (such as tolerations, arguments, DNS, and resource settings) are also located in the <code>.spec.oneAgent.classicFullStack</code> section and are unique to the full-stack installation.</p>
<h3 id="application-only-migration">Application-only migration<a class="headerlink" href="#application-only-migration" title="Permanent link">&para;</a></h3>
<p>Follow the instructions below to migrate from OneAgent Operator to Dynatrace Operator for automatic application-only injection.</p>
<p><img alt="Cloud native app only" src="https://dt-cdn.net/images/cloudnativeappo-600-de0c984048.png" /></p>
<p>What stays the same</p>
<p>What changes</p>
<p><strong>Global parameters (<code>spec</code>)</strong><br />
The following settings are global, shared by every component, and located under <code>spec</code>.</p>
<ul>
<li><code>apiUrl</code></li>
<li><code>tokens</code><a href="#fn-3-1-def">1</a></li>
<li><code>skipCertCheck</code></li>
<li><code>proxy</code></li>
<li><code>trustedCAs</code></li>
<li><code>networkZone</code></li>
<li><code>customPullSecret</code></li>
<li><code>enableIstio</code></li>
</ul>
<p>1</p>
<p><strong>Tokens must point to an existing secret.</strong></p>
<p><strong>ApplicationMonitoring parameters (<code>.spec.oneAgent.applicationMonitoring</code>)</strong><br />
A new section for the full-stack OneAgent is located at <code>.spec.oneAgent.applicationMonitoring</code>:</p>
<ul>
<li><code>version</code><a href="#fn-4-1-def">1</a></li>
<li><code>useCSIDriver</code><a href="#fn-4-2-def">2</a></li>
</ul>
<p>1</p>
<p>This was <code>agentVersion</code> in the OneAgent CR.</p>
<p>2</p>
<p>This new parameter will deliver binaries to pods automatically and eliminate storage requirements on pods. This is in preview only and defaults to <code>false</code>.</p>
<p>The <code>image</code> parameter is no longer available. The functionality will be reintroduced in future. For now, all pods download from the API URL.</p>
<h2 id="migrate-from-oneagent-operator-to-dynatrace-operator_2">Migrate from OneAgent Operator to Dynatrace Operator<a class="headerlink" href="#migrate-from-oneagent-operator-to-dynatrace-operator_2" title="Permanent link">&para;</a></h2>
<p>You can migrate from the deprecated OneAgent Operator to the new Dynatrace Operator that manages the lifecycle of several Dynatrace components such as OneAgent, routing, and Kubernetes API Monitor. Additional components will be added as new observability features become available.</p>
<p>Select <strong>one of the following options</strong>, depending on your deployment methods.</p>
<p><a href="#manifest"><strong>Manifest</strong></a>[<img alt="Helm" src="https://dt-cdn.net/images/helm-1-f86d0c89ed.svg" title="Helm" /></p>
<p><strong>Helm</strong>](#helm)</p>
<h3 id="migrate-manifests">Migrate manifests<a class="headerlink" href="#migrate-manifests" title="Permanent link">&para;</a></h3>
<p>Kubernetes</p>
<p>OpenShift</p>
<ol>
<li>Delete OneAgent Operator and the <code>dynatrace</code> namespace/project.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-244-1" name="__codelineno-244-1" href="#__codelineno-244-1"></a>kubectl delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/&lt;version&gt;/kubernetes.yaml
<a id="__codelineno-244-2" name="__codelineno-244-2" href="#__codelineno-244-2"></a>
<a id="__codelineno-244-3" name="__codelineno-244-3" href="#__codelineno-244-3"></a>
<a id="__codelineno-244-4" name="__codelineno-244-4" href="#__codelineno-244-4"></a>
<a id="__codelineno-244-5" name="__codelineno-244-5" href="#__codelineno-244-5"></a>kubectl delete namespace dynatrace
</code></pre></div>
2. <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">Set up monitoring with Dynatrace Operator</a>.</p>
<ol>
<li>Delete OneAgent Operator and the <code>dynatrace</code> namespace/project.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-245-1" name="__codelineno-245-1" href="#__codelineno-245-1"></a>oc delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/&lt;version&gt;/openshift.yaml
<a id="__codelineno-245-2" name="__codelineno-245-2" href="#__codelineno-245-2"></a>
<a id="__codelineno-245-3" name="__codelineno-245-3" href="#__codelineno-245-3"></a>
<a id="__codelineno-245-4" name="__codelineno-245-4" href="#__codelineno-245-4"></a>
<a id="__codelineno-245-5" name="__codelineno-245-5" href="#__codelineno-245-5"></a>oc delete project dynatrace
</code></pre></div>
2. <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">Set up monitoring with Dynatrace Operator</a>.</p>
<h3 id="migrate-with-helm">Migrate with Helm<a class="headerlink" href="#migrate-with-helm" title="Permanent link">&para;</a></h3>
<p>Kubernetes</p>
<p>OpenShift</p>
<ol>
<li>Remove OneAgent Operator, the Helm repository, and the <code>dynatrace</code> namespace/project.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-246-1" name="__codelineno-246-1" href="#__codelineno-246-1"></a>helm uninstall dynatrace-oneagent-operator
<a id="__codelineno-246-2" name="__codelineno-246-2" href="#__codelineno-246-2"></a>
<a id="__codelineno-246-3" name="__codelineno-246-3" href="#__codelineno-246-3"></a>
<a id="__codelineno-246-4" name="__codelineno-246-4" href="#__codelineno-246-4"></a>
<a id="__codelineno-246-5" name="__codelineno-246-5" href="#__codelineno-246-5"></a>kubectl delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/v0.10.2/dynatrace.com_oneagentapms.yaml
<a id="__codelineno-246-6" name="__codelineno-246-6" href="#__codelineno-246-6"></a>
<a id="__codelineno-246-7" name="__codelineno-246-7" href="#__codelineno-246-7"></a>
<a id="__codelineno-246-8" name="__codelineno-246-8" href="#__codelineno-246-8"></a>
<a id="__codelineno-246-9" name="__codelineno-246-9" href="#__codelineno-246-9"></a>kubectl delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/v0.10.2/dynatrace.com_oneagents.yaml
<a id="__codelineno-246-10" name="__codelineno-246-10" href="#__codelineno-246-10"></a>
<a id="__codelineno-246-11" name="__codelineno-246-11" href="#__codelineno-246-11"></a>
<a id="__codelineno-246-12" name="__codelineno-246-12" href="#__codelineno-246-12"></a>
<a id="__codelineno-246-13" name="__codelineno-246-13" href="#__codelineno-246-13"></a>helm repo remove dynatrace
<a id="__codelineno-246-14" name="__codelineno-246-14" href="#__codelineno-246-14"></a>
<a id="__codelineno-246-15" name="__codelineno-246-15" href="#__codelineno-246-15"></a>
<a id="__codelineno-246-16" name="__codelineno-246-16" href="#__codelineno-246-16"></a>
<a id="__codelineno-246-17" name="__codelineno-246-17" href="#__codelineno-246-17"></a>kubectl delete namespace dynatrace
</code></pre></div>
2. <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">Set up monitoring with Dynatrace Operator</a>.</p>
<ol>
<li>Remove OneAgent Operator, the Helm repository, and the <code>dynatrace</code> namespace/project.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-247-1" name="__codelineno-247-1" href="#__codelineno-247-1"></a>helm uninstall dynatrace-oneagent-operator
<a id="__codelineno-247-2" name="__codelineno-247-2" href="#__codelineno-247-2"></a>
<a id="__codelineno-247-3" name="__codelineno-247-3" href="#__codelineno-247-3"></a>
<a id="__codelineno-247-4" name="__codelineno-247-4" href="#__codelineno-247-4"></a>
<a id="__codelineno-247-5" name="__codelineno-247-5" href="#__codelineno-247-5"></a>oc delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/v0.10.2/dynatrace.com_oneagentapms.yaml
<a id="__codelineno-247-6" name="__codelineno-247-6" href="#__codelineno-247-6"></a>
<a id="__codelineno-247-7" name="__codelineno-247-7" href="#__codelineno-247-7"></a>
<a id="__codelineno-247-8" name="__codelineno-247-8" href="#__codelineno-247-8"></a>
<a id="__codelineno-247-9" name="__codelineno-247-9" href="#__codelineno-247-9"></a>oc delete -f https://github.com/Dynatrace/dynatrace-oneagent-operator/releases/download/v0.10.2/dynatrace.com_oneagents.yaml
<a id="__codelineno-247-10" name="__codelineno-247-10" href="#__codelineno-247-10"></a>
<a id="__codelineno-247-11" name="__codelineno-247-11" href="#__codelineno-247-11"></a>
<a id="__codelineno-247-12" name="__codelineno-247-12" href="#__codelineno-247-12"></a>
<a id="__codelineno-247-13" name="__codelineno-247-13" href="#__codelineno-247-13"></a>helm repo remove dynatrace
<a id="__codelineno-247-14" name="__codelineno-247-14" href="#__codelineno-247-14"></a>
<a id="__codelineno-247-15" name="__codelineno-247-15" href="#__codelineno-247-15"></a>
<a id="__codelineno-247-16" name="__codelineno-247-16" href="#__codelineno-247-16"></a>
<a id="__codelineno-247-17" name="__codelineno-247-17" href="#__codelineno-247-17"></a>oc delete project dynatrace
</code></pre></div>
2. <a href="/docs/ingest-from/setup-on-k8s/deployment" title="Deploy Dynatrace Operator on Kubernetes">Set up monitoring with Dynatrace Operator</a>.</p>
<hr />
<h2 id="source-migrationmd">Source: migration.md<a class="headerlink" href="#source-migrationmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Migration guides
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/migration
scraped: 2026-02-17T05:10:07.064638</p>
<hr />
<h1 id="migration-guides">Migration guides<a class="headerlink" href="#migration-guides" title="Permanent link">&para;</a></h1>
<h1 id="migration-guides_1">Migration guides<a class="headerlink" href="#migration-guides_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>1-min read</li>
<li>Updated on Sep 05, 2025</li>
</ul>
<p>Explore step-by-step migration guides to help you transition between different Dynatrace monitoring setups.</p>
<p>[### Migrate from classic full-stack to cloud-native full-stack</p>
<p>Migrate your Dynatrace deployment from classic full-stack to cloud-native full-stack deployment.](/docs/ingest-from/setup-on-k8s/guides/migration/classic-to-cloud-native "Migrate your Dynatrace deployment from classic full-stack to cloud-native full-stack mode.")[### Migrate from classic full-stack to application monitoring mode</p>
<p>Migrate your Dynatrace deployment from classic full-stack to application monitoring mode.](/docs/ingest-from/setup-on-k8s/guides/migration/classic-to-app-monitoring "Migrate your Dynatrace deployment from classic full-stack to application monitoring mode.")[### Migrate from cloud-native full-stack to application monitoring mode</p>
<p>Migrate your Dynatrace deployment from cloud-native full-stack to application monitoring mode.](/docs/ingest-from/setup-on-k8s/guides/migration/cloud-native-to-app-monitoring "Migrate your Dynatrace deployment from cloud-native full-stack to application monitoring mode.")[### Migrate Dynatrace Operator to a new environment</p>
<p>Migrate monitoring to a new Dynatrace environment on Kubernetes clusters.](/docs/ingest-from/setup-on-k8s/guides/migration/migrate-dto-to-tenant "Migrate monitoring to a new Dynatrace environment on Kubernetes clusters.")[### Migrate from OneAgent Operator to Dynatrace Operator</p>
<p>Migrate from deprecated OneAgent Operator to Dynatrace Operator.](/docs/ingest-from/setup-on-k8s/guides/migration/migrate-to-dto "Detailed instructions how to migrate from deprecated OneAgent Operator to Dynatrace Operator using kubectl/oc")[### Migrate from manifests to Helm</p>
<p>Migrate from manifests to Helm for Dynatrace Operator installation.](/docs/ingest-from/setup-on-k8s/guides/migration/migrate-to-helm "Migrate from manifests to Helm for Dynatrace Operator installation.")[### Migrate DynaKube to newer apiVersion</p>
<p>Migrate from your old <code>DynaKube</code> with an older <code>apiVersion</code> to the newest supported for a given Dynatrace Operator version.](/docs/ingest-from/setup-on-k8s/guides/migration/dynakube "Migrate your DynaKube CR to newer apiVersions based on the Operator Version you are using.")</p>
<hr />
<h2 id="source-network-configurationsmd">Source: network-configurations.md<a class="headerlink" href="#source-network-configurationsmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Network configurations
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations
scraped: 2026-02-17T05:11:15.606877</p>
<hr />
<h1 id="network-configurations">Network configurations<a class="headerlink" href="#network-configurations" title="Permanent link">&para;</a></h1>
<h1 id="network-configurations_1">Network configurations<a class="headerlink" href="#network-configurations_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>4-min read</li>
<li>Published Mar 25, 2024</li>
</ul>
<p>Configure Dynatrace in network-restricted environments with network configurations, proxy settings, and URL exclusions.</p>
<p>Network zones</p>
<p>For details on setting up and managing network zones, initial endpoint setup, and advanced configurations in restricted environments, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations/network-zones" title="Set up and use network zones in Kubernetes environments with the Dynatrace Operator.">Using network zones in Kubernetes</a>.</p>
<h2 id="configure-proxy">Configure proxy<a class="headerlink" href="#configure-proxy" title="Permanent link">&para;</a></h2>
<p>For Kubernetes Platform Monitoring with Dynatrace, you might need to configure a proxy, which facilitates all outgoing connections for Dynatrace Operator components (such as <code>csi-driver</code> and <code>operator</code>), OneAgent, and ActiveGate.</p>
<p>Depending on your proxy configuration, especially regarding credentials, there are two options for configuring your proxy in a DynaKube:</p>
<p>Without proxy credentials</p>
<p>With proxy credentials</p>
<p>HTTPS proxies are supported for ActiveGate since version 1.289.<br />
HTTPS proxies are supported for OneAgent since version 1.311.</p>
<p>For proxies without credential requirements, provide your proxy URL in the <code>value</code> field:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-248-1" name="__codelineno-248-1" href="#__codelineno-248-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-248-2" name="__codelineno-248-2" href="#__codelineno-248-2"></a>
<a id="__codelineno-248-3" name="__codelineno-248-3" href="#__codelineno-248-3"></a>
<a id="__codelineno-248-4" name="__codelineno-248-4" href="#__codelineno-248-4"></a>
<a id="__codelineno-248-5" name="__codelineno-248-5" href="#__codelineno-248-5"></a>kind: DynaKube
<a id="__codelineno-248-6" name="__codelineno-248-6" href="#__codelineno-248-6"></a>
<a id="__codelineno-248-7" name="__codelineno-248-7" href="#__codelineno-248-7"></a>
<a id="__codelineno-248-8" name="__codelineno-248-8" href="#__codelineno-248-8"></a>
<a id="__codelineno-248-9" name="__codelineno-248-9" href="#__codelineno-248-9"></a>metadata:
<a id="__codelineno-248-10" name="__codelineno-248-10" href="#__codelineno-248-10"></a>
<a id="__codelineno-248-11" name="__codelineno-248-11" href="#__codelineno-248-11"></a>
<a id="__codelineno-248-12" name="__codelineno-248-12" href="#__codelineno-248-12"></a>
<a id="__codelineno-248-13" name="__codelineno-248-13" href="#__codelineno-248-13"></a>name: dynakube
<a id="__codelineno-248-14" name="__codelineno-248-14" href="#__codelineno-248-14"></a>
<a id="__codelineno-248-15" name="__codelineno-248-15" href="#__codelineno-248-15"></a>
<a id="__codelineno-248-16" name="__codelineno-248-16" href="#__codelineno-248-16"></a>
<a id="__codelineno-248-17" name="__codelineno-248-17" href="#__codelineno-248-17"></a>namespace: dynatrace
<a id="__codelineno-248-18" name="__codelineno-248-18" href="#__codelineno-248-18"></a>
<a id="__codelineno-248-19" name="__codelineno-248-19" href="#__codelineno-248-19"></a>
<a id="__codelineno-248-20" name="__codelineno-248-20" href="#__codelineno-248-20"></a>
<a id="__codelineno-248-21" name="__codelineno-248-21" href="#__codelineno-248-21"></a>spec:
<a id="__codelineno-248-22" name="__codelineno-248-22" href="#__codelineno-248-22"></a>
<a id="__codelineno-248-23" name="__codelineno-248-23" href="#__codelineno-248-23"></a>
<a id="__codelineno-248-24" name="__codelineno-248-24" href="#__codelineno-248-24"></a>
<a id="__codelineno-248-25" name="__codelineno-248-25" href="#__codelineno-248-25"></a>apiUrl: https://&lt;activegate-host&gt;:9999/e/&lt;environment-id&gt;/api
<a id="__codelineno-248-26" name="__codelineno-248-26" href="#__codelineno-248-26"></a>
<a id="__codelineno-248-27" name="__codelineno-248-27" href="#__codelineno-248-27"></a>
<a id="__codelineno-248-28" name="__codelineno-248-28" href="#__codelineno-248-28"></a>
<a id="__codelineno-248-29" name="__codelineno-248-29" href="#__codelineno-248-29"></a>proxy:
<a id="__codelineno-248-30" name="__codelineno-248-30" href="#__codelineno-248-30"></a>
<a id="__codelineno-248-31" name="__codelineno-248-31" href="#__codelineno-248-31"></a>
<a id="__codelineno-248-32" name="__codelineno-248-32" href="#__codelineno-248-32"></a>
<a id="__codelineno-248-33" name="__codelineno-248-33" href="#__codelineno-248-33"></a>value: http://&lt;my-super-proxy&gt;
</code></pre></div>
<p>For proxies requiring credentials.</p>
<ol>
<li>Create a Kubernetes secret containing your encrypted proxy URL, including the credentials.</li>
</ol>
<p>Kubernetes</p>
<p>OpenShift</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-249-1" name="__codelineno-249-1" href="#__codelineno-249-1"></a>kubectl -n dynatrace create secret generic my-proxy-secret --from-literal=&quot;proxy=http://&lt;user&gt;:&lt;password&gt;@&lt;IP&gt;:&lt;PORT&gt;&quot;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-250-1" name="__codelineno-250-1" href="#__codelineno-250-1"></a>oc -n dynatrace create secret generic my-proxy-secret --from-literal=&quot;proxy=http://&lt;user&gt;:&lt;password&gt;@&lt;IP&gt;:&lt;PORT&gt;&quot;
</code></pre></div>
<p>Rules for the proxy password</p>
<p>Ensure the proxy password meets the following criteria:</p>
<table>
<thead>
<tr>
<th>Requirements</th>
<th>Corresponding characters</th>
</tr>
</thead>
<tbody>
<tr>
<td>Characters allowed</td>
<td>[A-Za-z0-9] ! " # $ ( ) * - . / : ; &lt; &gt; ? @ [ ] ^ _ {</td>
</tr>
<tr>
<td>Characters not allowed</td>
<td>blank space ' ` , &amp; = + % \</td>
</tr>
</tbody>
</table>
<p>The password in the custom resource or proxy secret must be URL-encoded. For example, <code>password!"#$()*-./:;&lt;&gt;?@[]^_{|}~</code> becomes <code>password!%22%23%24()*-.%2F%3A%3B%3C%3E%3F%40%5B%5D%5E_%7B%7C%7D~</code>.
2. Provide the name of the secret in the <code>valueFrom</code> section.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-251-1" name="__codelineno-251-1" href="#__codelineno-251-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-251-2" name="__codelineno-251-2" href="#__codelineno-251-2"></a>
<a id="__codelineno-251-3" name="__codelineno-251-3" href="#__codelineno-251-3"></a>
<a id="__codelineno-251-4" name="__codelineno-251-4" href="#__codelineno-251-4"></a>
<a id="__codelineno-251-5" name="__codelineno-251-5" href="#__codelineno-251-5"></a>kind: DynaKube
<a id="__codelineno-251-6" name="__codelineno-251-6" href="#__codelineno-251-6"></a>
<a id="__codelineno-251-7" name="__codelineno-251-7" href="#__codelineno-251-7"></a>
<a id="__codelineno-251-8" name="__codelineno-251-8" href="#__codelineno-251-8"></a>
<a id="__codelineno-251-9" name="__codelineno-251-9" href="#__codelineno-251-9"></a>metadata:
<a id="__codelineno-251-10" name="__codelineno-251-10" href="#__codelineno-251-10"></a>
<a id="__codelineno-251-11" name="__codelineno-251-11" href="#__codelineno-251-11"></a>
<a id="__codelineno-251-12" name="__codelineno-251-12" href="#__codelineno-251-12"></a>
<a id="__codelineno-251-13" name="__codelineno-251-13" href="#__codelineno-251-13"></a>name: dynakube
<a id="__codelineno-251-14" name="__codelineno-251-14" href="#__codelineno-251-14"></a>
<a id="__codelineno-251-15" name="__codelineno-251-15" href="#__codelineno-251-15"></a>
<a id="__codelineno-251-16" name="__codelineno-251-16" href="#__codelineno-251-16"></a>
<a id="__codelineno-251-17" name="__codelineno-251-17" href="#__codelineno-251-17"></a>namespace: dynatrace
<a id="__codelineno-251-18" name="__codelineno-251-18" href="#__codelineno-251-18"></a>
<a id="__codelineno-251-19" name="__codelineno-251-19" href="#__codelineno-251-19"></a>
<a id="__codelineno-251-20" name="__codelineno-251-20" href="#__codelineno-251-20"></a>
<a id="__codelineno-251-21" name="__codelineno-251-21" href="#__codelineno-251-21"></a>spec:
<a id="__codelineno-251-22" name="__codelineno-251-22" href="#__codelineno-251-22"></a>
<a id="__codelineno-251-23" name="__codelineno-251-23" href="#__codelineno-251-23"></a>
<a id="__codelineno-251-24" name="__codelineno-251-24" href="#__codelineno-251-24"></a>
<a id="__codelineno-251-25" name="__codelineno-251-25" href="#__codelineno-251-25"></a>apiUrl: https://&lt;activegate-host&gt;:9999/e/&lt;environment-id&gt;/api
<a id="__codelineno-251-26" name="__codelineno-251-26" href="#__codelineno-251-26"></a>
<a id="__codelineno-251-27" name="__codelineno-251-27" href="#__codelineno-251-27"></a>
<a id="__codelineno-251-28" name="__codelineno-251-28" href="#__codelineno-251-28"></a>
<a id="__codelineno-251-29" name="__codelineno-251-29" href="#__codelineno-251-29"></a>proxy:
<a id="__codelineno-251-30" name="__codelineno-251-30" href="#__codelineno-251-30"></a>
<a id="__codelineno-251-31" name="__codelineno-251-31" href="#__codelineno-251-31"></a>
<a id="__codelineno-251-32" name="__codelineno-251-32" href="#__codelineno-251-32"></a>
<a id="__codelineno-251-33" name="__codelineno-251-33" href="#__codelineno-251-33"></a>valueFrom: my-proxy-secret
</code></pre></div>
<p>Dynatrace Operator version 1.0.0+</p>
<p>The connection between OneAgent and Dynatrace code modules with ActiveGate will always bypass the proxy, ensuring direct communication for these components.</p>
<p>If you need to bypass the proxy for other reasons, see the next section.</p>
<h3 id="exclude-selected-urls-from-proxy-configuration">Exclude selected URLs from proxy configuration<a class="headerlink" href="#exclude-selected-urls-from-proxy-configuration" title="Permanent link">&para;</a></h3>
<p>To set the list of URLs to exclude from the proxy configuration, add the following annotation to the DynaKube custom resource.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-252-1" name="__codelineno-252-1" href="#__codelineno-252-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-252-2" name="__codelineno-252-2" href="#__codelineno-252-2"></a>
<a id="__codelineno-252-3" name="__codelineno-252-3" href="#__codelineno-252-3"></a>
<a id="__codelineno-252-4" name="__codelineno-252-4" href="#__codelineno-252-4"></a>
<a id="__codelineno-252-5" name="__codelineno-252-5" href="#__codelineno-252-5"></a>kind: DynaKube
<a id="__codelineno-252-6" name="__codelineno-252-6" href="#__codelineno-252-6"></a>
<a id="__codelineno-252-7" name="__codelineno-252-7" href="#__codelineno-252-7"></a>
<a id="__codelineno-252-8" name="__codelineno-252-8" href="#__codelineno-252-8"></a>
<a id="__codelineno-252-9" name="__codelineno-252-9" href="#__codelineno-252-9"></a>metadata:
<a id="__codelineno-252-10" name="__codelineno-252-10" href="#__codelineno-252-10"></a>
<a id="__codelineno-252-11" name="__codelineno-252-11" href="#__codelineno-252-11"></a>
<a id="__codelineno-252-12" name="__codelineno-252-12" href="#__codelineno-252-12"></a>
<a id="__codelineno-252-13" name="__codelineno-252-13" href="#__codelineno-252-13"></a>annotations:
<a id="__codelineno-252-14" name="__codelineno-252-14" href="#__codelineno-252-14"></a>
<a id="__codelineno-252-15" name="__codelineno-252-15" href="#__codelineno-252-15"></a>
<a id="__codelineno-252-16" name="__codelineno-252-16" href="#__codelineno-252-16"></a>
<a id="__codelineno-252-17" name="__codelineno-252-17" href="#__codelineno-252-17"></a>feature.dynatrace.com/no-proxy: &quot;some.url.com,other.url.com&quot;
</code></pre></div>
<p>Dynatrace Operator then excludes the listed URLs from the proxy settings. This exclusion applies specifically to Dynatrace Operator and the CSI driver. It doesn't affect the proxy settings for other components managed by Dynatrace Operator, such as OneAgent or ActiveGate.</p>
<h2 id="add-trusted-ca-certificates">Add trusted CA certificates<a class="headerlink" href="#add-trusted-ca-certificates" title="Permanent link">&para;</a></h2>
<h3 id="activegate-oneagent-and-dynatrace-operator-components">ActiveGate, OneAgent and Dynatrace Operator components<a class="headerlink" href="#activegate-oneagent-and-dynatrace-operator-components" title="Permanent link">&para;</a></h3>
<p>To add trusted CA certificates to ActiveGate, OneAgent and/or Dynatrace Operator, the certificates must be provided via a Kubernetes ConfigMap referenced in your DynaKube configuration.</p>
<ol>
<li>Create a ConfigMap (replace <code>&lt;ca-certificates&gt;</code> with the CA certificates to be trusted).</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-253-1" name="__codelineno-253-1" href="#__codelineno-253-1"></a>apiVersion: v1
<a id="__codelineno-253-2" name="__codelineno-253-2" href="#__codelineno-253-2"></a>
<a id="__codelineno-253-3" name="__codelineno-253-3" href="#__codelineno-253-3"></a>
<a id="__codelineno-253-4" name="__codelineno-253-4" href="#__codelineno-253-4"></a>
<a id="__codelineno-253-5" name="__codelineno-253-5" href="#__codelineno-253-5"></a>kind: ConfigMap
<a id="__codelineno-253-6" name="__codelineno-253-6" href="#__codelineno-253-6"></a>
<a id="__codelineno-253-7" name="__codelineno-253-7" href="#__codelineno-253-7"></a>
<a id="__codelineno-253-8" name="__codelineno-253-8" href="#__codelineno-253-8"></a>
<a id="__codelineno-253-9" name="__codelineno-253-9" href="#__codelineno-253-9"></a>metadata:
<a id="__codelineno-253-10" name="__codelineno-253-10" href="#__codelineno-253-10"></a>
<a id="__codelineno-253-11" name="__codelineno-253-11" href="#__codelineno-253-11"></a>
<a id="__codelineno-253-12" name="__codelineno-253-12" href="#__codelineno-253-12"></a>
<a id="__codelineno-253-13" name="__codelineno-253-13" href="#__codelineno-253-13"></a>name: mycaconfigmap
<a id="__codelineno-253-14" name="__codelineno-253-14" href="#__codelineno-253-14"></a>
<a id="__codelineno-253-15" name="__codelineno-253-15" href="#__codelineno-253-15"></a>
<a id="__codelineno-253-16" name="__codelineno-253-16" href="#__codelineno-253-16"></a>
<a id="__codelineno-253-17" name="__codelineno-253-17" href="#__codelineno-253-17"></a>namespace: dynatrace
<a id="__codelineno-253-18" name="__codelineno-253-18" href="#__codelineno-253-18"></a>
<a id="__codelineno-253-19" name="__codelineno-253-19" href="#__codelineno-253-19"></a>
<a id="__codelineno-253-20" name="__codelineno-253-20" href="#__codelineno-253-20"></a>
<a id="__codelineno-253-21" name="__codelineno-253-21" href="#__codelineno-253-21"></a>data:
<a id="__codelineno-253-22" name="__codelineno-253-22" href="#__codelineno-253-22"></a>
<a id="__codelineno-253-23" name="__codelineno-253-23" href="#__codelineno-253-23"></a>
<a id="__codelineno-253-24" name="__codelineno-253-24" href="#__codelineno-253-24"></a>
<a id="__codelineno-253-25" name="__codelineno-253-25" href="#__codelineno-253-25"></a>certs: |
<a id="__codelineno-253-26" name="__codelineno-253-26" href="#__codelineno-253-26"></a>
<a id="__codelineno-253-27" name="__codelineno-253-27" href="#__codelineno-253-27"></a>
<a id="__codelineno-253-28" name="__codelineno-253-28" href="#__codelineno-253-28"></a>
<a id="__codelineno-253-29" name="__codelineno-253-29" href="#__codelineno-253-29"></a>&lt;ca-certificates&gt;
</code></pre></div>
<p>For example:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-254-1" name="__codelineno-254-1" href="#__codelineno-254-1"></a>data:
<a id="__codelineno-254-2" name="__codelineno-254-2" href="#__codelineno-254-2"></a>
<a id="__codelineno-254-3" name="__codelineno-254-3" href="#__codelineno-254-3"></a>
<a id="__codelineno-254-4" name="__codelineno-254-4" href="#__codelineno-254-4"></a>
<a id="__codelineno-254-5" name="__codelineno-254-5" href="#__codelineno-254-5"></a>certs: |
<a id="__codelineno-254-6" name="__codelineno-254-6" href="#__codelineno-254-6"></a>
<a id="__codelineno-254-7" name="__codelineno-254-7" href="#__codelineno-254-7"></a>
<a id="__codelineno-254-8" name="__codelineno-254-8" href="#__codelineno-254-8"></a>
<a id="__codelineno-254-9" name="__codelineno-254-9" href="#__codelineno-254-9"></a>-----BEGIN CERTIFICATE-----
<a id="__codelineno-254-10" name="__codelineno-254-10" href="#__codelineno-254-10"></a>
<a id="__codelineno-254-11" name="__codelineno-254-11" href="#__codelineno-254-11"></a>
<a id="__codelineno-254-12" name="__codelineno-254-12" href="#__codelineno-254-12"></a>
<a id="__codelineno-254-13" name="__codelineno-254-13" href="#__codelineno-254-13"></a>MIIFmTCCA4GgAwIBAgIUNGBlRh1tuDIqr25rjNfMtvzfkRUwDQYJKoZIhvcNAQEL
<a id="__codelineno-254-14" name="__codelineno-254-14" href="#__codelineno-254-14"></a>
<a id="__codelineno-254-15" name="__codelineno-254-15" href="#__codelineno-254-15"></a>
<a id="__codelineno-254-16" name="__codelineno-254-16" href="#__codelineno-254-16"></a>
<a id="__codelineno-254-17" name="__codelineno-254-17" href="#__codelineno-254-17"></a>BQAwXDELMAkGA1UEBhMCUEwxDDAKBgNVBAgMA1BPTTELMAkGA1UEBwwCR0QxHDAa
<a id="__codelineno-254-18" name="__codelineno-254-18" href="#__codelineno-254-18"></a>
<a id="__codelineno-254-19" name="__codelineno-254-19" href="#__codelineno-254-19"></a>
<a id="__codelineno-254-20" name="__codelineno-254-20" href="#__codelineno-254-20"></a>
<a id="__codelineno-254-21" name="__codelineno-254-21" href="#__codelineno-254-21"></a>BgNVBAoME0RlZmF1bHQgQ29tcGFueSBMdGQxFDASBgNVBAMMC3NxdWlkLnByb3h5
<a id="__codelineno-254-22" name="__codelineno-254-22" href="#__codelineno-254-22"></a>
<a id="__codelineno-254-23" name="__codelineno-254-23" href="#__codelineno-254-23"></a>
<a id="__codelineno-254-24" name="__codelineno-254-24" href="#__codelineno-254-24"></a>
<a id="__codelineno-254-25" name="__codelineno-254-25" href="#__codelineno-254-25"></a>MB4XDTI0MDYxODExNTU0OVoXDTI1MDYxODExNTU0OVowXDELMAkGA1UEBhMCUEwx
<a id="__codelineno-254-26" name="__codelineno-254-26" href="#__codelineno-254-26"></a>
<a id="__codelineno-254-27" name="__codelineno-254-27" href="#__codelineno-254-27"></a>
<a id="__codelineno-254-28" name="__codelineno-254-28" href="#__codelineno-254-28"></a>
<a id="__codelineno-254-29" name="__codelineno-254-29" href="#__codelineno-254-29"></a>DDAKBgNVBAgMA1BPTTELMAkGA1UEBwwCR0QxHDAaBgNVBAoME0RlZmF1bHQgQ29t
<a id="__codelineno-254-30" name="__codelineno-254-30" href="#__codelineno-254-30"></a>
<a id="__codelineno-254-31" name="__codelineno-254-31" href="#__codelineno-254-31"></a>
<a id="__codelineno-254-32" name="__codelineno-254-32" href="#__codelineno-254-32"></a>
<a id="__codelineno-254-33" name="__codelineno-254-33" href="#__codelineno-254-33"></a>cGFueSBMdGQxFDASBgNVBAMMC3NxdWlkLnByb3h5MIICIjANBgkqhkiG9w0BAQEF
<a id="__codelineno-254-34" name="__codelineno-254-34" href="#__codelineno-254-34"></a>
<a id="__codelineno-254-35" name="__codelineno-254-35" href="#__codelineno-254-35"></a>
<a id="__codelineno-254-36" name="__codelineno-254-36" href="#__codelineno-254-36"></a>
<a id="__codelineno-254-37" name="__codelineno-254-37" href="#__codelineno-254-37"></a>AAOCAg8AMIICCgKCAgEA3oM7eX/p68jIjqOcRnUUOoLz14s4rEdGr44j7W0Kkm3O
<a id="__codelineno-254-38" name="__codelineno-254-38" href="#__codelineno-254-38"></a>
<a id="__codelineno-254-39" name="__codelineno-254-39" href="#__codelineno-254-39"></a>
<a id="__codelineno-254-40" name="__codelineno-254-40" href="#__codelineno-254-40"></a>
<a id="__codelineno-254-41" name="__codelineno-254-41" href="#__codelineno-254-41"></a>+zzy5xEDh3lz8Wt5MGfkGYzuo9yxdmt6gCRSzOER6Af/uaALk5gO1I4wdgsRG7vA
<a id="__codelineno-254-42" name="__codelineno-254-42" href="#__codelineno-254-42"></a>
<a id="__codelineno-254-43" name="__codelineno-254-43" href="#__codelineno-254-43"></a>
<a id="__codelineno-254-44" name="__codelineno-254-44" href="#__codelineno-254-44"></a>
<a id="__codelineno-254-45" name="__codelineno-254-45" href="#__codelineno-254-45"></a>i5GcS4oWqrOAVgbNNtVRd3g5+ouWH1wx4hhu1w/XYIiQOiraCINiFLpxJ2OmcBB1
<a id="__codelineno-254-46" name="__codelineno-254-46" href="#__codelineno-254-46"></a>
<a id="__codelineno-254-47" name="__codelineno-254-47" href="#__codelineno-254-47"></a>
<a id="__codelineno-254-48" name="__codelineno-254-48" href="#__codelineno-254-48"></a>
<a id="__codelineno-254-49" name="__codelineno-254-49" href="#__codelineno-254-49"></a>CPR3DfwoB39tN/aqf0W7tWwG7kf3aabQ4giCFsoadV/h4pEXNx7sFS5rNSXBlajl
<a id="__codelineno-254-50" name="__codelineno-254-50" href="#__codelineno-254-50"></a>
<a id="__codelineno-254-51" name="__codelineno-254-51" href="#__codelineno-254-51"></a>
<a id="__codelineno-254-52" name="__codelineno-254-52" href="#__codelineno-254-52"></a>
<a id="__codelineno-254-53" name="__codelineno-254-53" href="#__codelineno-254-53"></a>zfau1O/QYdhzBEdeF7pNwG1EDfa66+Frb/luVjuea0c5UABV9xTiLSb3evFAx9w6
<a id="__codelineno-254-54" name="__codelineno-254-54" href="#__codelineno-254-54"></a>
<a id="__codelineno-254-55" name="__codelineno-254-55" href="#__codelineno-254-55"></a>
<a id="__codelineno-254-56" name="__codelineno-254-56" href="#__codelineno-254-56"></a>
<a id="__codelineno-254-57" name="__codelineno-254-57" href="#__codelineno-254-57"></a>n4dN3T2V9uBlhvKRAkqKuh70uTW1NlsNdo6xVBvl9ivPcqtM/p5nHgqTlX+UIbAu
<a id="__codelineno-254-58" name="__codelineno-254-58" href="#__codelineno-254-58"></a>
<a id="__codelineno-254-59" name="__codelineno-254-59" href="#__codelineno-254-59"></a>
<a id="__codelineno-254-60" name="__codelineno-254-60" href="#__codelineno-254-60"></a>
<a id="__codelineno-254-61" name="__codelineno-254-61" href="#__codelineno-254-61"></a>SmTOF5NB90EqHnb/BjPYUtaIWE6Zj8BkhEVbPejipsBBqci1iCnUFBGD1U8TNZGg
<a id="__codelineno-254-62" name="__codelineno-254-62" href="#__codelineno-254-62"></a>
<a id="__codelineno-254-63" name="__codelineno-254-63" href="#__codelineno-254-63"></a>
<a id="__codelineno-254-64" name="__codelineno-254-64" href="#__codelineno-254-64"></a>
<a id="__codelineno-254-65" name="__codelineno-254-65" href="#__codelineno-254-65"></a>2ySy5GH6Q6RIJ6JFOYtaHqYQg/VsLT55uRJzqgVNaOjDffYlaoNBdiBaQfzt+Nxk
<a id="__codelineno-254-66" name="__codelineno-254-66" href="#__codelineno-254-66"></a>
<a id="__codelineno-254-67" name="__codelineno-254-67" href="#__codelineno-254-67"></a>
<a id="__codelineno-254-68" name="__codelineno-254-68" href="#__codelineno-254-68"></a>
<a id="__codelineno-254-69" name="__codelineno-254-69" href="#__codelineno-254-69"></a>rF8p9un8hBb0CX2iwpyX5vy2HIXNtJrHOi1CcBMLYuxCyFrQChanB2NwQ1l1BIM6
<a id="__codelineno-254-70" name="__codelineno-254-70" href="#__codelineno-254-70"></a>
<a id="__codelineno-254-71" name="__codelineno-254-71" href="#__codelineno-254-71"></a>
<a id="__codelineno-254-72" name="__codelineno-254-72" href="#__codelineno-254-72"></a>
<a id="__codelineno-254-73" name="__codelineno-254-73" href="#__codelineno-254-73"></a>zDoHZh2CaPJTE/g0152dgvl0Xs1MtrQ/6Dmwodmitse/oWAO9CZBg6ELGZyjOKQn
<a id="__codelineno-254-74" name="__codelineno-254-74" href="#__codelineno-254-74"></a>
<a id="__codelineno-254-75" name="__codelineno-254-75" href="#__codelineno-254-75"></a>
<a id="__codelineno-254-76" name="__codelineno-254-76" href="#__codelineno-254-76"></a>
<a id="__codelineno-254-77" name="__codelineno-254-77" href="#__codelineno-254-77"></a>yvQbxMf3H9vOrddPQFEuhaErJNJUGDtvAH4i/CfmTyYSc61k+AwXLB39hrz7rMUC
<a id="__codelineno-254-78" name="__codelineno-254-78" href="#__codelineno-254-78"></a>
<a id="__codelineno-254-79" name="__codelineno-254-79" href="#__codelineno-254-79"></a>
<a id="__codelineno-254-80" name="__codelineno-254-80" href="#__codelineno-254-80"></a>
<a id="__codelineno-254-81" name="__codelineno-254-81" href="#__codelineno-254-81"></a>AwEAAaNTMFEwHQYDVR0OBBYEFPQEwTqk6OjBWqyNAFKD8FGetZd8MB8GA1UdIwQY
<a id="__codelineno-254-82" name="__codelineno-254-82" href="#__codelineno-254-82"></a>
<a id="__codelineno-254-83" name="__codelineno-254-83" href="#__codelineno-254-83"></a>
<a id="__codelineno-254-84" name="__codelineno-254-84" href="#__codelineno-254-84"></a>
<a id="__codelineno-254-85" name="__codelineno-254-85" href="#__codelineno-254-85"></a>MBaAFPQEwTqk6OjBWqyNAFKD8FGetZd8MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZI
<a id="__codelineno-254-86" name="__codelineno-254-86" href="#__codelineno-254-86"></a>
<a id="__codelineno-254-87" name="__codelineno-254-87" href="#__codelineno-254-87"></a>
<a id="__codelineno-254-88" name="__codelineno-254-88" href="#__codelineno-254-88"></a>
<a id="__codelineno-254-89" name="__codelineno-254-89" href="#__codelineno-254-89"></a>hvcNAQELBQADggIBAGpfz5NM4nlcA88FfG22Re7osKkBaP+GZBujpwRHGNYgJQ1T
<a id="__codelineno-254-90" name="__codelineno-254-90" href="#__codelineno-254-90"></a>
<a id="__codelineno-254-91" name="__codelineno-254-91" href="#__codelineno-254-91"></a>
<a id="__codelineno-254-92" name="__codelineno-254-92" href="#__codelineno-254-92"></a>
<a id="__codelineno-254-93" name="__codelineno-254-93" href="#__codelineno-254-93"></a>5yjrNSzGfI2kNz7m/SuauUQN8ehS57t9kvQHOru4Y0A5oxnRh+1jMSVX5Ri8o6ZD
<a id="__codelineno-254-94" name="__codelineno-254-94" href="#__codelineno-254-94"></a>
<a id="__codelineno-254-95" name="__codelineno-254-95" href="#__codelineno-254-95"></a>
<a id="__codelineno-254-96" name="__codelineno-254-96" href="#__codelineno-254-96"></a>
<a id="__codelineno-254-97" name="__codelineno-254-97" href="#__codelineno-254-97"></a>ObQ4J99YriGZVfOyiahQ41ekRprvLBALmfLjFsQKMWGy4B2p7YsTpQdK9Nl7TXub
<a id="__codelineno-254-98" name="__codelineno-254-98" href="#__codelineno-254-98"></a>
<a id="__codelineno-254-99" name="__codelineno-254-99" href="#__codelineno-254-99"></a>
<a id="__codelineno-254-100" name="__codelineno-254-100" href="#__codelineno-254-100"></a>
<a id="__codelineno-254-101" name="__codelineno-254-101" href="#__codelineno-254-101"></a>6Y6ZGousk5Kf/cKX3xxyHWbWsLqOwxfcpBGbi9AHZjBZX2utLq1sxQHg4/ma1fR0
<a id="__codelineno-254-102" name="__codelineno-254-102" href="#__codelineno-254-102"></a>
<a id="__codelineno-254-103" name="__codelineno-254-103" href="#__codelineno-254-103"></a>
<a id="__codelineno-254-104" name="__codelineno-254-104" href="#__codelineno-254-104"></a>
<a id="__codelineno-254-105" name="__codelineno-254-105" href="#__codelineno-254-105"></a>MXX49kXoJDCWZkd2qumwT7rpibp2KGul5jQ8gmUSO25T3r9xfygnzBk0obneya/J
<a id="__codelineno-254-106" name="__codelineno-254-106" href="#__codelineno-254-106"></a>
<a id="__codelineno-254-107" name="__codelineno-254-107" href="#__codelineno-254-107"></a>
<a id="__codelineno-254-108" name="__codelineno-254-108" href="#__codelineno-254-108"></a>
<a id="__codelineno-254-109" name="__codelineno-254-109" href="#__codelineno-254-109"></a>NW06SWHgmT+z5pWly6/9Y8hBtD8GD4AY7GgjmojF3ziDtddFhbPd1C2S8xdvFYiu
<a id="__codelineno-254-110" name="__codelineno-254-110" href="#__codelineno-254-110"></a>
<a id="__codelineno-254-111" name="__codelineno-254-111" href="#__codelineno-254-111"></a>
<a id="__codelineno-254-112" name="__codelineno-254-112" href="#__codelineno-254-112"></a>
<a id="__codelineno-254-113" name="__codelineno-254-113" href="#__codelineno-254-113"></a>qkjlLRuqRPyF3zwUiiFw8/D03Sc8hIR14XCGVexRgOzqUi1TrZ4Glb2uLF/vdLhz
<a id="__codelineno-254-114" name="__codelineno-254-114" href="#__codelineno-254-114"></a>
<a id="__codelineno-254-115" name="__codelineno-254-115" href="#__codelineno-254-115"></a>
<a id="__codelineno-254-116" name="__codelineno-254-116" href="#__codelineno-254-116"></a>
<a id="__codelineno-254-117" name="__codelineno-254-117" href="#__codelineno-254-117"></a>Loi9xjUSETsVvVuxAbGlU7pVLQJWElTETmdgYqzOPGE0m3ROSQxkSDLKe+7k9xZL
<a id="__codelineno-254-118" name="__codelineno-254-118" href="#__codelineno-254-118"></a>
<a id="__codelineno-254-119" name="__codelineno-254-119" href="#__codelineno-254-119"></a>
<a id="__codelineno-254-120" name="__codelineno-254-120" href="#__codelineno-254-120"></a>
<a id="__codelineno-254-121" name="__codelineno-254-121" href="#__codelineno-254-121"></a>PQSICKQYuD2dzttjx99cVZMLgiuaH2APsv1eIggf5tAC/LVyKZOf/QedG5o1Bb2T
<a id="__codelineno-254-122" name="__codelineno-254-122" href="#__codelineno-254-122"></a>
<a id="__codelineno-254-123" name="__codelineno-254-123" href="#__codelineno-254-123"></a>
<a id="__codelineno-254-124" name="__codelineno-254-124" href="#__codelineno-254-124"></a>
<a id="__codelineno-254-125" name="__codelineno-254-125" href="#__codelineno-254-125"></a>goCos2lkkJcV/LDBNE2X5+IS/3q3v0Esq90prl9wXH83CVtG4lJVpm42TccCwRID
<a id="__codelineno-254-126" name="__codelineno-254-126" href="#__codelineno-254-126"></a>
<a id="__codelineno-254-127" name="__codelineno-254-127" href="#__codelineno-254-127"></a>
<a id="__codelineno-254-128" name="__codelineno-254-128" href="#__codelineno-254-128"></a>
<a id="__codelineno-254-129" name="__codelineno-254-129" href="#__codelineno-254-129"></a>j4xHGOuWrdmKRafgeohGIsH1ZhckkPc4Vcri2232dRPUAXziS+Yp3Ef9xdov
<a id="__codelineno-254-130" name="__codelineno-254-130" href="#__codelineno-254-130"></a>
<a id="__codelineno-254-131" name="__codelineno-254-131" href="#__codelineno-254-131"></a>
<a id="__codelineno-254-132" name="__codelineno-254-132" href="#__codelineno-254-132"></a>
<a id="__codelineno-254-133" name="__codelineno-254-133" href="#__codelineno-254-133"></a>-----END CERTIFICATE-----
</code></pre></div>
2. Apply the ConfigMap to your cluster.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-255-1" name="__codelineno-255-1" href="#__codelineno-255-1"></a>kubectl apply -f my-ca-configmap.yaml
</code></pre></div>
3. In your DynaKube, reference the ConfigMap in the <code>trustedCAs</code> field.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-256-1" name="__codelineno-256-1" href="#__codelineno-256-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-256-2" name="__codelineno-256-2" href="#__codelineno-256-2"></a>
<a id="__codelineno-256-3" name="__codelineno-256-3" href="#__codelineno-256-3"></a>
<a id="__codelineno-256-4" name="__codelineno-256-4" href="#__codelineno-256-4"></a>
<a id="__codelineno-256-5" name="__codelineno-256-5" href="#__codelineno-256-5"></a>kind: DynaKube
<a id="__codelineno-256-6" name="__codelineno-256-6" href="#__codelineno-256-6"></a>
<a id="__codelineno-256-7" name="__codelineno-256-7" href="#__codelineno-256-7"></a>
<a id="__codelineno-256-8" name="__codelineno-256-8" href="#__codelineno-256-8"></a>
<a id="__codelineno-256-9" name="__codelineno-256-9" href="#__codelineno-256-9"></a>metadata:
<a id="__codelineno-256-10" name="__codelineno-256-10" href="#__codelineno-256-10"></a>
<a id="__codelineno-256-11" name="__codelineno-256-11" href="#__codelineno-256-11"></a>
<a id="__codelineno-256-12" name="__codelineno-256-12" href="#__codelineno-256-12"></a>
<a id="__codelineno-256-13" name="__codelineno-256-13" href="#__codelineno-256-13"></a>name: dynakube
<a id="__codelineno-256-14" name="__codelineno-256-14" href="#__codelineno-256-14"></a>
<a id="__codelineno-256-15" name="__codelineno-256-15" href="#__codelineno-256-15"></a>
<a id="__codelineno-256-16" name="__codelineno-256-16" href="#__codelineno-256-16"></a>
<a id="__codelineno-256-17" name="__codelineno-256-17" href="#__codelineno-256-17"></a>namespace: dynatrace
<a id="__codelineno-256-18" name="__codelineno-256-18" href="#__codelineno-256-18"></a>
<a id="__codelineno-256-19" name="__codelineno-256-19" href="#__codelineno-256-19"></a>
<a id="__codelineno-256-20" name="__codelineno-256-20" href="#__codelineno-256-20"></a>
<a id="__codelineno-256-21" name="__codelineno-256-21" href="#__codelineno-256-21"></a>spec:
<a id="__codelineno-256-22" name="__codelineno-256-22" href="#__codelineno-256-22"></a>
<a id="__codelineno-256-23" name="__codelineno-256-23" href="#__codelineno-256-23"></a>
<a id="__codelineno-256-24" name="__codelineno-256-24" href="#__codelineno-256-24"></a>
<a id="__codelineno-256-25" name="__codelineno-256-25" href="#__codelineno-256-25"></a>apiUrl: https://&lt;activegate-host&gt;:9999/e/&lt;environment-id&gt;/api
<a id="__codelineno-256-26" name="__codelineno-256-26" href="#__codelineno-256-26"></a>
<a id="__codelineno-256-27" name="__codelineno-256-27" href="#__codelineno-256-27"></a>
<a id="__codelineno-256-28" name="__codelineno-256-28" href="#__codelineno-256-28"></a>
<a id="__codelineno-256-29" name="__codelineno-256-29" href="#__codelineno-256-29"></a>trustedCAs: mycaconfigmap
</code></pre></div>
4. Apply the DynaKube configuration to your cluster.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-257-1" name="__codelineno-257-1" href="#__codelineno-257-1"></a>kubectl apply -f dynakube-config.yaml
</code></pre></div>
<h3 id="use-skipcertcheck-to-bypass-certificate-verification">Use <code>skipCertCheck</code> to bypass certificate verification<a class="headerlink" href="#use-skipcertcheck-to-bypass-certificate-verification" title="Permanent link">&para;</a></h3>
<p>To ignore certificate verification for Dynatrace Operator components (<code>operator</code> and <code>csi-driver</code>), set <code>skipCertCheck</code> in your DynaKube configuration. This setting should only be used if the custom certificate authority is unknown or can't be provided to Dynatrace Operator via the <code>trustedCAs</code> field.</p>
<p>In Dynatrace Operator version 1.0.0 and earlier, the <code>skipCertCheck</code> setting was not applied during the image pulling process.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-258-1" name="__codelineno-258-1" href="#__codelineno-258-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-258-2" name="__codelineno-258-2" href="#__codelineno-258-2"></a>
<a id="__codelineno-258-3" name="__codelineno-258-3" href="#__codelineno-258-3"></a>
<a id="__codelineno-258-4" name="__codelineno-258-4" href="#__codelineno-258-4"></a>
<a id="__codelineno-258-5" name="__codelineno-258-5" href="#__codelineno-258-5"></a>kind: DynaKube
<a id="__codelineno-258-6" name="__codelineno-258-6" href="#__codelineno-258-6"></a>
<a id="__codelineno-258-7" name="__codelineno-258-7" href="#__codelineno-258-7"></a>
<a id="__codelineno-258-8" name="__codelineno-258-8" href="#__codelineno-258-8"></a>
<a id="__codelineno-258-9" name="__codelineno-258-9" href="#__codelineno-258-9"></a>metadata:
<a id="__codelineno-258-10" name="__codelineno-258-10" href="#__codelineno-258-10"></a>
<a id="__codelineno-258-11" name="__codelineno-258-11" href="#__codelineno-258-11"></a>
<a id="__codelineno-258-12" name="__codelineno-258-12" href="#__codelineno-258-12"></a>
<a id="__codelineno-258-13" name="__codelineno-258-13" href="#__codelineno-258-13"></a>name: dynakube
<a id="__codelineno-258-14" name="__codelineno-258-14" href="#__codelineno-258-14"></a>
<a id="__codelineno-258-15" name="__codelineno-258-15" href="#__codelineno-258-15"></a>
<a id="__codelineno-258-16" name="__codelineno-258-16" href="#__codelineno-258-16"></a>
<a id="__codelineno-258-17" name="__codelineno-258-17" href="#__codelineno-258-17"></a>namespace: dynatrace
<a id="__codelineno-258-18" name="__codelineno-258-18" href="#__codelineno-258-18"></a>
<a id="__codelineno-258-19" name="__codelineno-258-19" href="#__codelineno-258-19"></a>
<a id="__codelineno-258-20" name="__codelineno-258-20" href="#__codelineno-258-20"></a>
<a id="__codelineno-258-21" name="__codelineno-258-21" href="#__codelineno-258-21"></a>spec:
<a id="__codelineno-258-22" name="__codelineno-258-22" href="#__codelineno-258-22"></a>
<a id="__codelineno-258-23" name="__codelineno-258-23" href="#__codelineno-258-23"></a>
<a id="__codelineno-258-24" name="__codelineno-258-24" href="#__codelineno-258-24"></a>
<a id="__codelineno-258-25" name="__codelineno-258-25" href="#__codelineno-258-25"></a>apiUrl: https://&lt;activegate-host&gt;:9999/e/&lt;environment-id&gt;/api
<a id="__codelineno-258-26" name="__codelineno-258-26" href="#__codelineno-258-26"></a>
<a id="__codelineno-258-27" name="__codelineno-258-27" href="#__codelineno-258-27"></a>
<a id="__codelineno-258-28" name="__codelineno-258-28" href="#__codelineno-258-28"></a>
<a id="__codelineno-258-29" name="__codelineno-258-29" href="#__codelineno-258-29"></a>skipCertCheck: true
</code></pre></div>
<h2 id="configure-a-server-tls-certificate-for-activegate">Configure a server TLS certificate for ActiveGate<a class="headerlink" href="#configure-a-server-tls-certificate-for-activegate" title="Permanent link">&para;</a></h2>
<p>By default, ActiveGate uses a self-signed certificate, which can be replaced by a self-managed certificate as described in <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-custom-ssl-certificate-on-activegate" title="Learn how to configure the SSL certificate on your ActiveGate.">Custom SSL certificate for ActiveGate</a>.</p>
<p>To configure a server TLS certificate for the ActiveGate:</p>
<ol>
<li>Create the <a href="https://dt-url.net/zm03qza">Kubernetes Opaque secret√Ø¬ª¬ø</a> holding the ActiveGate certificate(s) and ActiveGate private key.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-259-1" name="__codelineno-259-1" href="#__codelineno-259-1"></a>kubectl -n dynatrace create secret generic mytlssecret --from-file=server.p12=&lt;myag.p12&gt; --from-file=server.crt=&lt;myag.crt&gt; --from-literal=password=&lt;mypassword&gt;
</code></pre></div>
<p>Where:</p>
<ul>
<li><code>server.crt</code>√¢¬Ä¬ìDynatrace Operator propagates ActiveGate certificate(s) from the file to OneAgents.</li>
<li><code>server.p12</code>√¢¬Ä¬ìActiveGate certificate(s) and ActiveGate private key, ActiveGate reads the file and configures itself to use the provided private key and certificates.</li>
<li><code>password</code>√¢¬Ä¬ìActiveGate reads it and uses it to decrypt the <code>server.p12</code> file.</li>
</ul>
<p><code>server.12</code> and <code>server.crt</code> files should contain the same certificate(s).
2. Provide the name of the secret via the <code>tlsSecretName</code> field.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-260-1" name="__codelineno-260-1" href="#__codelineno-260-1"></a>apiVersion: dynatrace.com/v1beta5
<a id="__codelineno-260-2" name="__codelineno-260-2" href="#__codelineno-260-2"></a>
<a id="__codelineno-260-3" name="__codelineno-260-3" href="#__codelineno-260-3"></a>
<a id="__codelineno-260-4" name="__codelineno-260-4" href="#__codelineno-260-4"></a>
<a id="__codelineno-260-5" name="__codelineno-260-5" href="#__codelineno-260-5"></a>kind: DynaKube
<a id="__codelineno-260-6" name="__codelineno-260-6" href="#__codelineno-260-6"></a>
<a id="__codelineno-260-7" name="__codelineno-260-7" href="#__codelineno-260-7"></a>
<a id="__codelineno-260-8" name="__codelineno-260-8" href="#__codelineno-260-8"></a>
<a id="__codelineno-260-9" name="__codelineno-260-9" href="#__codelineno-260-9"></a>metadata:
<a id="__codelineno-260-10" name="__codelineno-260-10" href="#__codelineno-260-10"></a>
<a id="__codelineno-260-11" name="__codelineno-260-11" href="#__codelineno-260-11"></a>
<a id="__codelineno-260-12" name="__codelineno-260-12" href="#__codelineno-260-12"></a>
<a id="__codelineno-260-13" name="__codelineno-260-13" href="#__codelineno-260-13"></a>name: dynakube
<a id="__codelineno-260-14" name="__codelineno-260-14" href="#__codelineno-260-14"></a>
<a id="__codelineno-260-15" name="__codelineno-260-15" href="#__codelineno-260-15"></a>
<a id="__codelineno-260-16" name="__codelineno-260-16" href="#__codelineno-260-16"></a>
<a id="__codelineno-260-17" name="__codelineno-260-17" href="#__codelineno-260-17"></a>namespace: dynatrace
<a id="__codelineno-260-18" name="__codelineno-260-18" href="#__codelineno-260-18"></a>
<a id="__codelineno-260-19" name="__codelineno-260-19" href="#__codelineno-260-19"></a>
<a id="__codelineno-260-20" name="__codelineno-260-20" href="#__codelineno-260-20"></a>
<a id="__codelineno-260-21" name="__codelineno-260-21" href="#__codelineno-260-21"></a>spec:
<a id="__codelineno-260-22" name="__codelineno-260-22" href="#__codelineno-260-22"></a>
<a id="__codelineno-260-23" name="__codelineno-260-23" href="#__codelineno-260-23"></a>
<a id="__codelineno-260-24" name="__codelineno-260-24" href="#__codelineno-260-24"></a>
<a id="__codelineno-260-25" name="__codelineno-260-25" href="#__codelineno-260-25"></a>...
<a id="__codelineno-260-26" name="__codelineno-260-26" href="#__codelineno-260-26"></a>
<a id="__codelineno-260-27" name="__codelineno-260-27" href="#__codelineno-260-27"></a>
<a id="__codelineno-260-28" name="__codelineno-260-28" href="#__codelineno-260-28"></a>
<a id="__codelineno-260-29" name="__codelineno-260-29" href="#__codelineno-260-29"></a>activeGate:
<a id="__codelineno-260-30" name="__codelineno-260-30" href="#__codelineno-260-30"></a>
<a id="__codelineno-260-31" name="__codelineno-260-31" href="#__codelineno-260-31"></a>
<a id="__codelineno-260-32" name="__codelineno-260-32" href="#__codelineno-260-32"></a>
<a id="__codelineno-260-33" name="__codelineno-260-33" href="#__codelineno-260-33"></a>tlsSecretName: &lt;mytlssecret&gt;
<a id="__codelineno-260-34" name="__codelineno-260-34" href="#__codelineno-260-34"></a>
<a id="__codelineno-260-35" name="__codelineno-260-35" href="#__codelineno-260-35"></a>
<a id="__codelineno-260-36" name="__codelineno-260-36" href="#__codelineno-260-36"></a>
<a id="__codelineno-260-37" name="__codelineno-260-37" href="#__codelineno-260-37"></a>...
</code></pre></div>
<hr />
<h2 id="source-guidesmd">Source: guides.md<a class="headerlink" href="#source-guidesmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Guides
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/guides
scraped: 2026-02-17T05:05:31.118588</p>
<hr />
<h1 id="guides">Guides<a class="headerlink" href="#guides" title="Permanent link">&para;</a></h1>
<h1 id="guides_1">Guides<a class="headerlink" href="#guides_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>3-min read</li>
<li>Published Jul 28, 2023</li>
</ul>
<p>After you have installed Dynatrace Operator for Kubernetes, you might have specific use-cases and requirements to fulfill. This section contains guided content for a set of specific use-cases.</p>
<p>[### Migration</p>
<p>Guides on how to migrate between different monitoring environments.](/docs/ingest-from/setup-on-k8s/guides/migration "Guides on how to migrate between different monitoring environments.")[### Deployment and configuration</p>
<p>Guides and procedures for various operational tasks.](/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration "Guides and procedures for various operational tasks")[### Network and security configurations</p>
<p>Explore various aspects of networking and security in your environment.](/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance "Explore various aspects of networking, security, and compliance in your environment.")[### Container registries</p>
<p>Manage container registries with Dynatrace.](/docs/ingest-from/setup-on-k8s/guides/container-registries "Manage container registries with Dynatrace")[### High availability</p>
<p>Ensure high availability of your Dynatrace deployment.](/docs/ingest-from/setup-on-k8s/guides/high-availability "Ensure high availability of your Dynatrace deployment")[### Metadata and automation</p>
<p>Automate and optimize your system's metadata management.](/docs/ingest-from/setup-on-k8s/guides/metadata-automation "Automate and optimize your system's metadata management")</p>
<hr />
<h2 id="source-cloud-native-fullstackmd">Source: cloud-native-fullstack.md<a class="headerlink" href="#source-cloud-native-fullstackmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Full-stack observability
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/how-it-works/cloud-native-fullstack
scraped: 2026-02-17T04:51:26.925334</p>
<hr />
<h1 id="full-stack-observability">Full-stack observability<a class="headerlink" href="#full-stack-observability" title="Permanent link">&para;</a></h1>
<h1 id="full-stack-observability_1">Full-stack observability<a class="headerlink" href="#full-stack-observability_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>3-min read</li>
<li>Published Oct 31, 2024</li>
</ul>
<p>Full-stack observability combines infrastructure and application monitoring in Kubernetes environments. This setup includes the injection of Dynatrace OneAgent and provides insights into both cluster performance and application behavior.</p>
<p>See the <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes."><code>.spec.oneAgent.cloudNativeFullStack</code></a> section of DynaKube for additional information.</p>
<h2 id="capabilities">Capabilities<a class="headerlink" href="#capabilities" title="Permanent link">&para;</a></h2>
<ul>
<li>Offers similar functionality to the classic full-stack injection.</li>
<li>Uses mutating webhooks to inject code modules into application Pods.</li>
<li>Enables data enrichment for Kubernetes environments via <a href="/docs/ingest-from/extend-dynatrace/extend-data#dynatrace-kubernetes-operator" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">enrichment files</a>.</li>
</ul>
<h3 id="current-limitations">Current limitations<a class="headerlink" href="#current-limitations" title="Permanent link">&para;</a></h3>
<ul>
<li>Diagnostic files (support archives) for application Pods aren't yet supported.</li>
<li>Container monitoring rules aren't supported (the DynaKube label selector parameter provides similar functionality).</li>
<li><a href="/docs/ingest-from/technology-support/application-software/go/support/go-known-limitations#static-monitoring" title="Learn the limitations for Go support and their workarounds.">Go static monitoring</a> is partially supported.</li>
<li>
<p>OneAgent support archives, such as code module logs, can be gathered from the monitored process/Pod using the <strong>Run OneAgent Diagnostics</strong> menu option on the process-specific page. If no OneAgent support archive is available, it means one of the following:</p>
</li>
<li>
<p>No code module has been injected into the application Pod.</p>
</li>
<li>There is an issue with OneAgent creating the support archive.</li>
</ul>
<h2 id="deployed-resources">Deployed resources<a class="headerlink" href="#deployed-resources" title="Permanent link">&para;</a></h2>
<h3 id="dynatrace-operator-components">Dynatrace Operator components<a class="headerlink" href="#dynatrace-operator-components" title="Permanent link">&para;</a></h3>
<p>The following components are deployed via Helm/Manifests as part of the core installation. For more information, go to their respective sections:</p>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#operator" title="Components of Dynatrace Operator">Dynatrace Operator</a> manages the automated rollout, configuration, and lifecycle of Dynatrace components in your Kubernetes environment.</li>
<li><a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#webhook" title="Components of Dynatrace Operator">Dynatrace Operator webhook</a> validates DynaKube definitions, converts definitions with older API versions, and injects configurations into Pods.</li>
<li><a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#csidriver" title="Components of Dynatrace Operator">Dynatrace Operator CSI Driver</a> deployed as a DaemonSet, provides writable volume storage for OneAgent binaries to minimize network and storage usage.</li>
</ul>
<h3 id="operator-managed-components">Operator-managed components<a class="headerlink" href="#operator-managed-components" title="Permanent link">&para;</a></h3>
<p>The following components are deployed by applying a DynaKube with full-stack observability:</p>
<ul>
<li><a href="/docs/ingest-from/dynatrace-oneagent" title="Understand the important concepts related to OneAgent and find out how to install and operate OneAgent on different platforms.">Dynatrace OneAgent</a> collects host metrics from Kubernetes nodes.</li>
<li><a href="/docs/ingest-from/dynatrace-activegate" title="Understand the basic concepts related to ActiveGate.">Dynatrace ActiveGate</a> routes observability data to the Dynatrace cluster and monitors the Kubernetes API.</li>
<li>Dynatrace code modules are injected into your application to enable deep monitoring and observability.</li>
</ul>
<p><img alt="cloud-native" src="https://dt-cdn.net/images/screenshot-2024-01-31-at-2-40-02-pm-2352-4cba84df51.png" /></p>
<hr />
<h2 id="source-classic-fullstackmd">Source: classic-fullstack.md<a class="headerlink" href="#source-classic-fullstackmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Classic Full-Stack monitoring
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/how-it-works/other-deployment-modes/classic-fullstack
scraped: 2026-02-17T04:51:16.748269</p>
<hr />
<h1 id="classic-full-stack-monitoring">Classic Full-Stack monitoring<a class="headerlink" href="#classic-full-stack-monitoring" title="Permanent link">&para;</a></h1>
<h1 id="classic-full-stack-monitoring_1">Classic Full-Stack monitoring<a class="headerlink" href="#classic-full-stack-monitoring_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>2-min read</li>
<li>Published Oct 31, 2024</li>
</ul>
<p>Classic Full-Stack monitoring integrates host and application monitoring for Kubernetes environments. Instrumented Pods maintain their relationship with hosts, enabling the collection of host metrics.</p>
<p>See <a href="/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters" title="List the available parameters for setting up Dynatrace Operator on Kubernetes."><code>.spec.oneAgent.classicFullStack</code></a> section of DynaKube for additional information.</p>
<h2 id="capabilities_1">Capabilities<a class="headerlink" href="#capabilities_1" title="Permanent link">&para;</a></h2>
<ul>
<li>Instrumented Pods maintain their taxonomic relationship with hosts and host metrics. OneAgent complements code modules with OOM detection, disk and storage monitoring, network monitoring, and more.</li>
<li>This all-in-one approach includes Kubernetes cluster monitoring, distributed tracing, fault domain isolation, and deep code-level insights using a single deployment configuration across your clusters.</li>
</ul>
<h2 id="limitations_4">Limitations<a class="headerlink" href="#limitations_4" title="Permanent link">&para;</a></h2>
<p>There√¢¬Ä¬ôs a startup dependency between the container where OneAgent is deployed and the application container to be instrumented (for example, containers with deep process monitoring enabled). The OneAgent container must be started, and the <code>oneagenthelper</code> process must be running before the application container is launched to ensure proper instrumentation.</p>
<h2 id="deployed-resources_1">Deployed resources<a class="headerlink" href="#deployed-resources_1" title="Permanent link">&para;</a></h2>
<h3 id="dynatrace-operator-components_1">Dynatrace Operator components<a class="headerlink" href="#dynatrace-operator-components_1" title="Permanent link">&para;</a></h3>
<p>The following components are deployed via Helm/Manifests as part of the core installation. For more information, go to their respective sections:</p>
<ul>
<li><a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#operator" title="Components of Dynatrace Operator">Dynatrace Operator</a> manages the automated rollout, configuration, and lifecycle of Dynatrace components in your Kubernetes environment.</li>
<li><a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#webhook" title="Components of Dynatrace Operator">Dynatrace Operator webhook</a> validates DynaKube definitions, converts definitions with older API versions, and injects configurations into Pods.</li>
</ul>
<h3 id="operator-managed-components_1">Operator-managed components<a class="headerlink" href="#operator-managed-components_1" title="Permanent link">&para;</a></h3>
<p>The following components are deployed by applying a DynaKube with full-stack observability:</p>
<ul>
<li><a href="/docs/ingest-from/dynatrace-oneagent" title="Understand the important concepts related to OneAgent and find out how to install and operate OneAgent on different platforms.">Dynatrace OneAgent</a> collects host metrics from Kubernetes nodes.</li>
<li><a href="/docs/ingest-from/dynatrace-activegate" title="Understand the basic concepts related to ActiveGate.">Dynatrace ActiveGate</a> routes observability data to the Dynatrace cluster and monitors the Kubernetes API.</li>
</ul>
<p><img alt="classic-full-stack" src="https://dt-cdn.net/images/screenshot-2024-01-31-at-2-37-54-pm-2354-6d55b949e0.png" /></p>
<p>Classic full-stack injection requires <em>write access</em> from the OneAgent Pod to the Kubernetes node file system to detect and inject into newly deployed containers.</p>
<hr />
<h2 id="source-how-it-worksmd">Source: how-it-works.md<a class="headerlink" href="#source-how-it-worksmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: How it works
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/how-it-works
scraped: 2026-02-16T21:30:07.817516</p>
<hr />
<h1 id="how-it-works">How it works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h1>
<h1 id="how-it-works_1">How it works<a class="headerlink" href="#how-it-works_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>1-min read</li>
<li>Published May 10, 2022</li>
</ul>
<p>This section provides an in-depth look at how Dynatrace components are deployed and how they interact with Kubernetes clusters and entities.</p>
<h2 id="deployment-modes">Deployment modes<a class="headerlink" href="#deployment-modes" title="Permanent link">&para;</a></h2>
<p>[#### Kubernetes platform monitoring</p>
<p>In-depth description of Kubernetes platform monitoring using Dynatrace Operator.</p>
<p>Kubernetes platform monitoring](/docs/ingest-from/setup-on-k8s/how-it-works/kubernetes-monitoring)[#### Application observability</p>
<p>In-depth description of Application observability using the Dynatrace Operator.</p>
<p>Application observability](/docs/ingest-from/setup-on-k8s/how-it-works/application-monitoring)[#### Full-stack observability</p>
<p>In-depth description of full-stack observability using Dynatrace Operator.</p>
<p>Full-stack observability](/docs/ingest-from/setup-on-k8s/how-it-works/cloud-native-fullstack)</p>
<h3 id="other">Other<a class="headerlink" href="#other" title="Permanent link">&para;</a></h3>
<p>[#### Classic Full-Stack monitoring</p>
<p>In-depth description of Classic Full-Stack monitoring using Dynatrace Operator.</p>
<p>Classic Full-Stack monitoring](/docs/ingest-from/setup-on-k8s/how-it-works/other-deployment-modes/classic-fullstack)[#### Host monitoring</p>
<p>In-depth description of Host monitoring using Dynatrace Operator.</p>
<p>Host monitoring](/docs/ingest-from/setup-on-k8s/how-it-works/other-deployment-modes/host-monitoring)</p>
<h2 id="components">Components<a class="headerlink" href="#components" title="Permanent link">&para;</a></h2>
<p>[#### Dynatrace Operator</p>
<p>Components of Dynatrace Operator</p>
<p>Dynatrace Operator](/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator)</p>
<hr />
<h2 id="source-k8-security-contextmd">Source: k8-security-context.md<a class="headerlink" href="#source-k8-security-contextmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Set up Grail permissions for telemetry from Kubernetes and Kubernetes workloads
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/k8-security-context
scraped: 2026-02-17T05:06:35.411327</p>
<hr />
<h1 id="set-up-grail-permissions-for-telemetry-from-kubernetes-and-kubernetes-workloads">Set up Grail permissions for telemetry from Kubernetes and Kubernetes workloads<a class="headerlink" href="#set-up-grail-permissions-for-telemetry-from-kubernetes-and-kubernetes-workloads" title="Permanent link">&para;</a></h1>
<h1 id="set-up-grail-permissions-for-telemetry-from-kubernetes-and-kubernetes-workloads_1">Set up Grail permissions for telemetry from Kubernetes and Kubernetes workloads<a class="headerlink" href="#set-up-grail-permissions-for-telemetry-from-kubernetes-and-kubernetes-workloads_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>How-to guide</li>
<li>1-min read</li>
<li>Updated on Nov 20, 2025</li>
</ul>
<p>Dynatrace has a <a href="/docs/platform/grail/organize-data/assign-permissions-in-grail" title="Find out how to assign permissions to buckets and tables in Grail.">permission model for Grail</a>. This applies to all telemetry data, such as metrics, events, spans, and logs.</p>
<p>We recommend setting up permissions along organizational lines and deployment scopes. Suitable concepts include host groups, Kubernetes clusters, and Kubernetes namespaces. These attributes are typically available for all telemetry data ingested via Dynatrace collection methods like OneAgent, OpenTelemetry, or Kubernetes operator. Hence, you can use these attributes to enable <a href="/docs/platform/grail/organize-data/assign-permissions-in-grail#grail-permissions-table-record" title="Find out how to assign permissions to buckets and tables in Grail.">record-level permissions</a>.</p>
<p>For Kubernetes-based deployments, make sure Dynatrace Operator has <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment" title="Metadata enrichment in the Dynatrace Operator adds context to Kubernetes pods by attaching relevant metadata to entities like pods, hosts, and processes for better observability.">metadata enrichment</a> enabled.</p>
<p>If you only require a basic permission concept, setting up bucket-level permissions is the best option. You can then route your data to the correct bucket in OpenPipeline by matching one of the mentioned deployment-relevant primary Grail fields.</p>
<p>For more control in Dynatrace, you can set up policy boundaries with more granular restrictions on a data level. By default, you can use the following attributes:</p>
<ul>
<li><code>dt.host_group.id</code></li>
<li><code>k8s.cluster.name</code></li>
<li><code>k8s.namespace.name</code></li>
<li>Any other attribute listed in the <a href="/docs/platform/grail/organize-data/assign-permissions-in-grail#grail-permissions-table-record" title="Find out how to assign permissions to buckets and tables in Grail.">permission model</a></li>
</ul>
<p>Dynatrace provides a comprehensive permission model for Grail that applies to all telemetry data-including metrics, logs, spans, and events.</p>
<h2 id="set-up-security-context-in-kubernetes">Set up security context in Kubernetes<a class="headerlink" href="#set-up-security-context-in-kubernetes" title="Permanent link">&para;</a></h2>
<p>You may already have defined your own security boundaries outside of Dynatrace and defined them as Kubernetes labels or annotations. Suppose the permissions for the Kubernetes cluster or namespace are not sufficient. In that case, Dynatrace allows you to set up more fine-grained permissions by leveraging your own Kubernetes labels or annotations as the source for your <a href="/docs/manage/identity-access-management/use-cases/access-security-context" title="Grant access to entities with security context">security context</a> in Dynatrace.</p>
<p>This security context can represent your own security architecture and could even be hierarchical by encoding this into a string such as <code>department-A/department-AB/team-C</code>.</p>
<h3 id="security-context-based-on-existing-namespace-labels-or-annotations-recommended">Security context based on existing namespace labels or annotations (recommended)<a class="headerlink" href="#security-context-based-on-existing-namespace-labels-or-annotations-recommended" title="Permanent link">&para;</a></h3>
<p>Via the Kubernetes metadata enrichment feature, you can use already existing namespace labels and annotations as source for your security context. Just choose an existing label, and it will be added as <code>dt.security_context</code> on your telemetry.</p>
<p>To enable this functionality, make sure Dynatrace Operator has <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment" title="Metadata enrichment in the Dynatrace Operator adds context to Kubernetes pods by attaching relevant metadata to entities like pods, hosts, and processes for better observability.">metadata enrichment</a> enabled.</p>
<p>For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/k8s-metadata-telemetry-enrichment#enrichment-options" title="Guides for telemetry enrichment on Kubernetes">Use settings to use existing labels and annotations</a>.</p>
<h3 id="security-context-based-on-dedicated-pod-annotations">Security context based on dedicated pod annotations<a class="headerlink" href="#security-context-based-on-dedicated-pod-annotations" title="Permanent link">&para;</a></h3>
<p><a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/k8s-metadata-telemetry-enrichment#dedicated-annotations" title="Guides for telemetry enrichment on Kubernetes">Dedicated pod annotations</a> are only intended for scenarios where namespace labels or annotations cannot be used as a source.</p>
<p>Unlike the settings-based approach, manually added pod annotations do not provide full enrichment. They do not enrich Kubernetes metrics, Kubernetes events, Kubernetes Smartscape entities, or Prometheus metrics.</p>
<p>You can provide <code>dt.security_context</code> as a pod annotatation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-261-1" name="__codelineno-261-1" href="#__codelineno-261-1"></a>metadata:
<a id="__codelineno-261-2" name="__codelineno-261-2" href="#__codelineno-261-2"></a>
<a id="__codelineno-261-3" name="__codelineno-261-3" href="#__codelineno-261-3"></a>
<a id="__codelineno-261-4" name="__codelineno-261-4" href="#__codelineno-261-4"></a>
<a id="__codelineno-261-5" name="__codelineno-261-5" href="#__codelineno-261-5"></a>annotations:
<a id="__codelineno-261-6" name="__codelineno-261-6" href="#__codelineno-261-6"></a>
<a id="__codelineno-261-7" name="__codelineno-261-7" href="#__codelineno-261-7"></a>
<a id="__codelineno-261-8" name="__codelineno-261-8" href="#__codelineno-261-8"></a>
<a id="__codelineno-261-9" name="__codelineno-261-9" href="#__codelineno-261-9"></a>metadata.dynatrace.com/dt.security_context: foo
</code></pre></div>
<p>This works automatically for OneAgent and OpenTelemetry scenarios where you are enriching <a href="/docs/ingest-from/extend-dynatrace/extend-data#operator-enrichment-directory" title="Learn how to automatically enrich your telemetry data with Dynatrace-specific dimensions.">attributes directly in your application code</a>.</p>
<p>For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/k8s-metadata-telemetry-enrichment#security-context-and-cost-allocation" title="Guides for telemetry enrichment on Kubernetes">security context and cost allocation</a>.</p>
<h2 id="related-topics_9">Related topics<a class="headerlink" href="#related-topics_9" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.dynatrace.com/technologies/kubernetes-monitoring/">Kubernetes cluster and workload monitoring√Ø¬ª¬ø</a></li>
</ul>
<hr />
<h2 id="source-dynakube-parametersmd">Source: dynakube-parameters.md<a class="headerlink" href="#source-dynakube-parametersmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: DynaKube parameters for Dynatrace Operator
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/dynakube-parameters
scraped: 2026-02-16T09:38:08.852569</p>
<hr />
<h1 id="dynakube-parameters-for-dynatrace-operator">DynaKube parameters for Dynatrace Operator<a class="headerlink" href="#dynakube-parameters-for-dynatrace-operator" title="Permanent link">&para;</a></h1>
<h1 id="dynakube-parameters-for-dynatrace-operator_1">DynaKube parameters for Dynatrace Operator<a class="headerlink" href="#dynakube-parameters-for-dynatrace-operator_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>57-min read</li>
<li>Updated on Jan 02, 2026</li>
</ul>
<p>This page will help you to understand and configure the DynaKube <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">Kubernetes Custom Resource√Ø¬ª¬ø</a>, enabling you to optimize your Dynatrace Operator setup according to your specific requirements.</p>
<p>The table below specifies the required Dynatrace Operator versions corresponding to each DynaKube API version.</p>
<table>
<thead>
<tr>
<th>DynaKube API version</th>
<th>Minimum Dynatrace Operator version</th>
<th>Maximum Dynatrace Operator version <a href="#fn-1-1-def">1</a></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>v1beta6</code></td>
<td>1.8</td>
<td></td>
</tr>
<tr>
<td><code>v1beta5</code></td>
<td>1.6</td>
<td></td>
</tr>
<tr>
<td><code>v1beta4</code></td>
<td>1.5</td>
<td></td>
</tr>
<tr>
<td><code>v1beta3</code></td>
<td>1.4</td>
<td>1.7</td>
</tr>
<tr>
<td><code>v1beta2</code></td>
<td>1.2</td>
<td>1.6</td>
</tr>
<tr>
<td><code>v1beta1</code></td>
<td>All versions</td>
<td>1.6</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>The corresponding DynaKube API versions will be removed from the Dynatrace Operator in the subsequent minor or major release.</p>
<p>See the DynaKube YAML samples on <a href="https://github.com/Dynatrace/dynatrace-operator/tree/v1.5.0/assets/samples/dynakube">GitHub√Ø¬ª¬ø</a>.</p>
<p>v1beta6</p>
<p>v1beta5</p>
<p>v1beta4</p>
<p>v1beta3</p>
<p>v1beta2</p>
<p>v1beta1</p>
<p>Dynatrace Operator version 1.8.0+</p>
<h2 id="spec"><code>.spec</code><a class="headerlink" href="#spec" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required and immutable. Once set, it cannot be modified in an existing DynaKube.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a></td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>dynatraceApiRequestThreshold</code></td>
<td>Minimum minutes between Dynatrace API requests.</td>
<td>15</td>
<td>integer</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>-</td>
<td>DynaKubeProxy</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens used for connecting to Dynatrace.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. The key to the data must be <code>certs</code>. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>-</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>-</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-2-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-2-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>terminationGracePeriodSeconds</code></td>
<td>Configures the terminationGracePeriodSeconds parameter of the ActiveGate pod. Kubernetes defaults and rules apply.</td>
<td>Not applicable</td>
<td>int</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
<tr>
<td><code>volumeClaimTemplate</code></td>
<td>Describes the common attributes of storage devices and allows a Source for provider-specific attributes.</td>
<td>Not applicable</td>
<td>corev1.PersistentVolumeClaimSpec</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<h2 id="specmetadataenrichment"><code>.spec.metadataEnrichment</code><a class="headerlink" href="#specmetadataenrichment" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables MetadataEnrichment, <code>false</code> by default.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="specextensions_1"><code>.spec.extensions</code><a class="headerlink" href="#specextensions_1" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prometheus</code></td>
<td>Enables prometheus extension.</td>
<td>Not applicable</td>
<td></td>
</tr>
<tr>
<td><code>databases</code></td>
<td>List of database extensions.</td>
<td>Not applicable</td>
<td><a href="#extensions-databases">[]DatabaseSpec</a></td>
</tr>
</tbody>
</table>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="specextensionsdatabases"><code>.spec.extensions.databases</code><a class="headerlink" href="#specextensionsdatabases" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li>All parameters besides <code>id</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>Unique Kubernetes object name.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of SQL Extension Executor replicas.</td>
<td>1</td>
<td>int32</td>
</tr>
<tr>
<td><code>volumes</code></td>
<td>Volumes for file-based authentication.</td>
<td>Not applicable</td>
<td>[]Volume</td>
</tr>
<tr>
<td><code>volumeMounts</code></td>
<td>Volume mounts for file-based authentication.</td>
<td>Not applicable</td>
<td>[]VolumeMount</td>
</tr>
<tr>
<td><code>serviceAccountName</code></td>
<td>ServiceAccount for IAM-based authentication.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>SQL Extension Executor labels.</td>
<td>Not applicable</td>
<td>[]Label</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>SQL Extension Executor annotations.</td>
<td>Not applicable</td>
<td>[]Annotation</td>
</tr>
<tr>
<td><code>affinity</code></td>
<td>SQL Extension Executor affinities.</td>
<td>Not applicable</td>
<td>[]Affinity</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>SQL Extension Executor resources.</td>
<td>Not applicable</td>
<td>ResourcesSpec</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>SQL Extension Executor node selector.</td>
<td>Not applicable</td>
<td>NodeSelectorSpec</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>SQL Extension Executor topology spread constraints.</td>
<td>Not applicable</td>
<td>TopologySpreadConstraints</td>
</tr>
</tbody>
</table>
<p>On OpenShift, using volumes of type <code>hostPath</code> is prohibited by default SCC and will cause failures. If <code>hostPath</code> is required, create a role with sufficient privileges and bind it to the respective service account. In this example, the created role is bound to a service account named <code>custom-sql-extension-executor-sa</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-262-1" name="__codelineno-262-1" href="#__codelineno-262-1"></a>apiVersion: v1
<a id="__codelineno-262-2" name="__codelineno-262-2" href="#__codelineno-262-2"></a>
<a id="__codelineno-262-3" name="__codelineno-262-3" href="#__codelineno-262-3"></a>
<a id="__codelineno-262-4" name="__codelineno-262-4" href="#__codelineno-262-4"></a>
<a id="__codelineno-262-5" name="__codelineno-262-5" href="#__codelineno-262-5"></a>kind: ServiceAccount
<a id="__codelineno-262-6" name="__codelineno-262-6" href="#__codelineno-262-6"></a>
<a id="__codelineno-262-7" name="__codelineno-262-7" href="#__codelineno-262-7"></a>
<a id="__codelineno-262-8" name="__codelineno-262-8" href="#__codelineno-262-8"></a>
<a id="__codelineno-262-9" name="__codelineno-262-9" href="#__codelineno-262-9"></a>metadata:
<a id="__codelineno-262-10" name="__codelineno-262-10" href="#__codelineno-262-10"></a>
<a id="__codelineno-262-11" name="__codelineno-262-11" href="#__codelineno-262-11"></a>
<a id="__codelineno-262-12" name="__codelineno-262-12" href="#__codelineno-262-12"></a>
<a id="__codelineno-262-13" name="__codelineno-262-13" href="#__codelineno-262-13"></a>labels:
<a id="__codelineno-262-14" name="__codelineno-262-14" href="#__codelineno-262-14"></a>
<a id="__codelineno-262-15" name="__codelineno-262-15" href="#__codelineno-262-15"></a>
<a id="__codelineno-262-16" name="__codelineno-262-16" href="#__codelineno-262-16"></a>
<a id="__codelineno-262-17" name="__codelineno-262-17" href="#__codelineno-262-17"></a>app.kubernetes.io/component: dynatrace-sql-extension-executor
<a id="__codelineno-262-18" name="__codelineno-262-18" href="#__codelineno-262-18"></a>
<a id="__codelineno-262-19" name="__codelineno-262-19" href="#__codelineno-262-19"></a>
<a id="__codelineno-262-20" name="__codelineno-262-20" href="#__codelineno-262-20"></a>
<a id="__codelineno-262-21" name="__codelineno-262-21" href="#__codelineno-262-21"></a>app.kubernetes.io/name: dynatrace-operator
<a id="__codelineno-262-22" name="__codelineno-262-22" href="#__codelineno-262-22"></a>
<a id="__codelineno-262-23" name="__codelineno-262-23" href="#__codelineno-262-23"></a>
<a id="__codelineno-262-24" name="__codelineno-262-24" href="#__codelineno-262-24"></a>
<a id="__codelineno-262-25" name="__codelineno-262-25" href="#__codelineno-262-25"></a>name: custom-sql-extension-executor-sa
<a id="__codelineno-262-26" name="__codelineno-262-26" href="#__codelineno-262-26"></a>
<a id="__codelineno-262-27" name="__codelineno-262-27" href="#__codelineno-262-27"></a>
<a id="__codelineno-262-28" name="__codelineno-262-28" href="#__codelineno-262-28"></a>
<a id="__codelineno-262-29" name="__codelineno-262-29" href="#__codelineno-262-29"></a>namespace: dynatrace
<a id="__codelineno-262-30" name="__codelineno-262-30" href="#__codelineno-262-30"></a>
<a id="__codelineno-262-31" name="__codelineno-262-31" href="#__codelineno-262-31"></a>
<a id="__codelineno-262-32" name="__codelineno-262-32" href="#__codelineno-262-32"></a>
<a id="__codelineno-262-33" name="__codelineno-262-33" href="#__codelineno-262-33"></a>---
<a id="__codelineno-262-34" name="__codelineno-262-34" href="#__codelineno-262-34"></a>
<a id="__codelineno-262-35" name="__codelineno-262-35" href="#__codelineno-262-35"></a>
<a id="__codelineno-262-36" name="__codelineno-262-36" href="#__codelineno-262-36"></a>
<a id="__codelineno-262-37" name="__codelineno-262-37" href="#__codelineno-262-37"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-262-38" name="__codelineno-262-38" href="#__codelineno-262-38"></a>
<a id="__codelineno-262-39" name="__codelineno-262-39" href="#__codelineno-262-39"></a>
<a id="__codelineno-262-40" name="__codelineno-262-40" href="#__codelineno-262-40"></a>
<a id="__codelineno-262-41" name="__codelineno-262-41" href="#__codelineno-262-41"></a>kind: Role
<a id="__codelineno-262-42" name="__codelineno-262-42" href="#__codelineno-262-42"></a>
<a id="__codelineno-262-43" name="__codelineno-262-43" href="#__codelineno-262-43"></a>
<a id="__codelineno-262-44" name="__codelineno-262-44" href="#__codelineno-262-44"></a>
<a id="__codelineno-262-45" name="__codelineno-262-45" href="#__codelineno-262-45"></a>metadata:
<a id="__codelineno-262-46" name="__codelineno-262-46" href="#__codelineno-262-46"></a>
<a id="__codelineno-262-47" name="__codelineno-262-47" href="#__codelineno-262-47"></a>
<a id="__codelineno-262-48" name="__codelineno-262-48" href="#__codelineno-262-48"></a>
<a id="__codelineno-262-49" name="__codelineno-262-49" href="#__codelineno-262-49"></a>labels:
<a id="__codelineno-262-50" name="__codelineno-262-50" href="#__codelineno-262-50"></a>
<a id="__codelineno-262-51" name="__codelineno-262-51" href="#__codelineno-262-51"></a>
<a id="__codelineno-262-52" name="__codelineno-262-52" href="#__codelineno-262-52"></a>
<a id="__codelineno-262-53" name="__codelineno-262-53" href="#__codelineno-262-53"></a>app.kubernetes.io/component: dynatrace-sql-extension-executor
<a id="__codelineno-262-54" name="__codelineno-262-54" href="#__codelineno-262-54"></a>
<a id="__codelineno-262-55" name="__codelineno-262-55" href="#__codelineno-262-55"></a>
<a id="__codelineno-262-56" name="__codelineno-262-56" href="#__codelineno-262-56"></a>
<a id="__codelineno-262-57" name="__codelineno-262-57" href="#__codelineno-262-57"></a>app.kubernetes.io/name: dynatrace-operator
<a id="__codelineno-262-58" name="__codelineno-262-58" href="#__codelineno-262-58"></a>
<a id="__codelineno-262-59" name="__codelineno-262-59" href="#__codelineno-262-59"></a>
<a id="__codelineno-262-60" name="__codelineno-262-60" href="#__codelineno-262-60"></a>
<a id="__codelineno-262-61" name="__codelineno-262-61" href="#__codelineno-262-61"></a>name: custom-sql-extension-executor-role
<a id="__codelineno-262-62" name="__codelineno-262-62" href="#__codelineno-262-62"></a>
<a id="__codelineno-262-63" name="__codelineno-262-63" href="#__codelineno-262-63"></a>
<a id="__codelineno-262-64" name="__codelineno-262-64" href="#__codelineno-262-64"></a>
<a id="__codelineno-262-65" name="__codelineno-262-65" href="#__codelineno-262-65"></a>namespace: dynatrace
<a id="__codelineno-262-66" name="__codelineno-262-66" href="#__codelineno-262-66"></a>
<a id="__codelineno-262-67" name="__codelineno-262-67" href="#__codelineno-262-67"></a>
<a id="__codelineno-262-68" name="__codelineno-262-68" href="#__codelineno-262-68"></a>
<a id="__codelineno-262-69" name="__codelineno-262-69" href="#__codelineno-262-69"></a>rules:
<a id="__codelineno-262-70" name="__codelineno-262-70" href="#__codelineno-262-70"></a>
<a id="__codelineno-262-71" name="__codelineno-262-71" href="#__codelineno-262-71"></a>
<a id="__codelineno-262-72" name="__codelineno-262-72" href="#__codelineno-262-72"></a>
<a id="__codelineno-262-73" name="__codelineno-262-73" href="#__codelineno-262-73"></a>- apiGroups:
<a id="__codelineno-262-74" name="__codelineno-262-74" href="#__codelineno-262-74"></a>
<a id="__codelineno-262-75" name="__codelineno-262-75" href="#__codelineno-262-75"></a>
<a id="__codelineno-262-76" name="__codelineno-262-76" href="#__codelineno-262-76"></a>
<a id="__codelineno-262-77" name="__codelineno-262-77" href="#__codelineno-262-77"></a>- &quot;&quot;
<a id="__codelineno-262-78" name="__codelineno-262-78" href="#__codelineno-262-78"></a>
<a id="__codelineno-262-79" name="__codelineno-262-79" href="#__codelineno-262-79"></a>
<a id="__codelineno-262-80" name="__codelineno-262-80" href="#__codelineno-262-80"></a>
<a id="__codelineno-262-81" name="__codelineno-262-81" href="#__codelineno-262-81"></a>resources:
<a id="__codelineno-262-82" name="__codelineno-262-82" href="#__codelineno-262-82"></a>
<a id="__codelineno-262-83" name="__codelineno-262-83" href="#__codelineno-262-83"></a>
<a id="__codelineno-262-84" name="__codelineno-262-84" href="#__codelineno-262-84"></a>
<a id="__codelineno-262-85" name="__codelineno-262-85" href="#__codelineno-262-85"></a>- pods
<a id="__codelineno-262-86" name="__codelineno-262-86" href="#__codelineno-262-86"></a>
<a id="__codelineno-262-87" name="__codelineno-262-87" href="#__codelineno-262-87"></a>
<a id="__codelineno-262-88" name="__codelineno-262-88" href="#__codelineno-262-88"></a>
<a id="__codelineno-262-89" name="__codelineno-262-89" href="#__codelineno-262-89"></a>verbs:
<a id="__codelineno-262-90" name="__codelineno-262-90" href="#__codelineno-262-90"></a>
<a id="__codelineno-262-91" name="__codelineno-262-91" href="#__codelineno-262-91"></a>
<a id="__codelineno-262-92" name="__codelineno-262-92" href="#__codelineno-262-92"></a>
<a id="__codelineno-262-93" name="__codelineno-262-93" href="#__codelineno-262-93"></a>- list
<a id="__codelineno-262-94" name="__codelineno-262-94" href="#__codelineno-262-94"></a>
<a id="__codelineno-262-95" name="__codelineno-262-95" href="#__codelineno-262-95"></a>
<a id="__codelineno-262-96" name="__codelineno-262-96" href="#__codelineno-262-96"></a>
<a id="__codelineno-262-97" name="__codelineno-262-97" href="#__codelineno-262-97"></a>- apiGroups:
<a id="__codelineno-262-98" name="__codelineno-262-98" href="#__codelineno-262-98"></a>
<a id="__codelineno-262-99" name="__codelineno-262-99" href="#__codelineno-262-99"></a>
<a id="__codelineno-262-100" name="__codelineno-262-100" href="#__codelineno-262-100"></a>
<a id="__codelineno-262-101" name="__codelineno-262-101" href="#__codelineno-262-101"></a>- security.openshift.io
<a id="__codelineno-262-102" name="__codelineno-262-102" href="#__codelineno-262-102"></a>
<a id="__codelineno-262-103" name="__codelineno-262-103" href="#__codelineno-262-103"></a>
<a id="__codelineno-262-104" name="__codelineno-262-104" href="#__codelineno-262-104"></a>
<a id="__codelineno-262-105" name="__codelineno-262-105" href="#__codelineno-262-105"></a>resourceNames:
<a id="__codelineno-262-106" name="__codelineno-262-106" href="#__codelineno-262-106"></a>
<a id="__codelineno-262-107" name="__codelineno-262-107" href="#__codelineno-262-107"></a>
<a id="__codelineno-262-108" name="__codelineno-262-108" href="#__codelineno-262-108"></a>
<a id="__codelineno-262-109" name="__codelineno-262-109" href="#__codelineno-262-109"></a>- nonroot-v2
<a id="__codelineno-262-110" name="__codelineno-262-110" href="#__codelineno-262-110"></a>
<a id="__codelineno-262-111" name="__codelineno-262-111" href="#__codelineno-262-111"></a>
<a id="__codelineno-262-112" name="__codelineno-262-112" href="#__codelineno-262-112"></a>
<a id="__codelineno-262-113" name="__codelineno-262-113" href="#__codelineno-262-113"></a>resources:
<a id="__codelineno-262-114" name="__codelineno-262-114" href="#__codelineno-262-114"></a>
<a id="__codelineno-262-115" name="__codelineno-262-115" href="#__codelineno-262-115"></a>
<a id="__codelineno-262-116" name="__codelineno-262-116" href="#__codelineno-262-116"></a>
<a id="__codelineno-262-117" name="__codelineno-262-117" href="#__codelineno-262-117"></a>- securitycontextconstraints
<a id="__codelineno-262-118" name="__codelineno-262-118" href="#__codelineno-262-118"></a>
<a id="__codelineno-262-119" name="__codelineno-262-119" href="#__codelineno-262-119"></a>
<a id="__codelineno-262-120" name="__codelineno-262-120" href="#__codelineno-262-120"></a>
<a id="__codelineno-262-121" name="__codelineno-262-121" href="#__codelineno-262-121"></a>verbs:
<a id="__codelineno-262-122" name="__codelineno-262-122" href="#__codelineno-262-122"></a>
<a id="__codelineno-262-123" name="__codelineno-262-123" href="#__codelineno-262-123"></a>
<a id="__codelineno-262-124" name="__codelineno-262-124" href="#__codelineno-262-124"></a>
<a id="__codelineno-262-125" name="__codelineno-262-125" href="#__codelineno-262-125"></a>- use
<a id="__codelineno-262-126" name="__codelineno-262-126" href="#__codelineno-262-126"></a>
<a id="__codelineno-262-127" name="__codelineno-262-127" href="#__codelineno-262-127"></a>
<a id="__codelineno-262-128" name="__codelineno-262-128" href="#__codelineno-262-128"></a>
<a id="__codelineno-262-129" name="__codelineno-262-129" href="#__codelineno-262-129"></a>---
<a id="__codelineno-262-130" name="__codelineno-262-130" href="#__codelineno-262-130"></a>
<a id="__codelineno-262-131" name="__codelineno-262-131" href="#__codelineno-262-131"></a>
<a id="__codelineno-262-132" name="__codelineno-262-132" href="#__codelineno-262-132"></a>
<a id="__codelineno-262-133" name="__codelineno-262-133" href="#__codelineno-262-133"></a>kind: RoleBinding
<a id="__codelineno-262-134" name="__codelineno-262-134" href="#__codelineno-262-134"></a>
<a id="__codelineno-262-135" name="__codelineno-262-135" href="#__codelineno-262-135"></a>
<a id="__codelineno-262-136" name="__codelineno-262-136" href="#__codelineno-262-136"></a>
<a id="__codelineno-262-137" name="__codelineno-262-137" href="#__codelineno-262-137"></a>metadata:
<a id="__codelineno-262-138" name="__codelineno-262-138" href="#__codelineno-262-138"></a>
<a id="__codelineno-262-139" name="__codelineno-262-139" href="#__codelineno-262-139"></a>
<a id="__codelineno-262-140" name="__codelineno-262-140" href="#__codelineno-262-140"></a>
<a id="__codelineno-262-141" name="__codelineno-262-141" href="#__codelineno-262-141"></a>labels:
<a id="__codelineno-262-142" name="__codelineno-262-142" href="#__codelineno-262-142"></a>
<a id="__codelineno-262-143" name="__codelineno-262-143" href="#__codelineno-262-143"></a>
<a id="__codelineno-262-144" name="__codelineno-262-144" href="#__codelineno-262-144"></a>
<a id="__codelineno-262-145" name="__codelineno-262-145" href="#__codelineno-262-145"></a>app.kubernetes.io/component: dynatrace-sql-extension-executor
<a id="__codelineno-262-146" name="__codelineno-262-146" href="#__codelineno-262-146"></a>
<a id="__codelineno-262-147" name="__codelineno-262-147" href="#__codelineno-262-147"></a>
<a id="__codelineno-262-148" name="__codelineno-262-148" href="#__codelineno-262-148"></a>
<a id="__codelineno-262-149" name="__codelineno-262-149" href="#__codelineno-262-149"></a>app.kubernetes.io/name: dynatrace-operator
<a id="__codelineno-262-150" name="__codelineno-262-150" href="#__codelineno-262-150"></a>
<a id="__codelineno-262-151" name="__codelineno-262-151" href="#__codelineno-262-151"></a>
<a id="__codelineno-262-152" name="__codelineno-262-152" href="#__codelineno-262-152"></a>
<a id="__codelineno-262-153" name="__codelineno-262-153" href="#__codelineno-262-153"></a>name: custom-sql-extension-executor-rolebinding
<a id="__codelineno-262-154" name="__codelineno-262-154" href="#__codelineno-262-154"></a>
<a id="__codelineno-262-155" name="__codelineno-262-155" href="#__codelineno-262-155"></a>
<a id="__codelineno-262-156" name="__codelineno-262-156" href="#__codelineno-262-156"></a>
<a id="__codelineno-262-157" name="__codelineno-262-157" href="#__codelineno-262-157"></a>namespace: dynatrace
<a id="__codelineno-262-158" name="__codelineno-262-158" href="#__codelineno-262-158"></a>
<a id="__codelineno-262-159" name="__codelineno-262-159" href="#__codelineno-262-159"></a>
<a id="__codelineno-262-160" name="__codelineno-262-160" href="#__codelineno-262-160"></a>
<a id="__codelineno-262-161" name="__codelineno-262-161" href="#__codelineno-262-161"></a>roleRef:
<a id="__codelineno-262-162" name="__codelineno-262-162" href="#__codelineno-262-162"></a>
<a id="__codelineno-262-163" name="__codelineno-262-163" href="#__codelineno-262-163"></a>
<a id="__codelineno-262-164" name="__codelineno-262-164" href="#__codelineno-262-164"></a>
<a id="__codelineno-262-165" name="__codelineno-262-165" href="#__codelineno-262-165"></a>apiGroup: rbac.authorization.k8s.io
<a id="__codelineno-262-166" name="__codelineno-262-166" href="#__codelineno-262-166"></a>
<a id="__codelineno-262-167" name="__codelineno-262-167" href="#__codelineno-262-167"></a>
<a id="__codelineno-262-168" name="__codelineno-262-168" href="#__codelineno-262-168"></a>
<a id="__codelineno-262-169" name="__codelineno-262-169" href="#__codelineno-262-169"></a>kind: Role
<a id="__codelineno-262-170" name="__codelineno-262-170" href="#__codelineno-262-170"></a>
<a id="__codelineno-262-171" name="__codelineno-262-171" href="#__codelineno-262-171"></a>
<a id="__codelineno-262-172" name="__codelineno-262-172" href="#__codelineno-262-172"></a>
<a id="__codelineno-262-173" name="__codelineno-262-173" href="#__codelineno-262-173"></a>name: custom-sql-extension-executor-role
<a id="__codelineno-262-174" name="__codelineno-262-174" href="#__codelineno-262-174"></a>
<a id="__codelineno-262-175" name="__codelineno-262-175" href="#__codelineno-262-175"></a>
<a id="__codelineno-262-176" name="__codelineno-262-176" href="#__codelineno-262-176"></a>
<a id="__codelineno-262-177" name="__codelineno-262-177" href="#__codelineno-262-177"></a>subjects:
<a id="__codelineno-262-178" name="__codelineno-262-178" href="#__codelineno-262-178"></a>
<a id="__codelineno-262-179" name="__codelineno-262-179" href="#__codelineno-262-179"></a>
<a id="__codelineno-262-180" name="__codelineno-262-180" href="#__codelineno-262-180"></a>
<a id="__codelineno-262-181" name="__codelineno-262-181" href="#__codelineno-262-181"></a>- kind: ServiceAccount
<a id="__codelineno-262-182" name="__codelineno-262-182" href="#__codelineno-262-182"></a>
<a id="__codelineno-262-183" name="__codelineno-262-183" href="#__codelineno-262-183"></a>
<a id="__codelineno-262-184" name="__codelineno-262-184" href="#__codelineno-262-184"></a>
<a id="__codelineno-262-185" name="__codelineno-262-185" href="#__codelineno-262-185"></a>name: custom-sql-extension-executor-sa
<a id="__codelineno-262-186" name="__codelineno-262-186" href="#__codelineno-262-186"></a>
<a id="__codelineno-262-187" name="__codelineno-262-187" href="#__codelineno-262-187"></a>
<a id="__codelineno-262-188" name="__codelineno-262-188" href="#__codelineno-262-188"></a>
<a id="__codelineno-262-189" name="__codelineno-262-189" href="#__codelineno-262-189"></a>namespace: dynatrace
<a id="__codelineno-262-190" name="__codelineno-262-190" href="#__codelineno-262-190"></a>
<a id="__codelineno-262-191" name="__codelineno-262-191" href="#__codelineno-262-191"></a>
<a id="__codelineno-262-192" name="__codelineno-262-192" href="#__codelineno-262-192"></a>
<a id="__codelineno-262-193" name="__codelineno-262-193" href="#__codelineno-262-193"></a>---
<a id="__codelineno-262-194" name="__codelineno-262-194" href="#__codelineno-262-194"></a>
<a id="__codelineno-262-195" name="__codelineno-262-195" href="#__codelineno-262-195"></a>
<a id="__codelineno-262-196" name="__codelineno-262-196" href="#__codelineno-262-196"></a>
<a id="__codelineno-262-197" name="__codelineno-262-197" href="#__codelineno-262-197"></a>kind: Dynakube
<a id="__codelineno-262-198" name="__codelineno-262-198" href="#__codelineno-262-198"></a>
<a id="__codelineno-262-199" name="__codelineno-262-199" href="#__codelineno-262-199"></a>
<a id="__codelineno-262-200" name="__codelineno-262-200" href="#__codelineno-262-200"></a>
<a id="__codelineno-262-201" name="__codelineno-262-201" href="#__codelineno-262-201"></a>spec:
<a id="__codelineno-262-202" name="__codelineno-262-202" href="#__codelineno-262-202"></a>
<a id="__codelineno-262-203" name="__codelineno-262-203" href="#__codelineno-262-203"></a>
<a id="__codelineno-262-204" name="__codelineno-262-204" href="#__codelineno-262-204"></a>
<a id="__codelineno-262-205" name="__codelineno-262-205" href="#__codelineno-262-205"></a>extensions:
<a id="__codelineno-262-206" name="__codelineno-262-206" href="#__codelineno-262-206"></a>
<a id="__codelineno-262-207" name="__codelineno-262-207" href="#__codelineno-262-207"></a>
<a id="__codelineno-262-208" name="__codelineno-262-208" href="#__codelineno-262-208"></a>
<a id="__codelineno-262-209" name="__codelineno-262-209" href="#__codelineno-262-209"></a>databases:
<a id="__codelineno-262-210" name="__codelineno-262-210" href="#__codelineno-262-210"></a>
<a id="__codelineno-262-211" name="__codelineno-262-211" href="#__codelineno-262-211"></a>
<a id="__codelineno-262-212" name="__codelineno-262-212" href="#__codelineno-262-212"></a>
<a id="__codelineno-262-213" name="__codelineno-262-213" href="#__codelineno-262-213"></a>- id: my-sql-db
<a id="__codelineno-262-214" name="__codelineno-262-214" href="#__codelineno-262-214"></a>
<a id="__codelineno-262-215" name="__codelineno-262-215" href="#__codelineno-262-215"></a>
<a id="__codelineno-262-216" name="__codelineno-262-216" href="#__codelineno-262-216"></a>
<a id="__codelineno-262-217" name="__codelineno-262-217" href="#__codelineno-262-217"></a>serviceAccountName: custom-sql-extension-executor-sa
</code></pre></div>
<h2 id="speckspm"><code>.spec.kspm</code><a class="headerlink" href="#speckspm" title="Permanent link">&para;</a></h2>
<p>Adding this section enables <a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management (KSPM)</a>. To use KSPM</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.kspm</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mappedHostPaths</code></td>
<td>Specifies the host paths that are mounted to the NCC container.</td>
<td>Not applicable</td>
<td><a href="#kspm-mappedHostPaths">[]string</a></td>
</tr>
</tbody>
</table>
<h2 id="speclogmonitoring"><code>.spec.logMonitoring</code><a class="headerlink" href="#speclogmonitoring" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<p>To use Log Monitoring:</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code></li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.logMonitoring</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ingestRuleMatchers</code></td>
<td>Specifies the rules and conditions for matching ingest attributes.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-ingest-rule-matchers">[]IngestRuleMatchers</a></td>
</tr>
</tbody>
</table>
<h3 id="speclogmonitoringingestrulematchers"><code>.spec.logMonitoring.ingestRuleMatchers</code><a class="headerlink" href="#speclogmonitoringingestrulematchers" title="Permanent link">&para;</a></h3>
<p>This field is immutable. Once set, it will no longer be updated.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>attribute</code></td>
<td>Specifies the attribute name for matching ingest rules.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>values</code></td>
<td>Lists the values that the <code>attribute</code> must match for an ingest rule to apply.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h4 id="example">Example:<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-263-1" name="__codelineno-263-1" href="#__codelineno-263-1"></a>ingestRuleMatchers:
<a id="__codelineno-263-2" name="__codelineno-263-2" href="#__codelineno-263-2"></a>
<a id="__codelineno-263-3" name="__codelineno-263-3" href="#__codelineno-263-3"></a>
<a id="__codelineno-263-4" name="__codelineno-263-4" href="#__codelineno-263-4"></a>
<a id="__codelineno-263-5" name="__codelineno-263-5" href="#__codelineno-263-5"></a>- attribute: &quot;k8s.namespace.name&quot;
<a id="__codelineno-263-6" name="__codelineno-263-6" href="#__codelineno-263-6"></a>
<a id="__codelineno-263-7" name="__codelineno-263-7" href="#__codelineno-263-7"></a>
<a id="__codelineno-263-8" name="__codelineno-263-8" href="#__codelineno-263-8"></a>
<a id="__codelineno-263-9" name="__codelineno-263-9" href="#__codelineno-263-9"></a>values:
<a id="__codelineno-263-10" name="__codelineno-263-10" href="#__codelineno-263-10"></a>
<a id="__codelineno-263-11" name="__codelineno-263-11" href="#__codelineno-263-11"></a>
<a id="__codelineno-263-12" name="__codelineno-263-12" href="#__codelineno-263-12"></a>
<a id="__codelineno-263-13" name="__codelineno-263-13" href="#__codelineno-263-13"></a>- &quot;kube-system&quot;
<a id="__codelineno-263-14" name="__codelineno-263-14" href="#__codelineno-263-14"></a>
<a id="__codelineno-263-15" name="__codelineno-263-15" href="#__codelineno-263-15"></a>
<a id="__codelineno-263-16" name="__codelineno-263-16" href="#__codelineno-263-16"></a>
<a id="__codelineno-263-17" name="__codelineno-263-17" href="#__codelineno-263-17"></a>- &quot;dynatrace&quot;
<a id="__codelineno-263-18" name="__codelineno-263-18" href="#__codelineno-263-18"></a>
<a id="__codelineno-263-19" name="__codelineno-263-19" href="#__codelineno-263-19"></a>
<a id="__codelineno-263-20" name="__codelineno-263-20" href="#__codelineno-263-20"></a>
<a id="__codelineno-263-21" name="__codelineno-263-21" href="#__codelineno-263-21"></a>- &quot;default&quot;
<a id="__codelineno-263-22" name="__codelineno-263-22" href="#__codelineno-263-22"></a>
<a id="__codelineno-263-23" name="__codelineno-263-23" href="#__codelineno-263-23"></a>
<a id="__codelineno-263-24" name="__codelineno-263-24" href="#__codelineno-263-24"></a>
<a id="__codelineno-263-25" name="__codelineno-263-25" href="#__codelineno-263-25"></a>- attribute: &quot;k8s.pod.annotation&quot;
<a id="__codelineno-263-26" name="__codelineno-263-26" href="#__codelineno-263-26"></a>
<a id="__codelineno-263-27" name="__codelineno-263-27" href="#__codelineno-263-27"></a>
<a id="__codelineno-263-28" name="__codelineno-263-28" href="#__codelineno-263-28"></a>
<a id="__codelineno-263-29" name="__codelineno-263-29" href="#__codelineno-263-29"></a>values:
<a id="__codelineno-263-30" name="__codelineno-263-30" href="#__codelineno-263-30"></a>
<a id="__codelineno-263-31" name="__codelineno-263-31" href="#__codelineno-263-31"></a>
<a id="__codelineno-263-32" name="__codelineno-263-32" href="#__codelineno-263-32"></a>
<a id="__codelineno-263-33" name="__codelineno-263-33" href="#__codelineno-263-33"></a>- &quot;logs.dynatrace.com/ingest=true&quot;
<a id="__codelineno-263-34" name="__codelineno-263-34" href="#__codelineno-263-34"></a>
<a id="__codelineno-263-35" name="__codelineno-263-35" href="#__codelineno-263-35"></a>
<a id="__codelineno-263-36" name="__codelineno-263-36" href="#__codelineno-263-36"></a>
<a id="__codelineno-263-37" name="__codelineno-263-37" href="#__codelineno-263-37"></a>- &quot;category=security&quot;
</code></pre></div>
<h2 id="spectelemetryingest"><code>.spec.telemetryIngest</code><a class="headerlink" href="#spectelemetryingest" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<p>Enable additional <a href="/docs/ingest-from/setup-on-k8s/extend-observability-k8s/telemetry-ingest" title="Enable Dynatrace telemetry ingest endpoints in Kubernetes for cluster-local data ingest.">telemetry ingest endpoints</a> in Kubernetes for cluster-local data ingest using 3rd-party protocols. Adding this section deploys the Dynatrace Collector workload to the cluster.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>protocols</code></td>
<td>Specifies the protocols that will be ingested by the Dynatrace Collector.</td>
<td>"otlp, jaeger, statsd, zipkin"</td>
<td>[]string</td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td>Specifies the name of the service to be used. If not specified the serviceName is set to a default.</td>
<td>"<em>dynakube.name</em>-telemetry-ingest"</td>
<td>string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by telemetryIngest.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specotlpexporterconfiguration"><code>.spec.otlpExporterConfiguration</code><a class="headerlink" href="#specotlpexporterconfiguration" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.8.0+</p>
<p>Enable automatic <a href="/docs/ingest-from/setup-on-k8s/extend-observability-k8s/otlp-auto-config" title="Automatically configure the OTLP exporter in applications instrumented with OpenTelemetry SDKs using Dynatrace Operator.">OTLP exporter configuration</a> for application pods that are already instrumented with OpenTelemetry SDK.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signals</code></td>
<td>The OpenTelemetry signals that will be automatically ingested into Dynatrace.</td>
<td>Not applicable</td>
<td><a href="#otlp-exporter-signals">signalConfiguration</a></td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where OTLP exporter configuration will be injected. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides#annotate" title="Detailed description of installation and configuration options for specific use-cases">Configure monitoring for namespaces and pods</a></td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>overrideEnvVars</code></td>
<td>Enable overriding of existing configuration environment variables of the OTLP exporter.</td>
<td>false</td>
<td>boolean</td>
</tr>
</tbody>
</table>
<h2 id="specotlpexporterconfigurationsignals"><code>.spec.otlpExporterConfiguration.signals</code><a class="headerlink" href="#specotlpexporterconfigurationsignals" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.8.0+</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>logs</code></td>
<td>Enables the automatic OTLP exporter configuration for logs. See <a href="https://opentelemetry.io/docs/specs/otel/protocol/exporter/#endpoint-urls-for-otlphttp">endpoint urls for otlphttp√Ø¬ª¬ø</a>.</td>
<td>-</td>
<td>object</td>
</tr>
<tr>
<td><code>metrics</code></td>
<td>Enables the automatic OTLP exporter configuration for metrics. See <a href="https://opentelemetry.io/docs/specs/otel/protocol/exporter/#endpoint-urls-for-otlphttp">endpoint urls for otlphttp√Ø¬ª¬ø</a>.</td>
<td>-</td>
<td>object</td>
</tr>
<tr>
<td><code>traces</code></td>
<td>Enables the automatic OTLP exporter configuration for traces. See <a href="https://opentelemetry.io/docs/specs/otel/protocol/exporter/#endpoint-urls-for-otlphttp">endpoint urls for otlphttp√Ø¬ª¬ø</a></td>
<td>-</td>
<td>object</td>
</tr>
</tbody>
</table>
<h2 id="spectemplates"><code>.spec.templates</code><a class="headerlink" href="#spectemplates" title="Permanent link">&para;</a></h2>
<h2 id="spectemplateskspmnodeconfigurationcollector"><code>.spec.templates.kspmNodeConfigurationCollector</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollector" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateStrategy</code></td>
<td>Define the Node Configuration Collector daemonSet updateStrategy</td>
<td>Not applicable</td>
<td>DaemonSetUpdateStrategy</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the Node Configuration Collector pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the Node Configuration Collector pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the Node Configuration Collector pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td><a href="#kspm-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>If specified, indicates the Pod's priority. Name must be defined by creating a PriorityClass object wiht that name. If not specified the setting will be removed from the DaemonSet.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>nodeAffinity</code></td>
<td>Define the nodeAffinity for the DaemonSet of the Node Configuration Collector</td>
<td>Not applicable</td>
<td>NodeAffinity</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the Node Configuration Collector pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateskspmnodeconfigurationcollectorimageref"><code>.spec.templates.kspmNodeConfigurationCollector.imageRef</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollectorimageref" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoring"><code>.spec.templates.logMonitoring</code><a class="headerlink" href="#spectemplateslogmonitoring" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the LogMonitoring pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image for the LogMonitoring pods.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for LogMonitoring pods.</td>
<td><code>ClusterFirst</code></td>
<td>string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the LogMonitoring pods. By default, no class is set.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>Configures a SecComp profile to enable secure computing mode for the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for LogMonitoring's main and init-container.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the LogMonitoring pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the LogMonitoring main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoringimageref"><code>.spec.templates.logMonitoring.imageRef</code><a class="headerlink" href="#spectemplateslogmonitoringimageref" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontroller"><code>.spec.templates.extensionExecutionController</code><a class="headerlink" href="#spectemplatesextensionexecutioncontroller" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Extension Execution Controller. This field is mandatory.</td>
<td>Not applicable</td>
<td><a href="#extension-controller-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>persistentVolumeClaim</code></td>
<td>PVC for the Extension Execution Controller. If not specified, a default PVC is used.</td>
<td>Not applicable</td>
<td>PersistentVolumeClaim</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate for communication between Extension Execution Controller and Dynatrace Collector.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customConfig</code></td>
<td>ConfigMap holding a custom Extension Execution Controller configuration.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customExtensionCertificates</code></td>
<td>Secret holding certificates that have been used to sign custom extensions. Needed for extensions signature validation by Extension Execution Controller.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Extension Execution Controller pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontrollerimageref"><code>.spec.templates.extensionExecutionController.imageRef</code><a class="headerlink" href="#spectemplatesextensionexecutioncontrollerimageref" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollector"><code>.spec.templates.otelCollector</code><a class="headerlink" href="#spectemplatesotelcollector" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Dynatrace Collector.</td>
<td>Not applicable</td>
<td><a href="#extensions-collector-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of Dynatrace Collector replicas.</td>
<td>1</td>
<td>int32</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by Dynatrace Collector to verify connections to endpoints of other components.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Dynatrace Collector pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollectorimageref"><code>.spec.templates.otelCollector.imageRef</code><a class="headerlink" href="#spectemplatesotelcollectorimageref" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Dynatrace Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Dynatrace Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatessqlextensionexecutor"><code>.spec.templates.sqlExtensionExecutor</code><a class="headerlink" href="#spectemplatessqlextensionexecutor" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for SQL Extension Executor.</td>
<td>Not applicable</td>
<td><a href="#extensions-sql-extension-executor-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for SQL Extension Executor pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatessqlextensionexecutorimageref"><code>.spec.templates.sqlExtensionExecutor.imageRef</code><a class="headerlink" href="#spectemplatessqlextensionexecutorimageref" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of SQL Extension Executor image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for SQL Extension Executor image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<p>Dynatrace Operator version 1.6.0+</p>
<h2 id="spec_1"><code>.spec</code><a class="headerlink" href="#spec_1" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required and immutable. Once set, it cannot be modified in an existing DynaKube.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a></td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>dynatraceApiRequestThreshold</code></td>
<td>Minimum minutes between Dynatrace API requests.</td>
<td>15</td>
<td>integer</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>-</td>
<td>DynaKubeProxy</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens used for connecting to Dynatrace.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. The key to the data must be <code>certs</code>. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>-</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent_1"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack_1"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack_1"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring_1"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>-</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring_1"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate_1"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate_1" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-3-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-3-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>terminationGracePeriodSeconds</code></td>
<td>Configures the terminationGracePeriodSeconds parameter of the ActiveGate pod. Kubernetes defaults and rules apply.</td>
<td>Not applicable</td>
<td>int</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
<tr>
<td><code>volumeClaimTemplate</code></td>
<td>Describes the common attributes of storage devices and allows a Source for provider-specific attributes.</td>
<td>Not applicable</td>
<td>corev1.PersistentVolumeClaimSpec</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<h2 id="specmetadataenrichment_1"><code>.spec.metadataEnrichment</code><a class="headerlink" href="#specmetadataenrichment_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables MetadataEnrichment, <code>false</code> by default.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="specextensions_2"><code>.spec.extensions</code><a class="headerlink" href="#specextensions_2" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<p>Adding this section enables extension support in Kubernetes. To use extensions</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="speckspm_1"><code>.spec.kspm</code><a class="headerlink" href="#speckspm_1" title="Permanent link">&para;</a></h2>
<p>Adding this section enables <a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management (KSPM)</a>. To use KSPM</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.kspm</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mappedHostPaths</code></td>
<td>Specifies the host paths that are mounted to the NCC container.</td>
<td>Not applicable</td>
<td><a href="#kspm-mappedHostPaths">[]string</a></td>
</tr>
</tbody>
</table>
<h2 id="speclogmonitoring_1"><code>.spec.logMonitoring</code><a class="headerlink" href="#speclogmonitoring_1" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<p>To use Log Monitoring</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code></li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.logMonitoring</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ingestRuleMatchers</code></td>
<td>Specifies the rules and conditions for matching ingest attributes.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-ingest-rule-matchers">[]IngestRuleMatchers</a></td>
</tr>
</tbody>
</table>
<h3 id="speclogmonitoringingestrulematchers_1"><code>.spec.logMonitoring.ingestRuleMatchers</code><a class="headerlink" href="#speclogmonitoringingestrulematchers_1" title="Permanent link">&para;</a></h3>
<p>This field is immutable. Once set, it will no longer be updated.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>attribute</code></td>
<td>Specifies the attribute name for matching ingest rules.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>values</code></td>
<td>Lists the values that the <code>attribute</code> must match for an ingest rule to apply.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h4 id="example_1">Example:<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-264-1" name="__codelineno-264-1" href="#__codelineno-264-1"></a>ingestRuleMatchers:
<a id="__codelineno-264-2" name="__codelineno-264-2" href="#__codelineno-264-2"></a>
<a id="__codelineno-264-3" name="__codelineno-264-3" href="#__codelineno-264-3"></a>
<a id="__codelineno-264-4" name="__codelineno-264-4" href="#__codelineno-264-4"></a>
<a id="__codelineno-264-5" name="__codelineno-264-5" href="#__codelineno-264-5"></a>- attribute: &quot;k8s.namespace.name&quot;
<a id="__codelineno-264-6" name="__codelineno-264-6" href="#__codelineno-264-6"></a>
<a id="__codelineno-264-7" name="__codelineno-264-7" href="#__codelineno-264-7"></a>
<a id="__codelineno-264-8" name="__codelineno-264-8" href="#__codelineno-264-8"></a>
<a id="__codelineno-264-9" name="__codelineno-264-9" href="#__codelineno-264-9"></a>values:
<a id="__codelineno-264-10" name="__codelineno-264-10" href="#__codelineno-264-10"></a>
<a id="__codelineno-264-11" name="__codelineno-264-11" href="#__codelineno-264-11"></a>
<a id="__codelineno-264-12" name="__codelineno-264-12" href="#__codelineno-264-12"></a>
<a id="__codelineno-264-13" name="__codelineno-264-13" href="#__codelineno-264-13"></a>- &quot;kube-system&quot;
<a id="__codelineno-264-14" name="__codelineno-264-14" href="#__codelineno-264-14"></a>
<a id="__codelineno-264-15" name="__codelineno-264-15" href="#__codelineno-264-15"></a>
<a id="__codelineno-264-16" name="__codelineno-264-16" href="#__codelineno-264-16"></a>
<a id="__codelineno-264-17" name="__codelineno-264-17" href="#__codelineno-264-17"></a>- &quot;dynatrace&quot;
<a id="__codelineno-264-18" name="__codelineno-264-18" href="#__codelineno-264-18"></a>
<a id="__codelineno-264-19" name="__codelineno-264-19" href="#__codelineno-264-19"></a>
<a id="__codelineno-264-20" name="__codelineno-264-20" href="#__codelineno-264-20"></a>
<a id="__codelineno-264-21" name="__codelineno-264-21" href="#__codelineno-264-21"></a>- &quot;default&quot;
<a id="__codelineno-264-22" name="__codelineno-264-22" href="#__codelineno-264-22"></a>
<a id="__codelineno-264-23" name="__codelineno-264-23" href="#__codelineno-264-23"></a>
<a id="__codelineno-264-24" name="__codelineno-264-24" href="#__codelineno-264-24"></a>
<a id="__codelineno-264-25" name="__codelineno-264-25" href="#__codelineno-264-25"></a>- attribute: &quot;k8s.pod.annotation&quot;
<a id="__codelineno-264-26" name="__codelineno-264-26" href="#__codelineno-264-26"></a>
<a id="__codelineno-264-27" name="__codelineno-264-27" href="#__codelineno-264-27"></a>
<a id="__codelineno-264-28" name="__codelineno-264-28" href="#__codelineno-264-28"></a>
<a id="__codelineno-264-29" name="__codelineno-264-29" href="#__codelineno-264-29"></a>values:
<a id="__codelineno-264-30" name="__codelineno-264-30" href="#__codelineno-264-30"></a>
<a id="__codelineno-264-31" name="__codelineno-264-31" href="#__codelineno-264-31"></a>
<a id="__codelineno-264-32" name="__codelineno-264-32" href="#__codelineno-264-32"></a>
<a id="__codelineno-264-33" name="__codelineno-264-33" href="#__codelineno-264-33"></a>- &quot;logs.dynatrace.com/ingest=true&quot;
<a id="__codelineno-264-34" name="__codelineno-264-34" href="#__codelineno-264-34"></a>
<a id="__codelineno-264-35" name="__codelineno-264-35" href="#__codelineno-264-35"></a>
<a id="__codelineno-264-36" name="__codelineno-264-36" href="#__codelineno-264-36"></a>
<a id="__codelineno-264-37" name="__codelineno-264-37" href="#__codelineno-264-37"></a>- &quot;category=security&quot;
</code></pre></div>
<h2 id="spectelemetryingest_1"><code>.spec.telemetryIngest</code><a class="headerlink" href="#spectelemetryingest_1" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<p>Enable Dynatrace <a href="/docs/ingest-from/setup-on-k8s/extend-observability-k8s/telemetry-ingest" title="Enable Dynatrace telemetry ingest endpoints in Kubernetes for cluster-local data ingest.">telemetry endpoints</a> in Kubernetes for cluster-local data ingest. Adding this section deploys the Dynatrace Collector by Dynatrace Operator.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>protocols</code></td>
<td>Specifies the protocols that will be ingested by the Dynatrace Collector.</td>
<td>"otlp, jaeger, statsd, zipkin"</td>
<td>[]string</td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td>Specifies the name of the service to be used. If not specified the serviceName is set to a default.</td>
<td>"<em>dynakube.name</em>-telemetry-ingest"</td>
<td>string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by telemetryIngest.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplates_1"><code>.spec.templates</code><a class="headerlink" href="#spectemplates_1" title="Permanent link">&para;</a></h2>
<h2 id="spectemplateskspmnodeconfigurationcollector_1"><code>.spec.templates.kspmNodeConfigurationCollector</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollector_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateStrategy</code></td>
<td>Define the Node Configuration Collector daemonSet updateStrategy</td>
<td>Not applicable</td>
<td>DaemonSetUpdateStrategy</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the Node Configuration Collector pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the Node Configuration Collector pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the Node Configuration Collector pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td><a href="#kspm-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>If specified, indicates the Pod's priority. Name must be defined by creating a PriorityClass object wiht that name. If not specified the setting will be removed from the DaemonSet.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>nodeAffinity</code></td>
<td>Define the nodeAffinity for the DaemonSet of the Node Configuration Collector</td>
<td>Not applicable</td>
<td>NodeAffinity</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the Node Configuration Collector pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateskspmnodeconfigurationcollectorimageref_1"><code>.spec.templates.kspmNodeConfigurationCollector.imageRef</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollectorimageref_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoring_1"><code>.spec.templates.logMonitoring</code><a class="headerlink" href="#spectemplateslogmonitoring_1" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the LogMonitoring pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image for the LogMonitoring pods.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for LogMonitoring pods.</td>
<td><code>ClusterFirst</code></td>
<td>string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the LogMonitoring pods. By default, no class is set.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>Configures a SecComp profile to enable secure computing mode for the LogMonitoring pods.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for LogMonitoring's main and init-container.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the LogMonitoring pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the LogMonitoring main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoringimageref_1"><code>.spec.templates.logMonitoring.imageRef</code><a class="headerlink" href="#spectemplateslogmonitoringimageref_1" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontroller_1"><code>.spec.templates.extensionExecutionController</code><a class="headerlink" href="#spectemplatesextensionexecutioncontroller_1" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Extension Execution Controller. This field is mandatory.</td>
<td>Not applicable</td>
<td><a href="#extension-controller-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>persistentVolumeClaim</code></td>
<td>PVC for the Extension Execution Controller. If not specified, a default PVC is used.</td>
<td>Not applicable</td>
<td>PersistentVolumeClaim</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate for communication between Extension Execution Controller and Dynatrace Collector.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customConfig</code></td>
<td>ConfigMap holding a custom Extension Execution Controller configuration.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customExtensionCertificates</code></td>
<td>Secret holding certificates that have been used to sign custom extensions. Needed for extensions signature validation by Extension Execution Controller.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Extension Execution Controller pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Extension Execution Controller pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontrollerimageref_1"><code>.spec.templates.extensionExecutionController.imageRef</code><a class="headerlink" href="#spectemplatesextensionexecutioncontrollerimageref_1" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollector_1"><code>.spec.templates.otelCollector</code><a class="headerlink" href="#spectemplatesotelcollector_1" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Dynatrace Collector.</td>
<td>Not applicable</td>
<td><a href="#extensions-collector-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of Dynatrace Collector replicas.</td>
<td>1</td>
<td>int32</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by Dynatrace Collector to verify connections to endpoints of other components.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Dynatrace Collector pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Dynatrace Collector pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollectorimageref_1"><code>.spec.templates.otelCollector.imageRef</code><a class="headerlink" href="#spectemplatesotelcollectorimageref_1" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Dynatrace Collector image.</td>
<td><code>public.ecr.aws/dynatrace/dynatrace-otel-collector</code></td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Dynatrace Collector image.</td>
<td><code>latest</code></td>
<td>string</td>
</tr>
</tbody>
</table>
<p>Dynatrace Operator version 1.5.0+</p>
<h2 id="spec_2"><code>.spec</code><a class="headerlink" href="#spec_2" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required and immutable. Once set, it cannot be modified in an existing DynaKube.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a></td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>dynatraceApiRequestThreshold</code></td>
<td>Minimum minutes between Dynatrace API requests.</td>
<td>15</td>
<td>integer</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>-</td>
<td>DynaKubeProxy</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens used for connecting to Dynatrace.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. The key to the data must be <code>certs</code>. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>-</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent_2"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent_2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack_2"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack_2" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://github.com/Dynatrace/dynatrace-operator/tree/v1.5.0/assets/samples/dynakube">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated Pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack_2"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack_2" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring_2"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring_2" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>-</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring_2"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring_2" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>storageHostPath</code></td>
<td>Writeable directory on the host filesystem where OneAgent configurations will be stored.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate_2"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate_2" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-4-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-4-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>terminationGracePeriodSeconds</code></td>
<td>Configures the terminationGracePeriodSeconds parameter of the ActiveGate pod. Kubernetes defaults and rules apply.</td>
<td>Not applicable</td>
<td>int</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
<tr>
<td><code>persistentVolumeClaim</code></td>
<td>Describes the common attributes of storage devices and allows a Source for provider-specific attributes.</td>
<td>Not applicable</td>
<td>corev1.PersistentVolumeClaimSpec</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<h2 id="specmetadataenrichment_2"><code>.spec.metadataEnrichment</code><a class="headerlink" href="#specmetadataenrichment_2" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables MetadataEnrichment, <code>false</code> by default.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="specextensions_3"><code>.spec.extensions</code><a class="headerlink" href="#specextensions_3" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<p>Adding this section enables extension support in Kubernetes. To use extensions</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="speckspm_2"><code>.spec.kspm</code><a class="headerlink" href="#speckspm_2" title="Permanent link">&para;</a></h2>
<p>Adding this section enables <a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management (KSPM)</a>. To use KSPM</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="speclogmonitoring_2"><code>.spec.logMonitoring</code><a class="headerlink" href="#speclogmonitoring_2" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<p>To use Log Monitoring</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code></li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.logMonitoring</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ingestRuleMatchers</code></td>
<td>Specifies the rules and conditions for matching ingest attributes.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-ingest-rule-matchers">[]IngestRuleMatchers</a></td>
</tr>
</tbody>
</table>
<h3 id="speclogmonitoringingestrulematchers_2"><code>.spec.logMonitoring.ingestRuleMatchers</code><a class="headerlink" href="#speclogmonitoringingestrulematchers_2" title="Permanent link">&para;</a></h3>
<p>This field is immutable. Once set, it will no longer be updated.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>attribute</code></td>
<td>Specifies the attribute name for matching ingest rules.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>values</code></td>
<td>Lists the values that the <code>attribute</code> must match for an ingest rule to apply.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h4 id="example_2">Example:<a class="headerlink" href="#example_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-265-1" name="__codelineno-265-1" href="#__codelineno-265-1"></a>ingestRuleMatchers:
<a id="__codelineno-265-2" name="__codelineno-265-2" href="#__codelineno-265-2"></a>
<a id="__codelineno-265-3" name="__codelineno-265-3" href="#__codelineno-265-3"></a>
<a id="__codelineno-265-4" name="__codelineno-265-4" href="#__codelineno-265-4"></a>
<a id="__codelineno-265-5" name="__codelineno-265-5" href="#__codelineno-265-5"></a>- attribute: &quot;k8s.namespace.name&quot;
<a id="__codelineno-265-6" name="__codelineno-265-6" href="#__codelineno-265-6"></a>
<a id="__codelineno-265-7" name="__codelineno-265-7" href="#__codelineno-265-7"></a>
<a id="__codelineno-265-8" name="__codelineno-265-8" href="#__codelineno-265-8"></a>
<a id="__codelineno-265-9" name="__codelineno-265-9" href="#__codelineno-265-9"></a>values:
<a id="__codelineno-265-10" name="__codelineno-265-10" href="#__codelineno-265-10"></a>
<a id="__codelineno-265-11" name="__codelineno-265-11" href="#__codelineno-265-11"></a>
<a id="__codelineno-265-12" name="__codelineno-265-12" href="#__codelineno-265-12"></a>
<a id="__codelineno-265-13" name="__codelineno-265-13" href="#__codelineno-265-13"></a>- &quot;kube-system&quot;
<a id="__codelineno-265-14" name="__codelineno-265-14" href="#__codelineno-265-14"></a>
<a id="__codelineno-265-15" name="__codelineno-265-15" href="#__codelineno-265-15"></a>
<a id="__codelineno-265-16" name="__codelineno-265-16" href="#__codelineno-265-16"></a>
<a id="__codelineno-265-17" name="__codelineno-265-17" href="#__codelineno-265-17"></a>- &quot;dynatrace&quot;
<a id="__codelineno-265-18" name="__codelineno-265-18" href="#__codelineno-265-18"></a>
<a id="__codelineno-265-19" name="__codelineno-265-19" href="#__codelineno-265-19"></a>
<a id="__codelineno-265-20" name="__codelineno-265-20" href="#__codelineno-265-20"></a>
<a id="__codelineno-265-21" name="__codelineno-265-21" href="#__codelineno-265-21"></a>- &quot;default&quot;
<a id="__codelineno-265-22" name="__codelineno-265-22" href="#__codelineno-265-22"></a>
<a id="__codelineno-265-23" name="__codelineno-265-23" href="#__codelineno-265-23"></a>
<a id="__codelineno-265-24" name="__codelineno-265-24" href="#__codelineno-265-24"></a>
<a id="__codelineno-265-25" name="__codelineno-265-25" href="#__codelineno-265-25"></a>- attribute: &quot;k8s.pod.annotation&quot;
<a id="__codelineno-265-26" name="__codelineno-265-26" href="#__codelineno-265-26"></a>
<a id="__codelineno-265-27" name="__codelineno-265-27" href="#__codelineno-265-27"></a>
<a id="__codelineno-265-28" name="__codelineno-265-28" href="#__codelineno-265-28"></a>
<a id="__codelineno-265-29" name="__codelineno-265-29" href="#__codelineno-265-29"></a>values:
<a id="__codelineno-265-30" name="__codelineno-265-30" href="#__codelineno-265-30"></a>
<a id="__codelineno-265-31" name="__codelineno-265-31" href="#__codelineno-265-31"></a>
<a id="__codelineno-265-32" name="__codelineno-265-32" href="#__codelineno-265-32"></a>
<a id="__codelineno-265-33" name="__codelineno-265-33" href="#__codelineno-265-33"></a>- &quot;logs.dynatrace.com/ingest=true&quot;
<a id="__codelineno-265-34" name="__codelineno-265-34" href="#__codelineno-265-34"></a>
<a id="__codelineno-265-35" name="__codelineno-265-35" href="#__codelineno-265-35"></a>
<a id="__codelineno-265-36" name="__codelineno-265-36" href="#__codelineno-265-36"></a>
<a id="__codelineno-265-37" name="__codelineno-265-37" href="#__codelineno-265-37"></a>- &quot;category=security&quot;
</code></pre></div>
<h2 id="spectelemetryingest_2"><code>.spec.telemetryIngest</code><a class="headerlink" href="#spectelemetryingest_2" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<p>Adding this section deploys the Dynatrace Collector by the Operator.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>protocols</code></td>
<td>Specifies the protocols that will be ingested by the Dynatrace Collector.</td>
<td>"otlp, jaeger, statsd, zipkin"</td>
<td>[]string</td>
</tr>
<tr>
<td><code>serviceName</code></td>
<td>Specifies the name of the service to be used. If not specified the serviceName is set to a default.</td>
<td>"<em>dynakube.name</em>-telemetry-ingest"</td>
<td>string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by telemetryIngest.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplates_2"><code>.spec.templates</code><a class="headerlink" href="#spectemplates_2" title="Permanent link">&para;</a></h2>
<h2 id="spectemplateskspmnodeconfigurationcollector_2"><code>.spec.templates.kspmNodeConfigurationCollector</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollector_2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateStrategy</code></td>
<td>Define the Node Configuration Collector daemonSet updateStrategy</td>
<td>Not applicable</td>
<td>DaemonSetUpdateStrategy</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the Node Configuration Collector Pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td><a href="#kspm-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>If specified, indicates the Pod's priority. Name must be defined by creating a PriorityClass object wiht that name. If not specified the setting will be removed from the DaemonSet.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>nodeAffinity</code></td>
<td>Define the nodeAffinity for the DaemonSet of the Node Configuration Collector</td>
<td>Not applicable</td>
<td>NodeAffinity</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the Node Configuration Collector Pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateskspmnodeconfigurationcollectorimageref_2"><code>.spec.templates.kspmNodeConfigurationCollector.imageRef</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollectorimageref_2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoring_2"><code>.spec.templates.logMonitoring</code><a class="headerlink" href="#spectemplateslogmonitoring_2" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the LogMonitoring Pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image for the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for LogMonitoring Pods.</td>
<td><code>ClusterFirst</code></td>
<td>string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the LogMonitoring Pods. By default, no class is set.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>Configures a SecComp profile to enable secure computing mode for the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for LogMonitoring's main and init-container.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the LogMonitoring Pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the LogMonitoring main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoringimageref_2"><code>.spec.templates.logMonitoring.imageRef</code><a class="headerlink" href="#spectemplateslogmonitoringimageref_2" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontroller_2"><code>.spec.templates.extensionExecutionController</code><a class="headerlink" href="#spectemplatesextensionexecutioncontroller_2" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Extension Execution Controller. This field is mandatory.</td>
<td>Not applicable</td>
<td><a href="#extension-controller-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>persistentVolumeClaim</code></td>
<td>PVC for the Extension Execution Controller. If not specified a default PVC is used.</td>
<td>Not applicable</td>
<td>PersistentVolumeClaim</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Lables applied to Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate for communication between Extension Execution Controller and Dynatrace Collector.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customConfig</code></td>
<td>ConfigMap holding a custom Extension Execution Controller configuration.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customExtensionCertificates</code></td>
<td>Secret holding certificates that have been used to sign custom extensions. Needed for extensions signature validation by Extension Execution Controller.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Extension Execution Controller Pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>useEphemeralVolume</code></td>
<td>Indicates whether to use ephemeral volume for storage.</td>
<td>Not applicable</td>
<td>boolean</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontrollerimageref_2"><code>.spec.templates.extensionExecutionController.imageRef</code><a class="headerlink" href="#spectemplatesextensionexecutioncontrollerimageref_2" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollector_2"><code>.spec.templates.otelCollector</code><a class="headerlink" href="#spectemplatesotelcollector_2" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Dynatrace Collector.</td>
<td>Not applicable</td>
<td><a href="#extensions-collector-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of Dynatrace Collector replicas.</td>
<td>1</td>
<td>int32</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by Dynatrace Collector to verify connections to endpoints of other components.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Dynatrace Collector Pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollectorimageref_2"><code>.spec.templates.otelCollector.imageRef</code><a class="headerlink" href="#spectemplatesotelcollectorimageref_2" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 1.6.0+</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Dynatrace Collector image.</td>
<td><code>public.ecr.aws/dynatrace/dynatrace-otel-collector</code></td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Dynatrace Collector image.</td>
<td><code>latest</code></td>
<td>string</td>
</tr>
</tbody>
</table>
<p>Dynatrace Operator version 1.4.0+</p>
<h2 id="spec_3"><code>.spec</code><a class="headerlink" href="#spec_3" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required and immutable. Once set, it cannot be modified on an existing DynaKube.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a></td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>dynatraceApiRequestThreshold</code></td>
<td>Minimum minutes between Dynatrace API requests.</td>
<td>15</td>
<td>integer</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>-</td>
<td>DynaKubeProxy</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens used for connecting to Dynatrace.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. The key to the data must be <code>certs</code>. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>-</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent_3"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent_3" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack_3"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack_3" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated Pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack_3"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack_3" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring_3"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring_3" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>-</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring_3"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring_3" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate_3"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate_3" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-5-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-5-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<h2 id="specmetadataenrichment_3"><code>.spec.metadataEnrichment</code><a class="headerlink" href="#specmetadataenrichment_3" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables MetadataEnrichment, <code>false</code> by default.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="specextensions_4"><code>.spec.extensions</code><a class="headerlink" href="#specextensions_4" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<p>Adding this section enables extension support in Kubernetes. To use extensions</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="speckspm_3"><code>.spec.kspm</code><a class="headerlink" href="#speckspm_3" title="Permanent link">&para;</a></h2>
<p>Adding this section enables <a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management (KSPM)</a>. To use KSPM</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code> and</li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
</ul>
<h2 id="speclogmonitoring_3"><code>.spec.logMonitoring</code><a class="headerlink" href="#speclogmonitoring_3" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<p>To use Log Monitoring</p>
<ul>
<li><code>kubernetes-monitoring</code> is mandatory and has to be added to the <a href="#active-gate">list of ActiveGate capabilities</a> in <code>.spec.activeGate.capabilities</code></li>
<li>The feature flag <code>feature.dynatrace.com/automatic-kubernetes-api-monitoring</code> must not be set to <code>false</code>.</li>
<li>All parameters in <code>.spec.logMonitoring</code> are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ingestRuleMatchers</code></td>
<td>Specifies the rules and conditions for matching ingest attributes.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-ingest-rule-matchers">[]IngestRuleMatchers</a></td>
</tr>
</tbody>
</table>
<h3 id="speclogmonitoringingestrulematchers_3"><code>.spec.logMonitoring.ingestRuleMatchers</code><a class="headerlink" href="#speclogmonitoringingestrulematchers_3" title="Permanent link">&para;</a></h3>
<p>This field is immutable. Once set, it will no longer be updated.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>attribute</code></td>
<td>Specifies the attribute name for matching ingest rules.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>values</code></td>
<td>Lists the values that the <code>attribute</code> must match for an ingest rule to apply.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h4 id="example_3">Example:<a class="headerlink" href="#example_3" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-266-1" name="__codelineno-266-1" href="#__codelineno-266-1"></a>ingestRuleMatchers:
<a id="__codelineno-266-2" name="__codelineno-266-2" href="#__codelineno-266-2"></a>
<a id="__codelineno-266-3" name="__codelineno-266-3" href="#__codelineno-266-3"></a>
<a id="__codelineno-266-4" name="__codelineno-266-4" href="#__codelineno-266-4"></a>
<a id="__codelineno-266-5" name="__codelineno-266-5" href="#__codelineno-266-5"></a>- attribute: &quot;k8s.namespace.name&quot;
<a id="__codelineno-266-6" name="__codelineno-266-6" href="#__codelineno-266-6"></a>
<a id="__codelineno-266-7" name="__codelineno-266-7" href="#__codelineno-266-7"></a>
<a id="__codelineno-266-8" name="__codelineno-266-8" href="#__codelineno-266-8"></a>
<a id="__codelineno-266-9" name="__codelineno-266-9" href="#__codelineno-266-9"></a>values:
<a id="__codelineno-266-10" name="__codelineno-266-10" href="#__codelineno-266-10"></a>
<a id="__codelineno-266-11" name="__codelineno-266-11" href="#__codelineno-266-11"></a>
<a id="__codelineno-266-12" name="__codelineno-266-12" href="#__codelineno-266-12"></a>
<a id="__codelineno-266-13" name="__codelineno-266-13" href="#__codelineno-266-13"></a>- &quot;kube-system&quot;
<a id="__codelineno-266-14" name="__codelineno-266-14" href="#__codelineno-266-14"></a>
<a id="__codelineno-266-15" name="__codelineno-266-15" href="#__codelineno-266-15"></a>
<a id="__codelineno-266-16" name="__codelineno-266-16" href="#__codelineno-266-16"></a>
<a id="__codelineno-266-17" name="__codelineno-266-17" href="#__codelineno-266-17"></a>- &quot;dynatrace&quot;
<a id="__codelineno-266-18" name="__codelineno-266-18" href="#__codelineno-266-18"></a>
<a id="__codelineno-266-19" name="__codelineno-266-19" href="#__codelineno-266-19"></a>
<a id="__codelineno-266-20" name="__codelineno-266-20" href="#__codelineno-266-20"></a>
<a id="__codelineno-266-21" name="__codelineno-266-21" href="#__codelineno-266-21"></a>- &quot;default&quot;
<a id="__codelineno-266-22" name="__codelineno-266-22" href="#__codelineno-266-22"></a>
<a id="__codelineno-266-23" name="__codelineno-266-23" href="#__codelineno-266-23"></a>
<a id="__codelineno-266-24" name="__codelineno-266-24" href="#__codelineno-266-24"></a>
<a id="__codelineno-266-25" name="__codelineno-266-25" href="#__codelineno-266-25"></a>- attribute: &quot;k8s.pod.annotation&quot;
<a id="__codelineno-266-26" name="__codelineno-266-26" href="#__codelineno-266-26"></a>
<a id="__codelineno-266-27" name="__codelineno-266-27" href="#__codelineno-266-27"></a>
<a id="__codelineno-266-28" name="__codelineno-266-28" href="#__codelineno-266-28"></a>
<a id="__codelineno-266-29" name="__codelineno-266-29" href="#__codelineno-266-29"></a>values:
<a id="__codelineno-266-30" name="__codelineno-266-30" href="#__codelineno-266-30"></a>
<a id="__codelineno-266-31" name="__codelineno-266-31" href="#__codelineno-266-31"></a>
<a id="__codelineno-266-32" name="__codelineno-266-32" href="#__codelineno-266-32"></a>
<a id="__codelineno-266-33" name="__codelineno-266-33" href="#__codelineno-266-33"></a>- &quot;logs.dynatrace.com/ingest=true&quot;
<a id="__codelineno-266-34" name="__codelineno-266-34" href="#__codelineno-266-34"></a>
<a id="__codelineno-266-35" name="__codelineno-266-35" href="#__codelineno-266-35"></a>
<a id="__codelineno-266-36" name="__codelineno-266-36" href="#__codelineno-266-36"></a>
<a id="__codelineno-266-37" name="__codelineno-266-37" href="#__codelineno-266-37"></a>- &quot;category=security&quot;
</code></pre></div>
<h2 id="spectemplates_3"><code>.spec.templates</code><a class="headerlink" href="#spectemplates_3" title="Permanent link">&para;</a></h2>
<h2 id="spectemplateskspmnodeconfigurationcollector_3"><code>.spec.templates.kspmNodeConfigurationCollector</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollector_3" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateStrategy</code></td>
<td>Define the Node Configuration Collector daemonSet updateStrategy</td>
<td>Not applicable</td>
<td>DaemonSetUpdateStrategy</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the Node Configuration Collector Pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td><a href="#kspm-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>If specified, indicates the Pod's priority. Name must be defined by creating a PriorityClass object wiht that name. If not specified the setting will be removed from the DaemonSet.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for Node Configuration Collector Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>nodeAffinity</code></td>
<td>Define the nodeAffinity for the DaemonSet of the Node Configuration Collector</td>
<td>Not applicable</td>
<td>NodeAffinity</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the Node Configuration Collector Pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the Node Configuration Collector main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateskspmnodeconfigurationcollectorimageref_3"><code>.spec.templates.kspmNodeConfigurationCollector.imageRef</code><a class="headerlink" href="#spectemplateskspmnodeconfigurationcollectorimageref_3" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>repository</td>
<td>URL of Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td>tag</td>
<td>Tag for Node Configuration Collector image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoring_3"><code>.spec.templates.logMonitoring</code><a class="headerlink" href="#spectemplateslogmonitoring_3" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom annotations to the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Add custom labels to the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes the LogMonitoring Pods will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image for the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td><a href="#log-monitoring-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for LogMonitoring Pods.</td>
<td><code>ClusterFirst</code></td>
<td>string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the LogMonitoring Pods. By default, no class is set.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>Configures a SecComp profile to enable secure computing mode for the LogMonitoring Pods.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Define resource requests and limits for LogMonitoring's main and init-container.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>nodeAffinity</code></td>
<td>Define the nodeAffinity for the DaemonSet of the NodeConfigurationCollector</td>
<td>Not applicable</td>
<td>corev1.NodeAffinity</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the LogMonitoring Pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments for the LogMonitoring main container.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>updateStrategy</code></td>
<td>Define the NodeConfigurationCollector daemonSet updateStrategy.</td>
<td>Not applicable</td>
<td>appsv1.DaemonSetUpdateStrategy</td>
</tr>
</tbody>
</table>
<h2 id="spectemplateslogmonitoringimageref_3"><code>.spec.templates.logMonitoring.imageRef</code><a class="headerlink" href="#spectemplateslogmonitoringimageref_3" title="Permanent link">&para;</a></h2>
<p>Available with Dynatrace version 1.306 and OneAgent 1.305</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for LogMonitoring image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontroller_3"><code>.spec.templates.extensionExecutionController</code><a class="headerlink" href="#spectemplatesextensionexecutioncontroller_3" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li><code>imageRef</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Extension Execution Controller. This field is mandatory.</td>
<td>Not applicable</td>
<td><a href="#extension-controller-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>persistentVolumeClaim</code></td>
<td>PVC for the Extension Execution Controller. If not specified a default PVC is used.</td>
<td>Not applicable</td>
<td>PersistentVolumeClaim</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Lables applied to Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate for communication between Extension Execution Controller and Dynatrace Collector.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customConfig</code></td>
<td>ConfigMap holding a custom Extension Execution Controller configuration.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customExtensionCertificates</code></td>
<td>Secret holding certificates that have been used to sign custom extensions. Needed for extensions signature validation by Extension Execution Controller.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Extension Execution Controller Pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Extension Execution Controller Pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesextensionexecutioncontrollerimageref_3"><code>.spec.templates.extensionExecutionController.imageRef</code><a class="headerlink" href="#spectemplatesextensionexecutioncontrollerimageref_3" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Extension Execution Controller image.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollector_3"><code>.spec.templates.otelCollector</code><a class="headerlink" href="#spectemplatesotelcollector_3" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageRef</code></td>
<td>Image that is used for Dynatrace Collector.</td>
<td>Not applicable</td>
<td><a href="#extensions-collector-image-ref">imageRef</a></td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of Dynatrace Collector replicas.</td>
<td>1</td>
<td>int32</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Labels applied to Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Annotations applied to Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>tlsRefName</code></td>
<td>Secret containing a TLS certificate used by Dynatrace Collector to verify connections to endpoints of other components.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations for Dynatrace Collector Pod. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Topology spread constraints for Dynatrace Collector Pod.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<h2 id="spectemplatesotelcollectorimageref_3"><code>.spec.templates.otelCollector.imageRef</code><a class="headerlink" href="#spectemplatesotelcollectorimageref_3" title="Permanent link">&para;</a></h2>
<p>Available with a future Dynatrace version.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>URL of Dynatrace Collector image.</td>
<td><code>public.ecr.aws/dynatrace/dynatrace-otel-collector</code></td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Tag for Dynatrace Collector image.</td>
<td><code>latest</code></td>
<td>string</td>
</tr>
</tbody>
</table>
<p>Dynatrace Operator version 1.2.0 - 1.6.0</p>
<p>Deprecation notice</p>
<p>DynaKube API version <code>v1beta2</code> is no longer available with Dynatrace Operator version 1.7.0+.</p>
<h2 id="spec_4"><code>.spec</code><a class="headerlink" href="#spec_4" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a></td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>dynatraceApiRequestThreshold</code></td>
<td>Minimum minutes between Dynatrace API requests.</td>
<td>15</td>
<td>integer</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>-</td>
<td>DynaKubeProxy</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td>-</td>
<td>boolean</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens used for connecting to Dynatrace.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. The key to the data must be <code>certs</code>. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>-</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent_4"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent_4" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack_4"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack_4" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated Pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack_4"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack_4" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring_4"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring_4" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>-</td>
<td>LabelSelector</td>
</tr>
<tr>
<td><code>useCSIDriver</code></td>
<td>Set if you want to use the CSIDriver. Don't enable it if you do not have access to Kubernetes nodes or if you lack privileges.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring_4"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring_4" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>secCompProfile</code></td>
<td>The SecComp Profile that will be configured in order to run in secure computing mode.</td>
<td>-</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate_4"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate_4" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-6-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-6-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<h2 id="specmetadataenrichment_4"><code>.spec.metadataEnrichment</code><a class="headerlink" href="#specmetadataenrichment_4" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/metadata-enrichment" title="Metadata enrichment in the Dynatrace Operator adds context to Kubernetes pods by attaching relevant metadata to entities like pods, hosts, and processes for better observability.">Configure enrichment directory</a> for additional information</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables MetadataEnrichment, <code>true</code> by default.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
</tbody>
</table>
<p>DynaKube API version <code>v1beta1</code> is no longer available with Dynatrace Operator version 1.6.0+.
| <code>namespaceSelector</code> | The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>. | <img alt="Not applicable" src="https://dt-cdn.net/images/icon-red-cross-1f1142a5dc.svg" title="Not applicable" /> | LabelSelector |</p>
<p>Dynatrace Operator version &lt;=1.6.0</p>
<p>Deprecation notice</p>
<p>DynaKube API version <code>v1beta1</code> is no longer available with Dynatrace Operator version 1.7.0+.</p>
<h2 id="spec_5"><code>.spec</code><a class="headerlink" href="#spec_5" title="Permanent link">&para;</a></h2>
<ul>
<li><code>apiUrl</code> parameter is Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiUrl</code></td>
<td>Dynatrace <code>apiUrl</code>, including the <code>/api</code> path at the end. - For SaaS, set <code>YOUR_ENVIRONMENT_ID</code> to your environment ID. - For Managed, change the <code>apiUrl</code> address. For instructions on how to determine the environment ID and how to configure the apiUrl address, see <a href="/docs/discover-dynatrace/get-started/monitoring-environment" title="Understand and learn how to work with monitoring environments.">Environment ID</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td>Name of the secret holding the tokens.</td>
<td>Name of custom resource (<code>.metadata.name</code>) if unset</td>
<td>string</td>
</tr>
<tr>
<td><code>skipCertCheck</code></td>
<td>Disable certificate check for the connection between Dynatrace Operator and the Dynatrace Cluster. Set to <code>true</code> if you want to skip certification validation checks.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td>Set custom proxy settings either directly or from a secret with the field <code>proxy</code>. Applies to Dynatrace Operator, ActiveGate, and OneAgents.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>trustedCAs</code></td>
<td>Adds custom RootCAs from a configmap. Put the certificate under <code>certs</code> within your configmap. This applies to Dynatrace Operator, OneAgent, and ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>networkZone</code></td>
<td>Sets a network zone for the OneAgent and ActiveGate Pods.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Defines a custom pull secret in case you use a private registry when pulling images from the Dynatrace environment. Note: For the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull" title="Configure node image pull">node image pull feature</a> without the CSI driver, you must manually ensure that pull secrets are available on the injected pod. See <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/node-image-pull#prerequisites" title="Configure node image pull">node image pull prerequisites</a> for more details. To define a custom pull secret and learn about the expected behavior, see <a href="/docs/ingest-from/setup-on-k8s/guides/container-registries/use-private-registry#create-pull-secret" title="Use a private registry">Configure <code>customPullSecret</code></a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>enableIstio</code></td>
<td>When enabled, and if Istio is installed on the Kubernetes environment, Dynatrace Operator will create the corresponding VirtualService and ServiceEntry objects to allow access to the Dynatrace Cluster from the OneAgent or ActiveGate. Disabled by default.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>Applicable only for <code>applicationMonitoring</code> or <code>cloudNativeFullStack</code> configuration types. The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="speconeagent_5"><code>.spec.oneAgent</code><a class="headerlink" href="#speconeagent_5" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentcloudnativefullstack_5"><code>.spec.oneAgent.cloudNativeFullStack</code><a class="headerlink" href="#speconeagentcloudnativefullstack_5" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<p>Recommended</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used for host monitoring OneAgents running in the dedicated Pod. This setting doesn't affect the OneAgent version used for application monitoring.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentclassicfullstack_5"><code>.spec.oneAgent.classicFullStack</code><a class="headerlink" href="#speconeagentclassicfullstack_5" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image. Defaults to the image from the Dynatrace cluster.</td>
<td>Name of the image.</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
</tbody>
</table>
<h2 id="speconeagentapplicationmonitoring_5"><code>.spec.oneAgent.applicationMonitoring</code><a class="headerlink" href="#speconeagentapplicationmonitoring_5" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeModulesImage</code></td>
<td>The OneAgent image that is used to inject into Pods</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
<tr>
<td><code>useCSIDriver</code></td>
<td>Set if you want to use the CSI driver. Don't enable it if you do not have access to Kubernetes nodes or if you lack privileges.</td>
<td><code>false</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>initResources</code></td>
<td>Define resources requests and limits for the initContainer. For details, see <a href="https://dt-url.net/atc371q">Managing resources for containers√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>hostGroup</code></td>
<td>Specify the name of the group to which you want to assign the host. This method is preferred over the now obsolete <code>--set-host-group</code> argument. If both settings are used, this field takes precedence over the <code>--set-host-group</code> argument.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>namespaceSelector</code></td>
<td>The namespaces where you want Dynatrace Operator to inject. For more information, see <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/monitoring-and-instrumentation/annotate" title="Configure monitoring for namespaces and pods">Configure monitoring for namespaces and Pods</a>.</td>
<td>Not applicable</td>
<td>LabelSelector</td>
</tr>
</tbody>
</table>
<h2 id="speconeagenthostmonitoring_5"><code>.spec.oneAgent.hostMonitoring</code><a class="headerlink" href="#speconeagenthostmonitoring_5" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>version</code></td>
<td>The OneAgent version to be used.</td>
<td>The latest version is used by default.</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom OneAgent Docker image.</td>
<td>The image from the Dynatrace cluster.</td>
<td>string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes OneAgent will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the OneAgent Pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Tolerations to include with the OneAgent DaemonSet. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>oneAgentResources</code></td>
<td>Resource settings for OneAgent container. Consumption of the OneAgent heavily depends on the workload to monitor. You can use the default settings in the <a href="https://dt-url.net/dynakube-samples">CR√Ø¬ª¬ø</a>. <code>resource.requests</code> shows the values needed to run; <code>resource.limits</code> shows the maximum limits for the Pod.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>autoUpdate</code> (<strong>deprecated</strong>)</td>
<td>Deprecated field to be removed in a future release. <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/updates-and-maintenance/auto-update-components#configure-oneagent-auto-update" title="Configure auto-updates for components managed by Dynatrace Operator (OneAgent, ActiveGate, and EdgeConnect).">Pin the OneAgent version on your tenant to configure auto-update</a>. Auto-update is disabled when the <code>version</code> or <code>image</code> fields are set.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS Policy for OneAgent Pods. For details, see <a href="https://dt-url.net/2t2375a">Pods DNS Policy√Ø¬ª¬ø</a>.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom OneAgent annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for OneAgent Pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the OneAgent Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>args</code></td>
<td>Set additional arguments to the OneAgent installer. For available options, see <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/customize-oneagent-installation-on-linux" title="Learn how to use the Linux installer with command line parameters.">Linux custom installation</a>. For the list of limitations, see <a href="/docs/ingest-from/setup-on-container-platforms/docker/set-up-dynatrace-oneagent-as-docker-container#limitations" title="Install and update Dynatrace OneAgent as a Docker container.">Limitations</a>.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
</tbody>
</table>
<h2 id="specactivegate_5"><code>.spec.activeGate</code><a class="headerlink" href="#specactivegate_5" title="Permanent link">&para;</a></h2>
<ul>
<li><code>capabilities</code> parameter is Required.</li>
<li><code>resources</code> and <code>group</code> parameters are Recommended.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>capabilities</code></td>
<td>Defines the ActiveGate pod capabilities: what functionality should be enabled. Possible values: - <code>routing</code> enables OneAgent routing. - <code>kubernetes-monitoring</code> enables Kubernetes API monitoring. - <code>metrics-ingest</code><a href="#fn-7-1-def">1</a> opens the metrics ingest endpoint on the DynaKube ActiveGate and redirects all pods to it. - <code>dynatrace-api</code><a href="#fn-7-1-def">1</a> enables calling the Dynatrace API via ActiveGate. - <code>debugging</code> enables the <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#debugging" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Live Debugging module</a> in ActiveGate.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Use a custom ActiveGate image. Defaults to the latest ActiveGate image from the Dynatrace cluster.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas of ActiveGate pods.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Set tolerations for the ActiveGate pods. For details, see <a href="https://dt-url.net/od03765">Taints and Tolerations√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Specify the node selector that controls on which nodes ActiveGate will be deployed.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Resource settings for ActiveGate container. Consumption of the ActiveGate heavily depends on the workload to monitor; adjust values accordingly.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Your defined labels for ActiveGate pods in order to structure workloads as desired.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Set additional environment variables for the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>group</code></td>
<td>Set activation group for ActiveGate. See <a href="/docs/ingest-from/dynatrace-activegate/configuration/configure-activegate#collect" title="Learn which ActiveGate properties you can configure based on your needs and requirements.">Customize ActiveGate properties</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>customProperties</code></td>
<td>Add a custom properties file by providing it as a value or by referencing it from a secret. When referencing a custom properties file from a secret, make sure that the key is named <code>customProperties</code>. See <a href="/docs/ingest-from/setup-on-k8s/guides/metadata-automation/custom-properties-file" title="Add a custom properties file">How to add a custom properties file</a> for details.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>tlsSecretName</code></td>
<td>Name of a secret containing ActiveGate TLS certificate, key, and password. If not set, a self-signed certificate is used. For details, see <a href="/docs/ingest-from/setup-on-k8s/guides/networking-security-compliance/network-configurations#tls-certificate" title="Configure Dynatrace in network-restricted environments, network-related settings and proxy configurations.">How to add a custom certificate for ActiveGate</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>dnsPolicy</code></td>
<td>Set the DNS policy for ActiveGate pods.</td>
<td><code>ClusterFirstWithHostNet</code></td>
<td>string</td>
</tr>
<tr>
<td><code>priorityClassName</code></td>
<td>Assign a priority class to the ActiveGate pods. By default, no class is set. For details, see <a href="https://dt-url.net/n8437bl">Pod Priority and Preemption√Ø¬ª¬ø</a>.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Add custom ActiveGate annotations.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Adds <a href="https://dt-url.net/xc03ysw">topology spread constraints√Ø¬ª¬ø</a> to the ActiveGate pods.</td>
<td>Not applicable</td>
<td>[]corev1.TopologySpreadConstraint</td>
</tr>
</tbody>
</table>
<p>1</p>
<p>A custom certificate is required for this capability. See the <code>tlsSecretName</code> parameter for details.</p>
<hr />
<h2 id="source-edgeconnect-parametersmd">Source: edgeconnect-parameters.md<a class="headerlink" href="#source-edgeconnect-parametersmd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: EdgeConnect parameters for Dynatrace Operator
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/edgeconnect-parameters
scraped: 2026-02-16T21:28:34.864329</p>
<hr />
<h1 id="edgeconnect-parameters-for-dynatrace-operator">EdgeConnect parameters for Dynatrace Operator<a class="headerlink" href="#edgeconnect-parameters-for-dynatrace-operator" title="Permanent link">&para;</a></h1>
<h1 id="edgeconnect-parameters-for-dynatrace-operator_1">EdgeConnect parameters for Dynatrace Operator<a class="headerlink" href="#edgeconnect-parameters-for-dynatrace-operator_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>7-min read</li>
<li>Updated on Dec 22, 2025</li>
</ul>
<p><a href="/docs/ingest-from/edgeconnect" title="Use EdgeConnect to control how your apps and workflows interact with your internal systems.">EdgeConnect</a> enables Dynatrace apps and workflows to interact securely with your systems. EdgeConnect is available as a Docker container and can run in any container runtime environment. This reference guide provides detailed information on how to configure the EdgeConnect <a href="https://dt-url.net/b60397m">custom resource√Ø¬ª¬ø</a> within your Kubernetes environment.</p>
<p>The following table lists the minimum required Dynatrace Operator versions for each EdgeConnect API version.</p>
<table>
<thead>
<tr>
<th>DynaKube API version</th>
<th>Minimum Dynatrace Operator version</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>v1alpha2</code></td>
<td>1.3.0+</td>
</tr>
<tr>
<td><code>v1alpha1</code></td>
<td>All versions</td>
</tr>
</tbody>
</table>
<p>v1alpha1</p>
<p>v1alpha2</p>
<h2 id="spec_6"><code>.spec</code><a class="headerlink" href="#spec_6" title="Permanent link">&para;</a></h2>
<ul>
<li>The <code>apiServer</code> and <code>oauth</code> parameters are Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiServer</code></td>
<td>Location of the hostname of the Dynatrace API to connect to, including your specific environment UUID. Example: <code>ENVIRONMENT_ID.live.dynatrace.com</code></td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Adds annotations to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string] string</td>
</tr>
<tr>
<td><code>autoUpdate</code></td>
<td>Enables automatic restarts of EdgeConnect Pods when a new version becomes available.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Pull secret for your private registry.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Adds environment variables to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>hostRestrictions</code></td>
<td>Restricts outgoing HTTP requests from your internal resources to specified hosts. Comma-separated list.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td>Object</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Adds labels to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Node selector to control the selection of nodes for the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oauth</code></td>
<td>EdgeConnect uses the OAuth client to authenticate itself with the Dynatrace platform.</td>
<td>Not applicable</td>
<td>Object</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas for your EdgeConnect.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Defines resource requests and limits for single Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Specifies tolerations for your EdgeConnect.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Sets topology spread constraints for the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>[]TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>hostPatterns</code></td>
<td>Specifies a list of host patterns for requests to be managed by the EdgeConnect instance. This field mandatory and only used when <code>.spec.oauth.provisioner</code> is set to <code>true</code>.</td>
<td>empty</td>
<td>[]string</td>
</tr>
<tr>
<td><code>caCertsRef</code></td>
<td>Adds custom root certificate from a ConfigMap. Ensure the certificate is located under the <code>certs</code> directory within your ConfigMap.</td>
<td>empty</td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specoauth"><code>.spec.oauth</code><a class="headerlink" href="#specoauth" title="Permanent link">&para;</a></h2>
<ul>
<li><code>resource</code>, <code>endpoint</code>, <code>clientSecret</code> parameters are Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clientSecret</code></td>
<td>Name of the secret containing the OAuth client ID/secret.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>Token endpoint URL of Dynatrace SSO.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resource</code></td>
<td>URN identifying your account. The URN is provided when creating the OAuth client.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>provisioner</code></td>
<td>Enables EdgeConnect provisioning. This requires the <code>.spec.hostPatterns</code> field to be configured.</td>
<td><code>false</code></td>
<td>bool</td>
</tr>
</tbody>
</table>
<h2 id="specimageref"><code>.spec.imageRef</code><a class="headerlink" href="#specimageref" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>Custom EdgeConnect image repository.</td>
<td><code>docker.io/dynatrace/edgeconnect</code></td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Specifies version of the EdgeConnect image to use.</td>
<td><code>latest</code></td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specproxy"><code>.spec.proxy</code><a class="headerlink" href="#specproxy" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>authRef</code></td>
<td>Secret name containing the username and password used for authentication with the proxy, using the basic HTTP authentication scheme.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>host</code></td>
<td>Server address (hostname or IP address) of the proxy.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>noProxy</code></td>
<td>Represents the <code>NO_PROXY</code> or <code>no_proxy</code> environment variable. It specifies a string containing comma-separated values specifying hosts that should be excluded from proxying.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>port</code></td>
<td>Port of the proxy.</td>
<td>empty</td>
<td>integer</td>
</tr>
</tbody>
</table>
<h2 id="spec_7"><code>.spec</code><a class="headerlink" href="#spec_7" title="Permanent link">&para;</a></h2>
<ul>
<li>The <code>apiServer</code> and <code>oauth</code> parameters are Required.</li>
<li>All other parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiServer</code></td>
<td>Location of the hostname of the Dynatrace API to connect to, including your specific environment UUID. Example: <code>ENVIRONMENT_ID.live.dynatrace.com</code></td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>annotations</code></td>
<td>Adds annotations to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string] string</td>
</tr>
<tr>
<td><code>autoUpdate</code></td>
<td>Enables automatic restarts of EdgeConnect Pods when a new version becomes available.</td>
<td><code>true</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code>customPullSecret</code></td>
<td>Pull secret for your private registry.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>env</code></td>
<td>Adds environment variables to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>[]EnvVar</td>
</tr>
<tr>
<td><code>hostRestrictions</code></td>
<td>Restricts outgoing HTTP requests from your internal resources to specified hosts.</td>
<td>Not applicable</td>
<td>[]string</td>
</tr>
<tr>
<td><code>imageRef</code></td>
<td>Overrides the default image.</td>
<td>Not applicable</td>
<td>Object</td>
</tr>
<tr>
<td><code>labels</code></td>
<td>Adds labels to the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>nodeSelector</code></td>
<td>Node selector to control the selection of nodes for the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>map[string]string</td>
</tr>
<tr>
<td><code>oauth</code></td>
<td>EdgeConnect uses the OAuth client to authenticate itself with the Dynatrace platform.</td>
<td>Not applicable</td>
<td>Object</td>
</tr>
<tr>
<td><code>replicas</code></td>
<td>Number of replicas for your EdgeConnect.</td>
<td>1</td>
<td>int</td>
</tr>
<tr>
<td><code>resources</code></td>
<td>Defines resource requests and limits for single Pods.</td>
<td>Not applicable</td>
<td>ResourceRequirements</td>
</tr>
<tr>
<td><code>tolerations</code></td>
<td>Specifies tolerations for your EdgeConnect.</td>
<td>Not applicable</td>
<td>[]Toleration</td>
</tr>
<tr>
<td><code>topologySpreadConstraints</code></td>
<td>Sets topology spread constraints for the EdgeConnect Pods.</td>
<td>Not applicable</td>
<td>[]TopologySpreadConstraint</td>
</tr>
<tr>
<td><code>hostPatterns</code></td>
<td>Specifies a list of host patterns for requests to be managed by the EdgeConnect instance. This field mandatory and only used when <code>.spec.oauth.provisioner</code> is set to <code>true</code>.</td>
<td>empty</td>
<td>[]string</td>
</tr>
<tr>
<td><code>caCertsRef</code></td>
<td>Adds custom root certificate from a ConfigMap. Ensure the certificate is located under the <code>certs</code> directory within your ConfigMap.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>serviceAccountName</code></td>
<td>Name of Kubernetes <code>ServiceAccount</code> that allows EdgeConnect to access the Kubernetes API.</td>
<td><code>dynatrace-edgeconnect</code></td>
<td>string</td>
</tr>
<tr>
<td><code>kubernetesAutomation</code></td>
<td>Configures Kubernetes Automation.</td>
<td>Not applicable</td>
<td>Object</td>
</tr>
</tbody>
</table>
<h2 id="specoauth_1"><code>.spec.oauth</code><a class="headerlink" href="#specoauth_1" title="Permanent link">&para;</a></h2>
<ul>
<li><code>resource</code>, <code>endpoint</code>, <code>clientSecret</code> parameters are Required.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clientSecret</code></td>
<td>Name of the secret containing the OAuth client ID/secret.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>Token endpoint URL of Dynatrace SSO.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>resource</code></td>
<td>URN identifying your account. The URN is provided when creating the OAuth client.</td>
<td>Not applicable</td>
<td>string</td>
</tr>
<tr>
<td><code>provisioner</code></td>
<td>Enables EdgeConnect provisioning. This requires the <code>.spec.hostPatterns</code> field to be configured.</td>
<td><code>false</code></td>
<td>bool</td>
</tr>
</tbody>
</table>
<h2 id="specimageref_1"><code>.spec.imageRef</code><a class="headerlink" href="#specimageref_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>repository</code></td>
<td>Custom EdgeConnect image repository.</td>
<td><code>docker.io/dynatrace/edgeconnect</code></td>
<td>string</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>Specifies version of the EdgeConnect image to use.</td>
<td><code>latest</code></td>
<td>string</td>
</tr>
</tbody>
</table>
<h2 id="specproxy_1"><code>.spec.proxy</code><a class="headerlink" href="#specproxy_1" title="Permanent link">&para;</a></h2>
<ul>
<li>All parameters are Optional.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>authRef</code></td>
<td>Secret name containing the username and password used for authentication with the proxy, using the basic HTTP authentication scheme.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>host</code></td>
<td>Server address (hostname or IP address) of the proxy.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>noProxy</code></td>
<td>Represents the <code>NO_PROXY</code> or <code>no_proxy</code> environment variable. It specifies a string containing comma-separated values specifying hosts that should be excluded from proxying.</td>
<td>empty</td>
<td>string</td>
</tr>
<tr>
<td><code>port</code></td>
<td>Port of the proxy.</td>
<td>empty</td>
<td>integer</td>
</tr>
</tbody>
</table>
<h2 id="speckubernetesapiautomation"><code>.spec.kubernetesApiAutomation</code><a class="headerlink" href="#speckubernetesapiautomation" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
<th><strong>Default value</strong></th>
<th><strong>Data type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enabled</code></td>
<td>Enables Kubernetes Automation.</td>
<td><code>false</code></td>
<td>bool</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="source-securitymd">Source: security.md<a class="headerlink" href="#source-securitymd" title="Permanent link">&para;</a></h2>
<hr />
<p>title: Dynatrace Operator security
source: https://www.dynatrace.com/docs/ingest-from/setup-on-k8s/reference/security
scraped: 2026-02-17T05:01:51.341533</p>
<hr />
<h1 id="dynatrace-operator-security">Dynatrace Operator security<a class="headerlink" href="#dynatrace-operator-security" title="Permanent link">&para;</a></h1>
<h1 id="dynatrace-operator-security_1">Dynatrace Operator security<a class="headerlink" href="#dynatrace-operator-security_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Latest Dynatrace</li>
<li>16-min read</li>
<li>Updated on Jan 16, 2026</li>
</ul>
<p>Kubernetes observability relies on components with different purposes, default configurations, and permissions. These different components need permissions to perform and maintain operational function of Dynatrace within your cluster.</p>
<p>While Dynatrace permissions adhere to the principle of least privilege, make sure to secure the <code>dynatrace</code> namespace and limit access to a closed group of administrators and operators.</p>
<h2 id="permission-list">Permission list<a class="headerlink" href="#permission-list" title="Permanent link">&para;</a></h2>
<h3 id="dynatrace-operator">Dynatrace Operator<a class="headerlink" href="#dynatrace-operator" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Maintains the lifecycle of Dynatrace components. Replaces OneAgent Operator.</p>
<p><strong>Default configuration:</strong> <code>1-replica-per-cluster</code></p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-operator</code></li>
<li>Cluster-Role <code>dynatrace-operator</code></li>
<li>Role <code>dynatrace-operator</code></li>
</ul>
<h4 id="cluster-wide-permissions">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nodes</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Create</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Get/Update/Delete/List</td>
<td><code>dynatrace-dynakube-config</code> <code>dynatrace-bootstrapper-config</code> <code>dynatrace-bootstrapper-certs</code> <code>dynatrace-metadata-enrichment-endpoint</code> <code>dynatrace-otlp-exporter-config</code> <code>dynatrace-otlp-exporter-certs</code></td>
</tr>
<tr>
<td><code>mutatingwebhookconfigurations</code></td>
<td><code>admissionregistration.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynatrace-webhook</code></td>
</tr>
<tr>
<td><code>validatingwebhookconfigurations</code></td>
<td><code>admissionregistration.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynatrace-webhook</code></td>
</tr>
<tr>
<td><code>customresourcedefinitions</code></td>
<td><code>apiextensions.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynakubes.dynatrace.com</code> <code>edgeconnects.dynatrace.com</code></td>
</tr>
<tr>
<td><code>customresourcedefinitions/status</code></td>
<td><code>apiextensions.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynakubes.dynatrace.com</code> <code>edgeconnects.dynatrace.com</code></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code> <code>nonroot-v2</code></td>
</tr>
</tbody>
</table>
<h4 id="namespace-dynatrace-permissions">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dynakubes</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
<tr>
<td><code>edgeconnects</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
<tr>
<td><code>dynakubes/finalizers</code></td>
<td><code>dynatrace.com</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>edgeconnects/finalizers</code></td>
<td><code>dynatrace.com</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>dynakubes/status</code></td>
<td><code>dynatrace.com</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>edgeconnects/status</code></td>
<td><code>dynatrace.com</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>deployments/finalizers</code></td>
<td><code>apps</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>configmaps</code></td>
<td><code>""</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Get/List/Watch/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>""</code></td>
<td>Create/Get/List/Patch</td>
<td></td>
</tr>
<tr>
<td><code>services</code></td>
<td><code>""</code></td>
<td>Create/Update/Delete/Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>serviceentries</code></td>
<td><code>networking.istio.io</code></td>
<td>Get/List/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>virtualservices</code></td>
<td><code>networking.istio.io</code></td>
<td>Get/List/Create/Update/Delete</td>
<td></td>
</tr>
<tr>
<td><code>leases</code></td>
<td><code>coordination.k8s.io</code></td>
<td>Get/Update/Create</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="dynatrace-operator-webhook-server">Dynatrace Operator Webhook Server<a class="headerlink" href="#dynatrace-operator-webhook-server" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Modifies pod definitions to include Dynatrace code modules for application observability</li>
<li>Validates DynaKube custom resources</li>
<li>Handles the DynaKube conversion between versions</li>
</ul>
<p><strong>Default configuration</strong>: <code>1-replica-per-cluster</code>, can be scaled</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-webhook</code></li>
<li>Cluster-Role <code>dynatrace-webhook</code></li>
<li>Role <code>dynatrace-webhook</code></li>
</ul>
<h4 id="cluster-wide-permissions_1">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Create</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Get/List/Watch/Update</td>
<td><code>dynatrace-dynakube-config</code> <code>dynatrace-bootstrapper-config</code> <code>dynatrace-bootstrapper-certs</code> <code>dynatrace-metadata-enrichment-endpoint</code> <code>dynatrace-otlp-exporter-config</code> <code>dynatrace-otlp-exporter-certs</code></td>
</tr>
<tr>
<td><code>replicationcontrollers</code></td>
<td><code>""</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>apps</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>apps</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>apps</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>batch</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>cronjobs</code></td>
<td><code>batch</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>deploymentconfigs</code></td>
<td><code>apps.openshift.io</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code> <code>nonroot-v2</code></td>
</tr>
</tbody>
</table>
<h4 id="namespace-dynatrace-permissions_1">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>events</code></td>
<td><code>""</code></td>
<td>Create/Patch</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>configmaps</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>dynakubes</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="dynatrace-operator-csi-driver">Dynatrace Operator CSI driver<a class="headerlink" href="#dynatrace-operator-csi-driver" title="Permanent link">&para;</a></h3>
<p><strong>Purpose</strong>:</p>
<ul>
<li>For <code>applicationMonitoring</code> configurations, it provides the necessary OneAgent binary for application monitoring to the pods on each node.</li>
<li>For <code>hostMonitoring</code> configurations, it provides a writable folder for the OneAgent configurations when a read-only host file system is used.</li>
<li>For <code>cloudNativeFullStack</code>, it provides both of the above.</li>
</ul>
<p><strong>Default configuration</strong>: <code>1-replica-per-node</code> (deployed via a DaemonSet)</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-oneagent-csi-driver</code></li>
<li>Cluster-Role <code>dynatrace-oneagent-csi-driver</code></li>
<li>Role <code>dynatrace-oneagent-csi-driver</code></li>
</ul>
<h4 id="cluster-wide-permission">Cluster-wide permission<a class="headerlink" href="#cluster-wide-permission" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code></td>
</tr>
</tbody>
</table>
<h4 id="namespace-dynatrace-permissions_2">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_2" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dynakubes</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>configmaps</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>dynakubes/finalizers</code></td>
<td><code>dynatrace.com</code></td>
<td>Update</td>
<td></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>batch</code></td>
<td>Get/List/Create/Delete/Watch</td>
<td></td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>""</code></td>
<td>Create/Patch</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="activegate_1">ActiveGate<a class="headerlink" href="#activegate_1" title="Permanent link">&para;</a></h3>
<h4 id="kubernetes-platform-monitoring_1">Kubernetes Platform Monitoring<a class="headerlink" href="#kubernetes-platform-monitoring_1" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>: collects cluster and workload metrics, events, and status from the Kubernetes API.</p>
<p><strong>Default configuration</strong>: <code>1-replica-per-cluster</code>, can be scaled</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account: <code>dynatrace-kubernetes</code></li>
<li>
<p>Cluster-Roles:</p>
</li>
<li>
<p><code>dynatrace-kubernetes-monitoring</code></p>
<ul>
<li>Used to aggregate all ClusterRoles with the label <code>rbac.dynatrace.com/aggregate-to-monitoring: "true"</code></li>
<li>
<p><code>dynatrace-kubernetes-monitoring-default</code></p>
</li>
<li>
<p>Aggregated by <code>dynatrace-kubernetes-monitoring</code>, more details can be found in the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation" title="Understanding how the Dynatrace Operator uses ClusterRole aggregation to manage permissions for Kubernetes monitoring.">ClusterRole aggregation documentation</a></p>
</li>
</ul>
</li>
</ul>
<h5 id="cluster-wide-permissions_2">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_2" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nodes</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>replicationcontrollers</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>resourcequotas</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>pods/proxy</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>nodes/proxy</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>nodes/metrics</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>services</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>persistentvolumeclaims</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>persistentvolumes</code></td>
<td><code>""</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>batch</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>cronjobs</code></td>
<td><code>batch</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>apps</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>apps</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>apps</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>deploymentconfigs</code></td>
<td><code>apps.openshift.io</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>clusterversions</code></td>
<td><code>config.openshift.io</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>dynakubes</code></td>
<td><code>dynatrace.com</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>edgeconnects</code></td>
<td><code>dynatrace.com</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>customresourcedefinitions</code></td>
<td><code>apiextensions.k8s.io</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>ingresses</code></td>
<td><code>networking.k8s.io</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>networkpolicies</code></td>
<td><code>networking.k8s.io</code></td>
<td>List/Watch/Get</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code> <code>nonroot-v2</code></td>
</tr>
</tbody>
</table>
<h4 id="dynatrace-kubernetes-security-posture-management-kspm">Dynatrace Kubernetes Security Posture Management (KSPM)<a class="headerlink" href="#dynatrace-kubernetes-security-posture-management-kspm" title="Permanent link">&para;</a></h4>
<p><strong>Purposes</strong>: <a href="/docs/ingest-from/setup-on-k8s/deployment/security-posture-management" title="Configure and enable Security Posture Management in Kubernetes.">Kubernetes Security Posture Management</a> detects, analyzes, and continuously watches for
misconfigurations, security hardening guidelines, and potential compliance violations in Kubernetes.</p>
<p><strong>Default configuration</strong>: <code>1-replica-per-node</code> (deployed via a DaemonSet)</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-node-config-collector</code></li>
<li>
<p>Cluster-Role <code>dynatrace-kubernetes-monitoring-kspm</code></p>
</li>
<li>
<p>Aggregated by the <code>dynatrace-kubernetes-monitoring</code> ClusterRole, more details can be found in the <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/cluster-role-aggregation" title="Understanding how the Dynatrace Operator uses ClusterRole aggregation to manage permissions for Kubernetes monitoring.">ClusterRole aggregation documentation</a></p>
</li>
</ul>
<h5 id="cluster-wide-permissions_3">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_3" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>nodes</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>replicationcontrollers</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>serviceaccounts</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>services</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>cronjobs</code></td>
<td><code>batch</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>batch</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>networkpolicies</code></td>
<td><code>networking.k8s.io</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>clusterrolebindings</code></td>
<td><code>rbac.authorization.k8s.io</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>clusterroles</code></td>
<td><code>rbac.authorization.k8s.io</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>rolebindings</code></td>
<td><code>rbac.authorization.k8s.io</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>roles</code></td>
<td><code>rbac.authorization.k8s.io</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="oneagent">OneAgent<a class="headerlink" href="#oneagent" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Collects host metrics from Kubernetes nodes.</li>
<li>Detects new containers and injects Dynatrace code modules into application pods using classic full-stack injection. Optional</li>
<li>Collects container logs from Kubernetes nodes.</li>
</ul>
<p><strong>Default configuration</strong>: <code>1-replica-per-node</code> (deployed via a DaemonSet)</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-dynakube-oneagent</code></li>
<li>Cluster-Role <code>dynatrace-dynakube-oneagent</code></li>
<li>Cluster-Role <code>dynatrace-logmonitoring</code></li>
</ul>
<p><strong>Policy settings</strong>: Allows <strong>HostNetwork</strong>, <strong>HostPID</strong>, to use any volume types.</p>
<p><strong>Necessary capabilities</strong>: <code>CHOWN</code>, <code>DAC_OVERRIDE</code>, <code>DAC_READ_SEARCH</code>, <code>FOWNER</code>, <code>FSETID</code>, <code>KILL</code>, <code>NET_ADMIN</code>, <code>NET_RAW</code>, <code>SETFCAP</code>, <code>SETGID</code>, <code>SETUID</code>, <code>SYS_ADMIN</code>, <code>SYS_CHROOT</code>, <code>SYS_PTRACE</code>, <code>SYS_RESOURCE</code></p>
<h4 id="cluster-wide-permissions_4">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_4" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nodes/proxy</code></td>
<td><code>""</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code></td>
</tr>
</tbody>
</table>
<h3 id="dynatrace-log-module">Dynatrace Log Module<a class="headerlink" href="#dynatrace-log-module" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Collects container logs from Kubernetes nodes.</li>
</ul>
<p><strong>Default configuration</strong>: <code>1-replica-per-node</code> (deployed via a DaemonSet)</p>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Service Account <code>dynatrace-logmonitoring</code></li>
<li>Cluster-Role <code>dynatrace-logmonitoring</code></li>
</ul>
<h4 id="cluster-wide-permissions_5">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_5" title="Permanent link">&para;</a></h4>
<p>Log monitoring requires <a href="#oneagent-permissions">the same cluster-wide permissions as OneAgent</a>.</p>
<h3 id="dynatrace-telemetry-ingest">Dynatrace telemetry ingest<a class="headerlink" href="#dynatrace-telemetry-ingest" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>
<p>Enable <a href="/docs/ingest-from/setup-on-k8s/extend-observability-k8s/telemetry-ingest" title="Enable Dynatrace telemetry ingest endpoints in Kubernetes for cluster-local data ingest.">Dynatrace telemetry endpoints</a> in Kubernetes for cluster-local data ingest</p>
</li>
<li>
<p>Ingest data via <a href="https://opentelemetry.io/docs/specs/otel/protocol/">OTLP√Ø¬ª¬ø</a>, <a href="https://www.jaegertracing.io/">Jaeger√Ø¬ª¬ø</a>, <a href="https://github.com/statsd/statsd">StatsD√Ø¬ª¬ø</a> or <a href="https://zipkin.io/">Zipkin√Ø¬ª¬ø</a> endpoints</p>
</li>
<li>Analyze context-rich data with built-in apps, DQL, Notebooks and Dashboards</li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>
<p>Service Accounts</p>
</li>
<li>
<p><code>dynatrace-otel-collector</code></p>
</li>
<li>
<p>Cluster-Roles</p>
</li>
<li>
<p><code>dynatrace-telemetry-ingest</code></p>
</li>
</ul>
<h4 id="cluster-wide-permissions_6">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_6" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>Get/Watch/List</td>
<td></td>
</tr>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>Get/Watch/List</td>
<td></td>
</tr>
<tr>
<td><code>nodes</code></td>
<td><code>""</code></td>
<td>Get/Watch/List</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code></td>
</tr>
</tbody>
</table>
<h3 id="extensions">Extensions<a class="headerlink" href="#extensions" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Extensions extend Dynatrace analytics capabilities by ingesting data from various sources, such as third-party applications, services, and custom metrics. See <a href="/docs/ingest-from/extensions" title="Learn how to create and manage Dynatrace Extensions.">Extensions</a> for more information.</li>
</ul>
<p><strong>Default configuration</strong>:</p>
<p>The following components are required, regardless of which extensions are used:</p>
<ul>
<li>Extension Execution Controller (EEC): <code>1-replica-per-cluster</code></li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<p>Depending on the used extension, the following RBAC objects are required.</p>
<ul>
<li>
<p>Service Accounts</p>
</li>
<li>
<p><code>dynatrace-extension-controller-prometheus</code></p>
</li>
<li><code>dynatrace-extension-controller-database</code></li>
<li>
<p>Roles</p>
</li>
<li>
<p><code>dynatrace-extension-controller-prometheus</code></p>
</li>
<li><code>dynatrace-extension-controller-database</code></li>
</ul>
<h5 id="namespace-dynatrace-permissions_3">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_3" title="Permanent link">&para;</a></h5>
<p><em>Prometheus extension</em></p>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code></td>
</tr>
</tbody>
</table>
<p><em>Database extension</em></p>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>List</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>nonroot-v2</code></td>
</tr>
</tbody>
</table>
<h4 id="prometheus-extension">Prometheus extension<a class="headerlink" href="#prometheus-extension" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>:</p>
<ul>
<li>Collects metrics from Prometheus endpoints in your cluster.</li>
</ul>
<p><strong>Default configuration</strong>:</p>
<ul>
<li>Prometheus datasource: <code>replicas-set-in-dynakube</code> (no default, replicas set in the DynaKube)</li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>
<p>Service Accounts</p>
</li>
<li>
<p><code>dynatrace-otel-collector</code></p>
</li>
<li>
<p>Cluster-Roles</p>
</li>
<li>
<p><code>dynatrace-extensions-prometheus</code></p>
</li>
</ul>
<h5 id="cluster-wide-permissions_7">Cluster-wide permissions<a class="headerlink" href="#cluster-wide-permissions_7" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>namespaces</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>endpoints</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>services</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>nodes</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>nodes/metrics</code></td>
<td><code>""</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>apps</code></td>
<td>Get/List/Watch</td>
<td></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>privileged</code></td>
</tr>
</tbody>
</table>
<h4 id="database-extension">Database extension<a class="headerlink" href="#database-extension" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>:</p>
<ul>
<li>Collects metrics from database endpoints in your cluster.</li>
</ul>
<p><strong>Default configuration</strong>:</p>
<ul>
<li>SQL Extension Executor: <code>replicas-set-in-dynakube</code> (no default, replicas set in the DynaKube)</li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>
<p>Service Accounts</p>
</li>
<li>
<p><code>dynatrace-sql-ext-exec</code></p>
</li>
<li>
<p>Roles</p>
</li>
<li>
<p><code>dynatrace-sql-ext-exec</code></p>
</li>
</ul>
<h5 id="namespace-dynatrace-permissions_4">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_4" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pods</code></td>
<td><code>""</code></td>
<td>List</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="dynatrace-operator-supportability">Dynatrace Operator supportability<a class="headerlink" href="#dynatrace-operator-supportability" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Allow Dynatrace Operator to execute <a href="/docs/ingest-from/setup-on-k8s/deployment/troubleshooting#support-archive" title="This page will assist you in navigating any challenges you may encounter while working with the Dynatrace Operator and its various components.">the support-archive command</a>. Necessary for troubleshooting Operator related issues.</li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>Role <code>dynatrace-operator-supportability</code></li>
</ul>
<p><strong>Opt-out</strong>:</p>
<ul>
<li>You can opt out of this feature by setting the Dynatrace Operator Helm chart value <code>rbac.supportability</code> to <code>false</code>.</li>
</ul>
<p>Disabling this feature will make it harder to provide the necessary information when opening support cases regarding Dynatrace Operator.</p>
<h4 id="namespace-dynatrace-permissions_5">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_5" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pods/log</code></td>
<td><code>""</code></td>
<td>Get</td>
<td></td>
</tr>
<tr>
<td><code>pods/exec</code></td>
<td><code>""</code></td>
<td>Create</td>
<td></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>batch</code></td>
<td>Get/List</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="dynatrace-operator-api-upgrade-support">Dynatrace Operator API upgrade support<a class="headerlink" href="#dynatrace-operator-api-upgrade-support" title="Permanent link">&para;</a></h3>
<p><strong>Purposes</strong>:</p>
<ul>
<li>Start <code>dynatrace-operator-crd-storage-migration</code> Job for automatic cleanup of removed Dynakube API versions in <code>pre-upgrade</code> Helm hook.</li>
</ul>
<p><strong>RBAC objects</strong>:</p>
<ul>
<li>ClusterRole <code>dynatrace-crd-storage-migration</code></li>
<li>Role <code>dynatrace-crd-storage-migration</code></li>
<li>ServiceAccount <code>dynatrace-crd-storage-migration</code></li>
</ul>
<p><strong>Opt-in</strong>:</p>
<ul>
<li>You can opt-out of this feature by setting the Dynatrace Operator Helm chart value <code>crdStorageMigrationJob</code> to <code>false</code>.</li>
</ul>
<h4 id="cluster-wide-permissions_8">Cluster wide permissions<a class="headerlink" href="#cluster-wide-permissions_8" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>customresourcedefinitions</code></td>
<td><code>apiextensions.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynakubes.dynatrace.com</code> <code>edgeconnects.dynatrace.com</code></td>
</tr>
<tr>
<td><code>customresourcedefinitions/status</code></td>
<td><code>apiextensions.k8s.io</code></td>
<td>Get/Update</td>
<td><code>dynakubes.dynatrace.com</code> <code>edgeconnects.dynatrace.com</code></td>
</tr>
<tr>
<td><code>securitycontextconstraints</code></td>
<td><code>security.openshift.io</code></td>
<td>Use</td>
<td><code>nonroot-v2</code></td>
</tr>
</tbody>
</table>
<h4 id="namespace-dynatrace-permissions_6">Namespace <code>dynatrace</code> permissions<a class="headerlink" href="#namespace-dynatrace-permissions_6" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>API group</th>
<th>APIs used</th>
<th>Resource names</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dynakubes</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
<tr>
<td><code>edgeconnects</code></td>
<td><code>dynatrace.com</code></td>
<td>Get/List/Watch/Update</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="security-controls-of-dynatrace-operator-components">Security Controls of Dynatrace Operator components<a class="headerlink" href="#security-controls-of-dynatrace-operator-components" title="Permanent link">&para;</a></h2>
<p>The following table presents a detailed analysis of the security controls for Kubernetes components: Dynatrace Operator, Dynatrace Operator webhook, and Dynatrace Operator CSI driver. This report is based on:</p>
<ul>
<li><a href="https://dt-url.net/zd0368p">CIS Benchmark√Ø¬ª¬ø</a>, a globally recognized standard for securing Kubernetes deployments.</li>
<li><a href="https://dt-url.net/mp0345l">POD Security Standard policies√Ø¬ª¬ø</a>.</li>
<li>Best practices.</li>
</ul>
<table>
<thead>
<tr>
<th>Security Control</th>
<th>Standard (*)</th>
<th>Operator</th>
<th>Webhook</th>
<th>CSI driver</th>
<th>OneAgent</th>
<th>Extensions Controller</th>
<th>Dynatrace Collector</th>
<th>ActiveGate</th>
<th>EdgeConnect</th>
<th>KSPM</th>
</tr>
</thead>
<tbody>
<tr>
<td>Disallow privileged containers</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.2 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-5-def">5</a></td>
<td>Required <a href="#fn-1-10-def">10</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow privilege escalation</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.6 / PSSR <a href="#fn-1-3-def">3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-5-def">5</a></td>
<td>Required <a href="#fn-1-11-def">11</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-16-def">16</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow containers running as root</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.7 / PSSR <a href="#fn-1-3-def">3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-6-def">6</a></td>
<td>Required <a href="#fn-1-10-def">10</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-16-def">16</a></td>
<td>Required <a href="#fn-1-18-def">18</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-19-def">19</a></td>
</tr>
<tr>
<td>Disallow use of too many or insecure capabilities</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.8 / 5.2.9 / 5.2.10 / PSSR <a href="#fn-1-3-def">3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-12-def">12</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-18-def">18</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-24-def">24</a></td>
</tr>
<tr>
<td>Limit access to secrets (RBAC)</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.1.4</td>
<td>Planned improvement <a href="#fn-1-22-def">22</a></td>
<td>Planned improvement <a href="#fn-1-22-def">22</a></td>
<td>Planned improvement <a href="#fn-1-22-def">22</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow use of HostPath volumes</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.12 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-7-def">7</a></td>
<td>Required <a href="#fn-1-10-def">10</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-20-def">20</a></td>
</tr>
<tr>
<td>Disallow use of HostPorts</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.13 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow access to host network</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.5 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-13-def">13</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow use of host PID</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.3 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-14-def">14</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-23-def">23</a></td>
</tr>
<tr>
<td>Disallow use of host IPC</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.2.4 / PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Require readOnlyRootFilesystem</td>
<td>Best practice</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Require Resource limits</td>
<td>Best practice</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied <a href="#fn-1-9-def">9</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Demand seccomp to be used (at least default/runtime)</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.7.2 / PSSR <a href="#fn-1-3-def">3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-15-def">15</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-18-def">18</a></td>
<td>Required <a href="#fn-1-21-def">21</a></td>
<td>Required <a href="#fn-1-19-def">19</a></td>
</tr>
<tr>
<td>Disallow Secrets mounted as env variable</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.4.1</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Planned improvement <a href="#fn-1-17-def">17</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict sysctls</td>
<td>PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict AppArmor</td>
<td>PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow SELinux</td>
<td>PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-1-8-def">8</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict automounting of service account token</td>
<td>CIS <a href="#fn-1-1-def">1</a> 5.1.6</td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
<td>Required <a href="#fn-1-4-def">4</a></td>
</tr>
<tr>
<td>/proc Mount Type</td>
<td>PSSB <a href="#fn-1-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
</tbody>
</table>
<p><strong>Standard</strong>:</p>
<p>1</p>
<p><a href="https://dt-url.net/zd0368p">Center for Internet Security (CIS) Kubernetes benchmark√Ø¬ª¬ø</a>.</p>
<p>2</p>
<p><a href="https://kubernetes.io/docs/concepts/security/pod-security-standards/#baseline">POD Security Standards Baseline profile√Ø¬ª¬ø</a>.</p>
<p>3</p>
<p><a href="https://dt-url.net/ut4387d">POD Security Standards Restricted profile√Ø¬ª¬ø</a>.</p>
<p><strong>General</strong>:</p>
<p>4</p>
<p>Component needs to communicate with the Kubernetes API.</p>
<p><strong>CSI</strong>:</p>
<p>5</p>
<p>CSI driver requires elevated permissions to create and manage mounts on the host system. For more details, see <a href="/docs/ingest-from/setup-on-k8s/how-it-works/components/dynatrace-operator#csidriver-privileges" title="Components of Dynatrace Operator">CSI driver privileges</a>.</p>
<p>6</p>
<p>CSI driver communicates with kubelet using a socket on the host, to access this socket the CSI driver needs to run as root.</p>
<p>7</p>
<p>CSI driver stores/caches the OneAgent binaries on the host's filesystem, in order to do that it needs a hostVolume mount.</p>
<p>8</p>
<p>CSI driver needs seLinux level s0 for the application pods to see files from the volume created by the CSI driver.</p>
<p>9</p>
<p>CSI driver provisioner has no resources limits by default in order to provide the best <a href="/docs/ingest-from/setup-on-k8s/guides/deployment-and-configuration/resource-management/dto-resource-limits#customize-resource-limits" title="Set resource limits for Dynatrace Operator components.">performance during provisioning</a>; limits can be set via Helm chart values.</p>
<p><strong>OneAgent</strong>:</p>
<p>10</p>
<p>OneAgent DaemonSet runs with host-level privileges for full-stack visibility (network, processes, file system).</p>
<p>11</p>
<p>Required for init containers that instrument processes before startup.</p>
<p>12</p>
<p>Requires limited Linux capabilities (e.g., NET_RAW) for network observability.</p>
<p>13</p>
<p>Uses host network namespace to monitor network traffic.</p>
<p>14</p>
<p>Uses host PID namespace to correlate process metrics.</p>
<p>15</p>
<p>Uses default runtime seccomp profile; explicit setting planned.</p>
<p><strong>Extension Execution Controller / Dynatrace Collector</strong>:</p>
<p>16</p>
<p>Dynatrace Collector and Extensions controller may require root or elevated privileges for metrics collection and sidecar operations.</p>
<p>17</p>
<p>Dynatrace Collector currently uses environment variables for tokens; migrating to secret files is planned.</p>
<p><strong>ActiveGate / EdgeConnect / KSPM</strong>:</p>
<p>18</p>
<p>ActiveGate runs with minimal elevated privileges to manage inbound connections.</p>
<p>19</p>
<p>KSPM mounts the host root filesystem <code>/</code> to perform configuration and security scans; hostPath restriction evaluation is planned.</p>
<p>20</p>
<p>KSPM mounts the entire host filesystem for node-level scanning; improvement under review to restrict mounted paths.</p>
<p>21</p>
<p>EdgeConnect currently lacks an explicit seccomp profile; addition is planned in future releases. This control is being addressed in upcoming releases.</p>
<p>22</p>
<p>Namespace-scoped Roles for the Operator, Webhook, and CSI driver currently allow access to all secrets within their namespace. Improvement planned to restrict these Roles to specific secret names, consistent with ClusterRole configuration.</p>
<p>23</p>
<p>KSPM requires host PID namespace access for the node collector to gather process-level data. This requirement will be documented.</p>
<p>24</p>
<p>KSPM requires specific Linux capabilities to scan and collect system configuration and security data; this is by design and cannot be removed.</p>
<h2 id="security-controls-of-components-managed-by-dynatrace-operator">Security Controls of components managed by Dynatrace Operator<a class="headerlink" href="#security-controls-of-components-managed-by-dynatrace-operator" title="Permanent link">&para;</a></h2>
<p>The following table presents a detailed analysis of the security controls for Kubernetes components managed by Dynatrace Operator: ActiveGate, <a href="/docs/ingest-from/setup-on-k8s/how-it-works/cloud-native-fullstack" title="In-depth description of full-stack observability using Dynatrace Operator.">OneAgent (CloudNative)</a>, LogAgent. This report is based on:</p>
<ul>
<li><a href="https://dt-url.net/zd0368p">CIS Benchmark√Ø¬ª¬ø</a>, a globally recognized standard for securing Kubernetes deployments.</li>
<li><a href="https://dt-url.net/mp0345l">POD Security Standard policies√Ø¬ª¬ø</a>.</li>
<li>Best practices.</li>
</ul>
<table>
<thead>
<tr>
<th>Security Control</th>
<th>Standard (*)</th>
<th>ActiveGate</th>
<th>OneAgent CloudNative</th>
<th>OneAgent Log Module</th>
</tr>
</thead>
<tbody>
<tr>
<td>Disallow privileged containers</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.2 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-15-def">15</a></td>
</tr>
<tr>
<td>Disallow privilege escalation</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.6 / PSSR <a href="#fn-2-3-def">3</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-6-def">6</a></td>
<td>Required <a href="#fn-2-16-def">16</a></td>
</tr>
<tr>
<td>Disallow containers running as root</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.7 / PSSR <a href="#fn-2-3-def">3</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow usage of too many or insecure capabilities</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.8 / 5.2.9 / 5.2.10 / PSSR <a href="#fn-2-3-def">3</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-7-def">7</a></td>
<td>Required <a href="#fn-2-17-def">17</a></td>
</tr>
<tr>
<td>Disallow usage of HostPath volumes</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.12 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-8-def">8</a></td>
<td>Required <a href="#fn-2-18-def">18</a></td>
</tr>
<tr>
<td>Disallow usage of HostPorts</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.13 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow access to host network</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.5 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-9-def">9</a></td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow usage of host PID</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.3 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-10-def">10</a></td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow usage of host IPC</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.2.4 / PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Require readOnlyRootFilesystem</td>
<td>Best practice</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Require Resource limits</td>
<td>Best practice</td>
<td>Configurable <a href="#fn-2-5-def">5</a></td>
<td>Configurable <a href="#fn-2-11-def">11</a></td>
<td>Configurable <a href="#fn-2-19-def">19</a></td>
</tr>
<tr>
<td>Demand seccomp to be used (at least default/runtime)</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.7.2 / PSSR <a href="#fn-2-3-def">3</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-12-def">12</a></td>
<td>Required <a href="#fn-2-20-def">20</a></td>
</tr>
<tr>
<td>Disallow Secrets mounted as env variable</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.4.1</td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict sysctls</td>
<td>PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict AppArmor</td>
<td>PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Required <a href="#fn-2-13-def">13</a></td>
<td>Satisfied</td>
</tr>
<tr>
<td>Disallow SELinux</td>
<td>PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
<tr>
<td>Restrict automounting of service account token</td>
<td>CIS <a href="#fn-2-1-def">1</a> 5.1.6</td>
<td>Required <a href="#fn-2-4-def">4</a></td>
<td>Configurable <a href="#fn-2-14-def">14</a></td>
<td>Required <a href="#fn-2-4-def">4</a></td>
</tr>
<tr>
<td>/proc Mount Type</td>
<td>PSSB <a href="#fn-2-2-def">2</a></td>
<td>Satisfied</td>
<td>Satisfied</td>
<td>Satisfied</td>
</tr>
</tbody>
</table>
<p><strong>Standard</strong>:</p>
<p>1</p>
<p><a href="https://dt-url.net/zd0368p">Center for Internet Security (CIS) Kubernetes benchmark√Ø¬ª¬ø</a>.</p>
<p>2</p>
<p><a href="https://kubernetes.io/docs/concepts/security/pod-security-standards/#baseline">POD Security Standards Baseline profile√Ø¬ª¬ø</a>.</p>
<p>3</p>
<p><a href="https://dt-url.net/ut4387d">POD Security Standards Restricted profile√Ø¬ª¬ø</a>.</p>
<p><strong>General</strong>:</p>
<p>4</p>
<p>Component needs to communicate with the Kubernetes API.</p>
<p><strong>ActiveGate</strong></p>
<p>5</p>
<p>The limits are highly dependent on the amount of data processed. Can be set via DynaKube.</p>
<p><strong>OneAgent</strong></p>
<p>6</p>
<p>Privilege escalation is needed for processes inside OneAgent container to get Linux capabilities.</p>
<p>7</p>
<p><a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/oneagent-security-linux#operation" title="Learn about Dynatrace OneAgent security and modifications to your Linux-based system">Monitoring actions</a> executed by OneAgent processes need the following <a href="/docs/ingest-from/dynatrace-oneagent/installation-and-operation/linux/installation/linux-non-privileged#linux-system-capabilities" title="Find out when Dynatrace OneAgent requires root privileges on Linux.">capabilities</a>.</p>
<p>8</p>
<p>Mounted host's root filesystem is accessed by all OneAgent modules and allows for log files access, disk metrics, and other host and process monitoring capabilities.</p>
<p>9</p>
<p>OneAgent needs access to host network namespace to provide host-level and process-level network health monitoring.</p>
<p>10</p>
<p>OneAgent needs access to host process table to collect performance metrics for all processes running on the host.</p>
<p>11</p>
<p>The limits are highly dependent on the amount of data processed. Can be set via DynaKube.</p>
<p>12</p>
<p>OneAgent needs access to kernel syscalls beyond the RuntimeDefault set for monitoring purposes.</p>
<p>13</p>
<p>OneAgent needs access to the mount command which is blocked by the default AppArmor profile.</p>
<p>14</p>
<p>OneAgent component needs to communicate with the kubelet <code>/pods</code> endpoint. The K8s token is not mounted to the Pod if LogMonitoring is turned off via Helm values.</p>
<p><strong>OneAgent Log Module</strong>:</p>
<p>15</p>
<p>LogAgent needs to run as privileged container on OCP cluster to access its persistent storage. <a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/storage/configuring-persistent-storage#persistent-storage-using-hostpath">OCP persistent storage using hostPath√Ø¬ª¬ø</a>.</p>
<p>16</p>
<p>AllowPrivilegeEscalation is always true when the container is run as privileged. <a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">Configure a Security Context for a Pod or Container√Ø¬ª¬ø</a>.</p>
<p>17</p>
<p>LogAgent needs additional capability to get access to all monitored log files.</p>
<p>18</p>
<p>Needs access to log files on the host's filesystem.</p>
<p>19</p>
<p>The limits are highly dependent on the amount of data processed. Can be set via DynaKube.</p>
<p>20</p>
<p>The seccomp profile can be set via DynaKube in order to run in secure computing mode.</p>
<h2 id="pod-security-policies">Pod security policies<a class="headerlink" href="#pod-security-policies" title="Permanent link">&para;</a></h2>
<p>These permissions used to be managed using a <strong>PodSecurityPolicy</strong> (PSP), but <a href="https://dt-url.net/2403pxy">in Kubernetes version 1.25 PSPs will be removed√Ø¬ª¬ø</a> from the following components:</p>
<ul>
<li><a href="https://dt-url.net/d7034gj">Dynatrace Operator√Ø¬ª¬ø</a> version 0.2.2</li>
<li><strong>LEGACY</strong> <a href="https://dt-url.net/3023pvs">Dynatrace OneAgent Operator√Ø¬ª¬ø</a> version 0.11.0</li>
<li><a href="https://dt-url.net/rp43pl1">Corresponding Helm charts√Ø¬ª¬ø</a></li>
</ul>
<p><strong>Dynatrace Operator version 0.2.1</strong> is the last version in which PSPs are applied by default, so it's up to you to enforce these rules. As PSP alternatives, you can use other policy enforcement tools such as:</p>
<ul>
<li><a href="https://dt-url.net/qx63p3n">k-rail√Ø¬ª¬ø</a></li>
<li><a href="https://dt-url.net/6m83ppk">Kyverno√Ø¬ª¬ø</a></li>
<li><a href="https://dt-url.net/aha3ps4">Gatekeeper√Ø¬ª¬ø</a></li>
</ul>
<p>If you choose to use a PSP alternative, be sure to provide the necessary permissions to the Dynatrace components.</p>
<h2 id="dynatrace-operator-security-context-constraints">Dynatrace Operator security context constraints<a class="headerlink" href="#dynatrace-operator-security-context-constraints" title="Permanent link">&para;</a></h2>
<p>Dynatrace Operator version 0.12.0+</p>
<p>Starting with Dynatrace Operator version 0.12.0, the built-in creation of custom security context constraints (SCCs) has been removed for Dynatrace Operator and Dynatrace Operator√¢¬Ä¬ìmanaged components. This change was made to reduce complications caused by custom SCCs in unique OpenShift setups.</p>
<p>Despite this update, the components maintain the same permissions and security requirements as before.</p>
<p>The following tables show the SCCs used in different versions of Dynatrace Operator and OpenShift.</p>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>Custom SCC used in Dynatrace Operator versions earlier than 0.12.0</th>
<th>SCC in Dynatrace Operator version 0.12.0+ and OpenShift earlier than 4.11</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynatrace Operator</td>
<td><code>dynatrace-operator</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
<tr>
<td>Dynatrace Operator Webhook Server</td>
<td><code>dynatrace-webhook</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
<tr>
<td>Dynatrace Operator CSI driver</td>
<td><code>dynatrace-oneagent-csi-driver</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
<tr>
<td>ActiveGate</td>
<td><code>dynatrace-activegate</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
<tr>
<td>OneAgent</td>
<td><code>dynatrace-dynakube-oneagent-privileged</code> <code>dynatrace-dynakube-oneagent-unprivileged</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Resources accessed</th>
<th>Custom SCC used in Dynatrace Operator versions earlier than 0.12.0</th>
<th>SCC in Dynatrace Operator version 0.12.0+ and OpenShift 4.11+</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynatrace Operator</td>
<td><code>dynatrace-operator</code></td>
<td><code>nonroot-v2</code></td>
</tr>
<tr>
<td>Dynatrace Operator Webhook Server</td>
<td><code>dynatrace-webhook</code></td>
<td><code>nonroot-v2</code></td>
</tr>
<tr>
<td>Dynatrace Operator CSI driver</td>
<td><code>dynatrace-oneagent-csi-driver</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
<tr>
<td>ActiveGate</td>
<td><code>dynatrace-activegate</code></td>
<td><code>nonroot-v2</code></td>
</tr>
<tr>
<td>OneAgent</td>
<td><code>dynatrace-dynakube-oneagent-privileged</code> <code>dynatrace-dynakube-oneagent-unprivileged</code></td>
<td><code>privileged</code><a href="#fn-3-1-def">1</a></td>
</tr>
</tbody>
</table>
<p>1</p>
<p>This SCC is the only built-in OpenShift SCC that allows usage of seccomp, which our components have set by default, and also the usage of CSI volumes.</p>
<p>It is still possible to create your own more permissive or restrictive SCCs that take your specific setup into consideration. You can safely remove the old SCCs that were created by a previous Dynatrace Operator version.</p>
<p>To remove the old SCCs, use the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-267-1" name="__codelineno-267-1" href="#__codelineno-267-1"></a>oc delete scc &lt;scc-name&gt;
</code></pre></div>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  –ö –Ω–∞—á–∞–ª—É
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ¬© 2026 Dynatrace Managed Docs
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Yerkebulan-Ardabayev" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "navigation.instant", "search.suggest", "search.highlight", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../assets/javascripts/groq-chat.js"></script>
      
    
  </body>
</html>