---
title: Dynatrace Intelligence причинно-следственный AI сценарии
source: https://www.dynatrace.com/docs/dynatrace-intelligence/davis-problems-app/problems-app-custom-problem-field-examples
scraped: 2026-02-28T21:07:52.248518
---

# Dynatrace Intelligence причинно-следственный AI сценарии

# Dynatrace Intelligence причинно-следственный AI сценарии

* Последнее Dynatrace
* Урок
* 5-минутное чтение
* Обновлено 28 января 2026 г.

Эта статья фокусируется на сценариях, где необходимы пользовательские поля, и предоставляет примеры того, как создать пользовательские поля проблем, чтобы достичь желаемого результата.

## Отображение владения инцидентами в таблице проблем

Источники событий могут присоединять важные метаданные, такие как `dt.owner` или `app-id`, в виде полей событий. Это позволяет вам определять пользовательские поля событий直接 в конфигурациях своих источников событий.

Предположим, что у вас есть командный пользовательский оповещение, которое необходимо настроить поверх запроса DQL, чтобы непрерывно отслеживать метрику и сообщать о событии нарушения, если обнаружено аномальное поведение. Командный автоматизированный фреймворк должен автоматически определить пользовательское поле события `dt.owner`, содержащее имя владеющей команды.

Для этого вам необходимо определить свои собственные поля событий `dt.owner` и `app-id` в конфигурации пользовательского оповещения.

Шаги

1. Перейдите к ![Обнаружение аномалий - новое](https://dt-cdn.net/images/davis-anomalydetection-256-105da91594.png "Обнаружение аномалий - новое") **Обнаружение аномалий**.
2. Выберите ![Добавить](https://dt-cdn.net/images/dashboards-app-menu-plus-7e9b7c3547.svg "Добавить") **Новое оповещение** > **Создать свое собственное пользовательское оповещение**.
3. Дайте конфигурации осмысленное **Название**.
4. Разверните **Настройка запроса** и предоставьте запрос [DQL](/docs/platform/grail/dynatrace-query-language/dql-guide "Узнайте, как работает DQL и какие ключевые понятия DQL.") для получения данных.

   Мы рекомендуем использовать параметр `interval: 1m`, чтобы обеспечить правильное разрешение данных для анализа.
5. Разверните **Настройка параметров** и определите анализатор и его параметры. Для подробностей см. [Тип анализатора и параметры](/docs/dynatrace-intelligence/anomaly-detection/anomaly-detection-configuration#analyzer "Настройка оповещения для пропущенных измерений.").
6. Разверните **Создать шаблон события** и настройте событие, запускаемое конфигурацией.

Имя события

1. Установите **Имя события** на `Аномально высокий сетевой трафик`.

Описание события

1. Установите **Описание события** на `Аномально высокий сетевой трафик был обнаружен для кластера 23`.

Свойства события

1. Установите следующие **Свойства события**:

2. Выберите **Создать**.

После того, как вы добавите поля `dt.owner` и `app-id` в конфигурацию пользовательского оповещения, каждое результирующее событие нарушения будет помечено этими новыми полями. Следующий шаг - распространить эти поля из отдельных событий нарушения на проблемы.

Чтобы добавить новое сопоставление полей

1. В **Dynatrace** перейдите в **Настройки** > **Анализировать и оповещать** > **Анализ коренной причины** > **Поля проблем**.
2. Выберите  **Новое поле**.
3. Установите **Имя события** и **Поле проблемы** на `dt.owner`.
4. Выберите **Добавить еще**.
5. Установите **Имя события** и **Поле проблемы** на `app-id`.
6. Выберите **Создать**.

Как только эта конфигурация будет сохранена, все новые созданные проблемы будут автоматически включать значения полей из отдельных событий для этих ключей.

Записи проблем в **Grail** являются неизменными. Это означает, что вы можете изменить конфигурацию сопоставления полей в любое время, но ранее записанные проблемы, которые были закрыты до изменений, не изменятся. Любые изменения в сопоставлении полей или именовании полей будут применяться только после изменения конфигурации.

Как только этот шаг конфигурации будет завершен, вы можете написать запросы DQL, чтобы фильтровать проблемы, используя ваши вновь введенные поля. Поток проблем будет автоматически включать ваши пользовательские поля в таблицу и панель фильтров вверху, как показано ниже:

![Пример таблицы проблем, содержащей пользовательские поля проблем, cloud.provider и k8s.workload.kind](https://dt-cdn.net/images/problems-app-custom-problem-fields-1920-3b6023a219.png)

## Управление доступом к записям проблем

Все поля, которые возникают на отдельных событиях нарушения и определяются системой разрешений Dynatrace как разрешения на запись, автоматически сопоставляются с проблемами. Это позволяет вам разделить и управлять доступом к данным Dynatrace Grail на основе разрешений на чтение для различных групп пользователей.

Предположим, что вам необходимо применить политику к проблемам и событиям Davis, которая позволит вашей команде видеть поле `dt.security_context`. Вы можете сделать это, установив границы политики в разрешениях группы вашей команды.

Сначала вам необходимо настроить поле `dt.security_context` в настройках сопоставления полей проблем.

Шаги

1. В **Dynatrace** перейдите в **Настройки** > **Анализировать и оповещать** > **Анализ коренной причины** > **Поля проблем**.
2. Выберите  **Новое поле**.
3. Установите **Имя события** на `app_id`.
4. Установите **Поле проблемы** на `dt.security_context`.
5. Выберите **Создать**.

Как только поле `security_context` будет успешно сопоставлено с проблемами, вы можете определить новую границу политики, которая использует ранее сопоставленное поле `security_context`.

Шаги

1. Перейдите в консоль **Управления учетной записью** вашего арендатора.
2. Перейдите в **Управление идентификацией и доступом** > **Управление политиками**.
3. На вкладке **Границы** выберите  **Граница**.
4. Установите **Имя границы** на `Граница команды 23`.
5. Установите **Запрос границы** на `storage:dt.security_context IN ("app-23");`.
6. Выберите **Сохранить**, чтобы создать границу политики.

Далее создайте новое разрешение **Чтение события** и используйте его, чтобы присвоить вновь созданную границу. Результат должен выглядеть подобно примеру ниже:

![Пример нового разрешения "Чтение события" для сценария пользовательских полей проблем](https://dt-cdn.net/images/problems-app-custom-problem-fields-new-permission-example-7680-98c4ab3748.png)

Наконец, сопоставьте новое разрешение с существующей группой пользователей.

Помимо применения политики к проблемам и событиям Davis, установка границы политики позволяет вам применять политику ко всем доступным таблицам Grail последовательно. Это избегает ненужного создания многих конфигураций политики для каждой таблицы Grail отдельно и позволяет более эффективно управлять доступом в крупномасштабных средах.

## Фильтрация личных уведомлений о проблемах по электронной почте и сегментов

Поскольку поля проблем хранятся в Grail по умолчанию, они исключают необходимость в дорогостоящих соединениях DQL. Эти поля также передаются по умолчанию через OpenPipeline и, следовательно, могут быть использованы в качестве триггеров рабочего процесса, обеспечивая бесшовную интеграцию.

Настройка фильтров на основе полей проблем предлагает несколько преимуществ:

* Масштабируемость: фильтры могут обрабатывать большие объемы данных эффективно
* Надежность: родное хранение и передача обеспечивают последовательную и надежную фильтрацию
* Прозрачность: обеспечивает четкое понимание критериев, используемых для фильтрации проблем

Вы можете использовать фильтры полей проблем, чтобы:

* Эффективно фильтровать входящие проблемы в личных уведомлениях по электронной почте, триггерах рабочего процесса и сегментах.
* Упростить управление входящими проблемами, гарантируя, что соответствующие проблемы будут своевременно выявлены и устранены.

Этот подход позволяет вам повысить общую эффективность и эффективность ваших процессов мониторинга и оповещения.