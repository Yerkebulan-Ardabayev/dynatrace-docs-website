---
title: Анализ и корреляция событий
source: https://www.dynatrace.com/docs/dynatrace-intelligence/root-cause-analysis/event-analysis-and-correlation
scraped: 2026-02-28T21:23:12.202525
---

# Анализ и корреляция событий

# Анализ и корреляция событий

* Последнее Dynatrace
* Объяснение
* 9-минутное чтение
* Обновлено 28 января 2026 г.

События представляют собой различные типы единичных аномалий, такие как превышение порога метрики, ухудшение базовой линии или события в определенный момент времени, такие как крах процесса. Dynatrace также обнаруживает и обрабатывает информационные события, такие как новые развертывания программного обеспечения, изменения конфигурации и другие типы событий.

Dynatrace принимает и хранит события из нескольких источников. Эти события могут запускать анализ коренной причины, автоматизацию или служить сырыми данными для панелей мониторинга и отчетов. Вместе с журналами, метриками и трассами события обеспечивают ввод для анализа коренной причины и воздействия.

## Корреляция событий

Корреляция событий автоматизирует анализ потока отдельных событий, поступающих из тысяч различных источников и инструментов. Она поддерживает события, поступающие из OneAgent, внешних инструментов оповещения, облачных платформ и сотен интеграций наблюдаемости, доступных через Dynatrace Hub.

Цель корреляции событий - извлечь проблемы из входящих событий и получить действенные идеи, позволяющие вашим командам быстро устранять инциденты.

## Обработка и анализ событий

Обработка и анализ событий в Dynatrace - это многоступенчатый процесс, который, из входящих событий, выявляет проблемы, показывая коренную причину и бизнес-воздействие. Он включает следующие шаги:

* [Принятие](#ingest)
* [Нормализация](#normalization)
* [Создание топологии](#topology-creation)
* [Агрегация](#aggregation)
* [Удаление дубликатов](#deduplication)

![Принятие событий](https://dt-cdn.net/images/event-ingest-1624-fe34b0377c.png)

### Принятие событий

Как платформа полной наблюдаемости, Dynatrace предлагает широкий спектр источников событий, включая OneAgent, встроенные интеграции и принятие из инструментов третьих сторон. Для получения дополнительной информации см. [Принятие данных](https://dt-url.net/d003q22).
Последнее Dynatrace также предлагает OpenPipeline для ваших целей принятия. Для получения дополнительной информации см. [OpenPipeline](/docs/platform/openpipeline "Масштабируйте обработку данных платформы Dynatrace с помощью Dynatrace OpenPipeline.").

### Нормализация событий

Нормализация событий преобразует все принятые события в один семантический формат, который позволяет Dynatrace Intelligence причинно-следственному ИИ коррелировать эти данные.

При нормализации событий оцениваются базовые ограничения свойств событий, чтобы убедиться, например, что:

* Время создания события действительно
* Тип события действителен
* Имена свойств событий уникальны

Нормализация также гарантирует, что входящие свойства событий правильно сопоставлены со Словарем семантики Dynatrace.

Если источник события присоединил ссылки на существующие сущности, нормализация гарантирует, что эти ссылки правильно сопоставлены с вашей топологией Smartscape.

### Создание топологии

[Топология Smartscape](/docs/analyze-explore-automate/smartscape-classic "Узнайте, как Smartscape Classic визуализирует все сущности и зависимости в вашей среде.") - это реальное представление всех причинно-следственных отношений в работающей программной среде, включая информацию о развертывании, а также высокодинамичные отношения трассировки. Топология автоматически создается и обновляется из принятых данных, таких как метрики, события, журналы и трассы.

Все встроенные технологические поддержки в Dynatrace поставляются с автоматическими возможностями создания топологии - вам не нужно ничего настраивать вручную. Кроме того, вы можете использовать настраиваемое извлечение топологии, чтобы автоматически создать топологию и отношения из принятых данных, таких как события. Настройка создания топологии работает независимо от OneAgent и не требует запущенного экземпляра OneAgent. Вы можете легко реализовать свои собственные доменные модели на основе принятых данных.

Чтобы узнать, как реализовать настраиваемую модель топологии, см. [Настраиваемая модель топологии](/docs/ingest-from/extend-dynatrace/extend-topology "Обеспечьте, чтобы все входящие наблюдения были контекстно-богатыми и анализировались в контексте контролируемых сущностей, к которым они относятся.").

### Агрегация

Агрегация собирает и маршрутизирует все входящие данные из различных источников в одно место. Например, она объединяет события, журналы, метрики и трассы рабочей нагрузки Kubernetes и представляет их в одном месте, связанном с рабочей нагрузкой.

Dynatrace агрегирует данные поверх динамически созданной топологии. Каждая наблюдаемая сущность имеет специальную страницу сущности, суммирующую все собранные данные в одном месте, обеспечивая последовательный вид данных из нескольких источников.

Кроме того, топология позволяет динамически перечислять все связанные сущности в этом представлении. Например, хост может показать список дисков, сетевых интерфейсов и экземпляров групп процессов, работающих на хосте.

### Удаление дубликатов

Удаление дубликатов пытается сгруппировать несколько событий в единую проблему, где все события имеют одну и ту же коренную причину. Например, один неудачный бэкенд-сервис может вызвать hundreds апстрим-сервисов, сообщающих о событиях нарушения. Удаление дубликатов автоматически группирует все эти события в одну проблему. По умолчанию Dynatrace удаляет дубликаты событий по источнику, во времени и по причинно-следственной топологии.

#### Удаление дубликатов по источнику события

При удалении дубликатов по источнику события события группируются, когда они имеют один и тот же семантический тип и исходят из одного и того же источника. (Примечание: "источник" здесь означает контролируемую сущность, сообщающую о событии, а не инструмент, который захватил событие).

Изображение ниже показывает пример, где три разных инструмента сообщают о трех событиях семантического типа **насыщения ЦП** из одного и того же источника (**Сервер-23**) в одно и то же время. В этом случае причинно-следственный ИИ удаляет дубликаты всех трех событий в одну проблему. Та же логика применяется ко всем типам сущностей в Dynatrace.

![Удаление дубликатов событий по источнику](https://dt-cdn.net/images/event-deduplication-source-606-42cfeaeb29.png)

#### Удаление дубликатов во времени

При удалении дубликатов во времени события группируются, когда они имеют один и тот же тип и исходят из одного и того же источника, но имеют немного разные времена начала.

Обнаружение аномалий Dynatrace предлагает 3-из-5-минутное окно наблюдения, чтобы сохранить события активными во время обнаруженных аномалий. Окно наблюдения предотвращает шум от нескольких отдельных событий в случае колебания аномалии. Вы можете адаптировать чувствительность окна наблюдения. Увеличение чувствительности производит больше шума, уменьшение приводит к событиям, которые остаются открытыми в течение более длительного времени. Удаление дубликатов во времени еще больше уменьшает шум событий, группируя одни и те же события нарушения в одну проблему.

Изображение ниже показывает пример, в котором три события **насыщения ЦП** колеблются во времени. Причинно-следственный ИИ удаляет дубликаты их в одну проблему.

![Удаление дубликатов событий во времени](https://dt-cdn.net/images/event-deduplication-time-606-d002576297.png)

#### Удаление дубликатов по причинно-следственной топологии

При удалении дубликатов по причинно-следственной топологии события группируются, если они были сообщены для одной и той же ситуации. "Одна и та же ситуация" здесь означает, что все источники событий являются частью причинно-следственной графа внутри топологии Smartscape. Причинно-следственный граф может включать вертикальный стек программного обеспечения или горизонтальные отношения между сервисами.

Изображение ниже показывает пример, где фронтенд-сервис直接 и косвенно вызывает три других сервиса. Все эти сервисы показывают событие замедления примерно в одно и то же время. Причинно-следственный ИИ анализирует причинно-следственную топологию этих четырех сервисов и заключает, что четыре события принадлежат одной и той же аномалии, поэтому причинно-следственный ИИ группирует четыре события в одну проблему.

![Удаление дубликатов событий по топологии](https://dt-cdn.net/images/event-deduplication-topology-606-eca1a0f402.png)

Примечание, что причинно-следственная топология может охватывать сотни сущностей, где их события варьируются во времени из-за индивидуальных окон наблюдения и ситуации с нагрузкой.

Удаление дубликатов событий на основе причинно-следственной топологии - это высокоразвитый процесс, который, из-за своей природы, уже принадлежит к шагу [анализа коренной причины](#root-cause).

### Настройка корреляции событий

Хотя корреляция и удаление дубликатов событий полностью автоматизированы, некоторые случаи использования требуют более тонкого контроля удаления дубликатов. Чтобы достичь этого, вы можете использовать свойства управления событиями, принятых Dynatrace Intelligence. Например, **dt.event.allow_davis_merge** определяет, может ли Dynatrace Intelligence объединить события в более крупную проблему. Такие свойства агностичны к каналу принятия. См. список доступных свойств ниже.

Кроме того, обработка событий может быть подвержена влиянию отправителя события или источника с помощью поля `event.davis`, определенного в Словаре семантики. Для получения дополнительной информации см. [Словарь семантики](/docs/semantic-dictionary/model/davis#davis-ai-events "Узнайте о моделях Словаря семантики, связанных с Davis AI.").

## Анализ коренной причины

Анализ коренной причины автоматически оценивает всю захваченную и ингестируемую информацию и выделяет сущности внутри причинно-следственной топологии, определенные как коренная причина сложной ситуации.

Во время анализа причинно-следственный ИИ проходит через причинно-следственную топологию, посещает каждую затронутую сущность и оценивает все результаты, такие как события и их уровни тяжести. Кроме того, обнаружение коренной причины Dynatrace Intelligence запускает анализы метрик из затронутых сущностей для выявления аномального поведения путем автоматического обнаружения точек изменения метрик.

Обнаружение точек изменения метрик не только подтверждает или отклоняет события на основе метрик, но также обнаруживает дополнительные неизвестные метрики без активного пользовательского оповещения.

После того, как все связанные проблемы будут выявлены, алгоритм ранжирования определяет наиболее высокий кандидат на коренную причину. Сущность с наивысшим ранжированием, вместе с ее вертикальным стеком, представляется как коренная причина проблемы.

Различия в анализе коренной причины между предыдущей Dynatrace и последней Dynatrace

В последней Dynatrace проблема Davis в Grail может в некоторых случаях иметь больше затронутых сущностей по сравнению с соответствующей проблемой в предыдущей Dynatrace. Этот текущий подход обеспечивает более подробное и точное представление о влиянии проблемы.

* В предыдущей Dynatrace, во время анализа коренной причины, любые результаты обнаружения точек изменения на сущностях без событий не рассматривались как затронутая сущность.
* В последней Dynatrace, все результаты обнаружения точек изменения ингестируются в Grail как события Davis.

Эта разница может стать очевидной, например, при сравнении результатов плитки здоровья в Dashboards Classic с соответствующими результатами в последней Dynatrace.

## Влияние на бизнес

Помимо определения коренной причины проблемы, Dynatrace Intelligence проходит через причинно-следственную графу в обратном направлении, чтобы найти все затронутые точки входа приложений и сервисов. Эти точки входа также являются частью затронутой топологии и являются точками соприкосновения с реальным пользовательским опытом.

Анализ влияния на бизнес показывает количество потенциально затронутых реальных пользователей (собранных из входящих трасс), количество трасс и их конечных точек сервиса. Он также обеспечивает статистическую оценку того, насколько сильно отдельные конечные точки и действия пользователей затронуты проблемой.