---
title: Сезонная базовая линия
source: https://www.dynatrace.com/docs/dynatrace-intelligence/reference/ai-models/seasonal-baseline
scraped: 2026-03-01T21:16:13.020379
---

# Сезонная базовая линия

# Сезонная базовая линия

* Последнее Dynatrace
* Объяснение
* 5-минутное чтение
* Обновлено 28 января 2026 г.

Сезонная базовая линия представляет собой динамический подход к базовой линии, где системы имеют разные сезонные закономерности. Примером сезонной закономерности является метрика, которая увеличивается в часы работы и остается низкой вне их. В таком случае сложно настроить конфигурацию оповещения на основе статического или автоадаптивного порога. Если вы установите фиксированный порог на основе поведения в часы работы, вы пропустите аномалию вне часов работы. Dynatrace Intelligence **изучает сезонное поведение** ваших метрик и автоматически создает доверительный интервал для него.

Когда конфигурация события метрики включает несколько сущностей, каждая сущность получает свою собственную сезонную базовую линию, и каждая базовая линия оценивается независимо. Например, если область действия события включает пять сервисов, Dynatrace рассчитывает и оценивает пять независимых базовых линий.

## Пример базовой линии

В этом примере мы рассматриваем количество действий пользователей в приложении. Реальные взаимодействия пользователей часто следуют сезонности часов работы и выходных, и наш временной ряд также показывает ежедневные пики.

Когда оценивается статическим порогом, эти ежедневные пики приводят к ложным положительным сигналам тревоги (красная аннотация на графике).

![Статический порог обнаружения аномалий, производящий ложные положительные сигналы тревоги в случае сезонного поведения временного ряда.](https://dt-cdn.net/images/notebook-static-threshold-anomalies-1920-b17476b1bd.png)

Dynatrace Intelligence автоматически обнаруживает сезонное поведение во временном ряде и создает доверительный интервал на основе этой закономерности. Как вы можете видеть на графике ниже, модель распознает сезонность и не генерирует ложные сигналы тревоги на пиках. Однако она все равно сработает, если на другой момент произойдет скачок.

![Сезонная модель обнаружения аномалий правильно следует сезонному поведению временного ряда и избегает ложных положительных сигналов тревоги.](https://dt-cdn.net/images/notebooks-seasonal-baseline-1920-c6aa3be336.png)

## Параметры модели базовой линии

Модель сезонной базовой линии использует значения метрик за каждую минуту за последние **14 дней** в качестве эталона для расчета базовой линии. Модель изучает обычное поведение метрики и стремится обнаружить регулярно повторяющиеся закономерности. Она использует **вероятностное прогнозирование** для расчета доверительного интервала, который охватывает ожидаемый диапазон будущей точки.

Вы можете адаптировать ширину доверительного интервала с помощью параметра **допустимой погрешности**. Более высокая допустимая погрешность означает более широкий доверительный интервал, что приводит к меньшему количеству срабатываний событий. Допустимый диапазон для допустимой погрешности составляет от `0,1` до `10`, с `4` в качестве значения по умолчанию.

Как следует из названия, сезонная модель полезна для данных с сезонными закономерностями (например, ежедневными пиками). Поскольку она потребляет значительные ресурсы и требует больше времени для изучения поведения, существуют некоторые проверки для обеспечения оптимальной производительности. [Валидация](#training) оценивает каждую пару (уникальные комбинации метрики—размерности—значения размерности). Если проверка не проходит, используется простая модель, и соответствующее сообщение появляется в предварительном просмотре.

Простая модель рассчитывает доверительный интервал на основе прочной оценки распределения входных данных и его рассчитанный интервал остается постоянным во времени. Для простой модели параметр **допустимой погрешности** контролирует ширину доверительного интервала таким же образом, как и для сезонной модели.

Если **границы метрик** (минимальное или максимальное значение метрики) установлены в метаданных метрики, они автоматически учитываются в модели. Если границы метрик не установлены и входные данные содержат только положительные значения, модель автоматически устанавливает минимальное значение границы `0`. Если найдено минимальное или максимальное значение, доверительный интервал не превышает это значение.

Модель (сезонная или простая) обновляется ежедневно.

Другим важным параметром для сезонных базовых линий является [скользящее окно](/docs/dynatrace-intelligence/anomaly-detection/anomaly-detection-configuration#sliding-window "Как настроить оповещение для пропущенных измерений.") , которое используется для сравнения текущих измерений с доверительным интервалом. Оно определяет, как часто доверительный интервал должен быть нарушен в течение скользящего окна времени, чтобы сработать событие (нарушения не должны быть последовательными). Этот подход помогает уменьшить количество ложных положительных сигналов тревоги. Вы можете установить скользящее окно до максимума 60 минут.

## Обучение модели базовой линии

Модель сезонной базовой линии использует значения метрик за каждую минуту за последние 14 дней для обучения и обучается по паре (уникальные комбинации метрики—размерности—значения размерности). Обучение происходит ежедневно.

Изображение ниже дает обзор процесса обучения.

![Обзор обучения модели сезонной базовой линии](https://dt-cdn.net/images/seasonal-baseline-model-training-1187-8bd05de831.png)

Первый шаг, **валидация данных**, гарантирует, что обучение сезонной модели на данных метрик является разумным. Вот некоторые причины для перехода на простую модель:

* данные имеют много пропущенных значений
* данные имеют много выбросов
* в данных не достаточно вариативности
* в данных не обнаруживается сезонность.

Если эта проверка не проходит, используется **простая модель**. Если проверка проходит успешно, следующим шагом является **предварительная обработка входных данных**. На этом этапе данные готовятся для обучения модели квантильной регрессии, которая изучает сезонное поведение из трех основных характеристик (фич) данных:

* **авторегрессивные фичи** — это десять последних исторических точек данных (маленькие пробелы интерполируются)
* **фичи времени и дня** идентифицируют день или определенное время дня, которое может помочь изучить закономерность, возникающую только в определенное время
* **робустные сезонные закономерности** описывают регулярно повторяющиеся закономерности, извлеченные с помощью преобразования Фурье.

Эти фичи используются для обучения **модели квантильной регрессии**, вероятностной регрессионной модели, которая устойчива к выбросам благодаря оценке квантилей.

Следующий шаг — **валидация модели**, которая проверяет надежность прогнозированных квантилей на подмножестве данных. Если эта проверка не проходит, используется **простая модель**.

После завершения обучения Dynatrace использует сезонную модель для обнаружения аномалий. Каждую минуту модель производит **одношаговый прогноз** доверительного интервала для следующей минуты. Как только фактическая точка данных прибывает, прогнозируемый доверительный интервал сравнивается с фактическим значением, чтобы проверить, находится ли значение в пределах прогнозируемого интервала.

## Связанные темы

* [Метрики Classic](/docs/analyze-explore-automate/metrics-classic "Узнайте о метриках Classic, которые Dynatrace предлагает.")