---
title: Dynatrace Platform Subscription API - управление распределением затрат
source: https://www.dynatrace.com/docs/dynatrace-api/account-management-api/dynatrace-platform-subscription-api/cost-allocation/manage-cost-allocation
scraped: 2026-02-24T21:33:39.808779
---

# Dynatrace Platform Subscription API - управление распределением затрат

# Dynatrace Platform Subscription API - управление распределением затрат

* Latest Dynatrace
* Reference
* Published Oct 18, 2024

Функция распределения затрат Dynatrace включает в себя два поля для центров затрат и продуктов. Вы можете использовать одно или оба поля. Эти поля отражают структуру распределения затрат вашей компании, что позволяет вам разработать две различные перспективы: одну на основе ваших центров затрат (например, отделов) и другую на основе ваших продуктов или услуг (например, Applicationname или ApplicationID). Конечно, вы можете настроить использование этих полей в соответствии с организационной структурой вашей компании.

Используйте Dynatrace Platform Subscription API, чтобы управлять вашими продуктами и центрами затрат в крупном масштабе.

## GET центры затрат

Отображает все определенные центры затрат.

Запрос производит полезную нагрузку `application/json`.

### Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить область **Allow read access for usage and consumption resources** (`account-uac-read`) вашему токену. Чтобы узнать, как получить и использовать его, см. [OAuth-клиенты](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью OAuth-клиентов.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **OAuth-клиенты** во время создания OAuth-клиента. | path | Обязательный |
| page | number | Номер запрошенной страницы. Можно увеличивать до тех пор, пока **hasNextPage** равен true в ответе. | query | Необязательный |
| page-size | number | Определяет количество запрошенных записей для следующей страницы. | query | Необязательный |

### Ответ

### Код ответа

| Код | Тип | Описание |
| --- | --- | --- |
| **200** | [PaginatedFieldValueDto](#openapi-definition-PaginatedFieldValueDto) | Успех. Ответ содержит страницу разрешенных значений распределения затрат для поля центра затрат. |
| **400** | - | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | - | Не предоставлена действительная сессия |
| **403** | - | Доступ запрещен |
| **500** | - | Что-то пошло не так на стороне управления учетной записью |

### Объекты ответа

#### Объект `PaginatedFieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| records | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Записи на текущей странице. |
| hasNextPage | boolean | Указывает, есть ли еще страница для загрузки. |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| key | string | Ключ этого значения. |

### Модель ответа JSON

```
{



"records": [



{



"key": "string"



}



],



"hasNextPage": true



}
```

## POST центры затрат

Добавляет указанное значение в поле центра затрат.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Allow write access for usage and consumption resources** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [OAuth-клиенты](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью OAuth-клиентов.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **OAuth-клиенты** во время создания OAuth-клиента. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не содержит тела. Значения были добавлены в поле. |
| **400** | Существующие и предоставленные значения в совокупности не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## PUT центры затрат

Заменяет текущие значения поля центра затрат.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Allow write access for usage and consumption resources** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [OAuth-клиенты](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью OAuth-клиентов.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **OAuth-клиенты** во время создания OAuth-клиента. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не содержит тела. Значения поля были заменены. |
| **400** | Предоставленные значения не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## DELETE центры затрат

Удаляет значение по ключу в поле центра затрат.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Allow write access for usage and consumption resources** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [OAuth-клиенты](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью OAuth-клиентов.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **OAuth-клиенты** во время создания OAuth-клиента. | path | Обязательный |
| key | string | Ключ для значения поля. | path | Обязательный |

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Указанное значение в поле центра затрат было удалено. |
| **400** | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## GET продукты

Отображает все определенные продукты.

Запрос производит полезную нагрузку `application/json`.

### Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить область **Allow read access for usage and consumption resources** (`account-uac-read`) вашему токену. Чтобы узнать, как получить и использовать его, см. [OAuth-клиенты](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью OAuth-клиентов.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **OAuth-клиенты** во время создания OAuth-клиента. | path | Обязательный |
| page | number | Номер запрошенной страницы. Можно увеличивать до тех пор, пока **hasNextPage** равен true в ответе. | query | Необязательный |
| page-size | number | Определяет количество запрошенных записей для следующей страницы. | query | Необязательный |

### Ответ

### Код ответа

| Код | Тип | Описание |
| --- | --- | --- |
| **200** | [PaginatedFieldValueDto](#openapi-definition-PaginatedFieldValueDto) | Успех. Ответ содержит страницу разрешенных значений распределения затрат для поля продукта. |
| **400** | - | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | - | Не предоставлена действительная сессия |
| **403** | - | Доступ запрещен |
| **500** | - | Что-то пошло не так на стороне управления учетной записью |

### Объекты ответа

#### Объект `PaginatedFieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| records | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Записи на текущей странице. |
| hasNextPage | boolean | Указывает, есть ли еще страница для загрузки. |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| key | string | Ключ этого значения. |

### Модели тела ответа JSON

```
{



"records": [



{



"key": "string"



)



],



"hasNextPage": true



}
```

## POST products

Добавляет указанное значение в поле продукта.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо иметь разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) в вашем токене. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор требуемой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth** во время создания клиента OAuth. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель тела запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



)



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения были добавлены в поле. |
| **400** | Существующие и предоставленные значения в совокупности не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## PUT products

Замените текущие значения поля продукта.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо иметь разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) в вашем токене. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор требуемой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth** во время создания клиента OAuth. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель тела запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



)



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения поля были заменены. |
| **400** | Предоставленные значения не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## DELETE products

Удалить значение по ключу в поле продукта.

Запрос производит полезную нагрузку `application/json`.

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо иметь разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) в вашем токене. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор требуемой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth** во время создания клиента OAuth. | path | Обязательный |
| key | string | Ключ для значения поля. | path | Обязательный |

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Указанное значение в поле продукта было удалено. |
| **400** | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## Связанные темы

* [Распределите ваши затраты DPS](/docs/license/cost-allocation "Узнайте, как распределить затраты на центры затрат и продукты.")