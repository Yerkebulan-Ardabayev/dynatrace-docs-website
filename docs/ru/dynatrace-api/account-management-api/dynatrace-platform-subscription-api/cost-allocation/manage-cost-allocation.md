---
title: Dynatrace Платформа Подписки API - управление распределением затрат
source: https://www.dynatrace.com/docs/dynatrace-api/account-management-api/dynatrace-platform-subscription-api/cost-allocation/manage-cost-allocation
scraped: 2026-02-23T21:36:32.701272
---

# Dynatrace Платформа Подписки API - управление распределением затрат

# Dynatrace Платформа Подписки API - управление распределением затрат

* Последнее Dynatrace
* Справка
* Опубликовано 18 октября 2024 г.

Функция распределения затрат Dynatrace включает два поля для центров затрат и продуктов. Вы можете использовать одно или оба поля. Эти поля отражают структуру распределения затрат вашей компании, что позволяет вам развивать две разные перспективы: одну на основе ваших центров затрат (например, отделов) и другую на основе ваших продуктов или услуг (например, Applicationname или ApplicationID). Конечно, вы можете настроить использование этих полей в соответствии с организационной структурой вашей компании.

Используйте Dynatrace Платформу Подписки API, чтобы управлять вашими продуктами и центрами затрат в большом масштабе.

## GET центры затрат

Отображает все определенные центры затрат.

Запрос производит полезную нагрузку `application/json`.

GET

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/costcenters`

### Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить область **Разрешить чтение для ресурсов использования и потребления** (`account-uac-read`) вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | строка | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | путь | Обязательный |
| page | число | Номер запрошенной страницы. Можно увеличивать, пока **hasNextPage** равен true в ответе. | запрос | Необязательный |
| page-size | число | Определяет количество запрошенных записей для следующей страницы. | запрос | Необязательный |

### Ответ

### Код ответа

| Код | Тип | Описание |
| --- | --- | --- |
| **200** | [PaginatedFieldValueDto](#openapi-definition-PaginatedFieldValueDto) | Успех. Ответ содержит страницу разрешенных значений распределения затрат для поля costcenter. |
| **400** | - | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | - | Нет действительной сессии |
| **403** | - | Доступ запрещен |
| **500** | - | Что-то пошло не так на стороне Управления учетной записью |

### Объекты тела ответа

#### Объект `PaginatedFieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| records | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Записи на текущей странице. |
| hasNextPage | логический | Указывает, есть ли другая страница для загрузки. |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| key | строка | Ключ этого значения. |

### Тело ответа JSON модели

```
{



"records": [



{



"key": "строка"



}



],



"hasNextPage": true



}
```

## POST центры затрат

Добавьте предоставленное значение в поле центра затрат.

Запрос производит полезную нагрузку `application/json`.

POST

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/costcenters`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | строка | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | путь | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | тело | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | строка | Ключ этого значения. | Обязательный |

### Тело запроса JSON модель

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "строка"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения были добавлены в поле. |
| **400** | Существующие и предоставленные значения в совокупности не должны содержать дубликаты ключей. |
| **401** | Нет действительной сессии |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне Управления учетной записью |

## PUT центры затрат

Замените текущие значения поля центра затрат.

Запрос производит полезную нагрузку `application/json`.

PUT

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/costcenters`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | строка | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | путь | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | тело | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | строка | Ключ этого значения. | Обязательный |

### Тело запроса JSON модель

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "строка"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения поля были заменены. |
| **400** | Предоставленные значения не должны содержать дубликаты ключей. |
| **401** | Нет действительной сессии |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне Управления учетной записью |

## DELETE центры затрат

Удалите значение по ключу в поле центра затрат.

Запрос производит полезную нагрузку `application/json`.

DELETE

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/costcenters/{key}`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | строка | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | путь | Обязательный |
| key | строка | Ключ значения поля. | путь | Обязательный |

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Указанное значение в поле costcenter было удалено. |
| **400** | Запрос был неприемлемым, часто из-за отсутствия обязательного параметра |
| **401** | Нет действительной сессии |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне Управления учетной записью |

## GET продукты

Отображает все определенные продукты.

Запрос производит полезную нагрузку `application/json`.

GET

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/products`

### Аутентификация

Чтобы выполнить этот запрос, вам необходимо назначить область **Разрешить чтение для ресурсов использования и потребления** (`account-uac-read`) вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | строка | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Идентификация и управление доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | путь | Обязательный |
| page | число | Номер запрошенной страницы. Можно увеличивать, пока **hasNextPage** равен true в ответе. | запрос | Необязательный |
| page-size | число | Определяет количество запрошенных записей для следующей страницы. | запрос | Необязательный |

### Ответ

### Код ответа

| Код | Тип | Описание |
| --- | --- | --- |
| **200** | [PaginatedFieldValueDto](#openapi-definition-PaginatedFieldValueDto) | Успех. Ответ содержит страницу разрешенных значений распределения затрат для поля продукта. |
| **400** | - | Запрос был недопустим, часто из-за отсутствия обязательного параметра |
| **401** | - | Не предоставлена действительная сессия |
| **403** | - | Доступ запрещен |
| **500** | - | Что-то пошло не так на стороне управления учетной записью |

### Объекты тела ответа

#### Объект `PaginatedFieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| records | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Записи на текущей странице. |
| hasNextPage | boolean | Указывает, есть ли еще страница для загрузки. |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание |
| --- | --- | --- |
| key | string | Ключ этого значения. |

### Модели тела ответа JSON

```
{



"records": [



{



"key": "string"



}



],



"hasNextPage": true



}
```

## POST продукты

Добавьте предоставленное значение в поле продукта.

Запрос производит полезную нагрузку `application/json`.

POST

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/products`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) назначенное вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Управление идентификацией и доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель тела запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения были добавлены в поле. |
| **400** | Существующие и предоставленные значения, объединенные, не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## PUT продукты

Замените текущие значения поля продукта.

Запрос производит полезную нагрузку `application/json`.

PUT

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/products`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) назначенное вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Управление идентификацией и доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | path | Обязательный |
| body | [FieldValuesRequestDto](#openapi-definition-FieldValuesRequestDto) | - | body | Обязательный |

### Объекты тела запроса

#### Объект `FieldValuesRequestDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| values | [FieldValueDto[]](#openapi-definition-FieldValueDto) | Запрошенные значения. | Обязательный |

#### Объект `FieldValueDto`

| Элемент | Тип | Описание | Обязательный |
| --- | --- | --- | --- |
| key | string | Ключ этого значения. | Обязательный |

### Модель тела запроса JSON

Это модель тела запроса, показывающая возможные элементы. Ее необходимо скорректировать для использования в фактическом запросе.

```
{



"values": [



{



"key": "string"



}



]



}
```

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Ответ не имеет тела. Значения поля были заменены. |
| **400** | Предоставленные значения не должны содержать дублирующиеся ключи. |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## DELETE продукты

Удалите значение по ключу в поле продукта.

Запрос производит полезную нагрузку `application/json`.

DELETE

`https://api.dynatrace.com//v1/accounts/{accountUuid}/settings/products/{key}`

## Аутентификация

Чтобы выполнить этот запрос, вам необходимо разрешение **Разрешить запись для ресурсов использования и потребления** (`account-uac-write`) назначенное вашему токену. Чтобы узнать, как получить и использовать его, см. [Клиенты OAuth](/docs/manage/identity-access-management/access-tokens-and-oauth-clients/oauth-clients "Управление аутентификацией и разрешениями пользователей с помощью клиентов OAuth.").

### Параметры

| Параметр | Тип | Описание | В | Обязательный |
| --- | --- | --- | --- | --- |
| accountUuid | string | Идентификатор необходимой учетной записи.  Вы можете найти UUID на странице **Управление учетной записью** > **Управление идентификацией и доступом** > **Клиенты OAuth**, во время создания клиента OAuth. | path | Обязательный |
| key | string | Ключ для значения поля. | path | Обязательный |

### Ответ

### Код ответа

| Код | Описание |
| --- | --- |
| **204** | Значение в поле продукта было удалено. |
| **400** | Запрос был недопустим, часто из-за отсутствия обязательного параметра |
| **401** | Не предоставлена действительная сессия |
| **403** | Доступ запрещен |
| **500** | Что-то пошло не так на стороне управления учетной записью |

## Связанные темы

* [Распределите затраты DPS](/docs/license/cost-allocation "Узнайте, как распределить затраты на центры затрат и продукты.")