---
title: Обозреватель данных
source: https://www.dynatrace.com/docs/analyze-explore-automate/explorer
scraped: 2026-02-17T21:23:49.809763
---

# Обозреватель данных

# Обозреватель данных

* 7-минутное чтение
* Обновлено 03 октября 2025 г.

Обозреватель данных значительно расширяет ваши возможности запроса и визуализации метрик.

* Анализируйте многомерные метрики, будь то встроенные в Dynatrace или полученные из StatsD, Prometheus, Telegraf и других каналов.
* Выберите тип визуализации.
* Добавьте свою визуализацию прямо в классические панели мониторинга для простого доступа и обмена.
* Предоставляет основу для расчета метрик в визуализациях на классических панелях мониторинга.

Быстрый старт

Если вы предпочитаете пропустить технические детали на данный момент и учиться, делая, попробуйте [Быстрый старт Обозревателя данных](/docs/analyze-explore-automate/explorer/explorer-quick-start "Используя Обозреватель данных, создайте свой первый запрос, выберите визуализацию и прикрепите результаты к панели мониторинга."). Вы узнаете, как:

* Использовать шаблон
* Создать простую визуализацию с нуля
* Использовать визуализацию напрямую в Обозревателе данных
* Прикрепить визуализацию к панели мониторинга для будущего использования и обмена

Но если вы хотите получить детали сейчас, прочитайте ниже.

## Компоненты запроса и понятия

Каждый запрос метрики состоит из нескольких необязательных компонентов. Например, этот запрос:

![Пример запроса](https://dt-cdn.net/images/query-sample-1340-f8a8829de6.png)

имеет следующие компоненты:

* **Имя метрики:** `CPU usage %` (`builtin:host.cpu.usage`)
* **Агрегация:** `Average` (`avg`)
* **Разделить по:** `Host` (`dt.entity.host`)
* **Фильтровать по:** `Host`: `OS type`: `Linux`

см. ниже для описаний этих и других возможных компонентов запроса.

Редактор запроса помогает вам выбрать настройки запроса, совместимые с запросом, который вы настраиваете.

В примере ниже, если вы наведете курсор на иконку **i** (информация) в списке выбора для **Rate**, редактор объясняет, почему настройка недоступна для текущего запроса.

![Обозреватель данных: Редактор запроса: Информационный всплывающий](https://dt-cdn.net/images/info-rate-710-80bead2920.png)

### Имя метрики

В редакторе запроса выберите имя метрики из списка, отображаемого в поле **Выбрать метрику...**. Это может быть встроенная метрика или метрика, полученная из канала, такого как StatsD, Prometheus или Telegraf через нашу метрику API.

Чтобы выбрать метрику

* Вы можете ввести или вставить имя метрики напрямую в поле, чтобы найти все совпадающие метрики. В этом примере есть несколько совпадений. Мы выбираем метрику в категории Host, чтобы добавить ее в наш запрос.

  ![Обозреватель данных: Выбор метрики: ввод и выбор](https://dt-cdn.net/images/metric-selector-metric-type-471-10a8a83a2e.png)

* Если вы добавили в избранное какие-либо метрики в [Обозревателе метрик](/docs/analyze-explore-automate/dashboards-classic/metrics-browser "Просмотр метрик с помощью обозревателя метрик Dynatrace."), эти метрики отображаются в верхней части списка в выборе метрики.

  ![Обозреватель данных: Выбор метрики: избранное](https://dt-cdn.net/images/metric-selector-favorites-475-665c98b195.png)
* Вы можете выбрать категорию метрик, чтобы сосредоточить список метрик.

  ![Обозреватель данных: Выбор метрики: категории](https://dt-cdn.net/images/metric-selector-categories-476-5cbd27551a.png)

* Когда вы наведете курсор на любую метрику в списке, боковая панель отображает подробную информацию о этой метрике.

  ![Обозреватель данных: Выбор метрики: подробная информация о метрике](https://dt-cdn.net/images/metric-selector-metric-details-964-cd2f59a371.png)

  Чтобы увидеть больше информации о этой метрике, выберите **Просмотреть всю информацию о метрике**. Это открывает [Обозреватель метрик](/docs/analyze-explore-automate/dashboards-classic/metrics-browser "Просмотр метрик с помощью обозревателя метрик Dynatrace.") в новой вкладке (чтобы вы не потеряли свою работу в Обозревателе данных) с множеством полезных деталей о выбранной метрике.

### Пространственная агрегация

Пространственная агрегация позволяет вам указать, как должны быть agregированы результирующие данные запроса метрики по измерениям.

Запрос всегда предоставит статистически наиболее точные результаты для данного запроса, даже если некоторые метрики предоставляют разные статистики, что зависит от природы каждой метрики.

Чтобы изменить эту агрегацию, выберите одну из списка, следующего за именем метрики в редакторе запроса:

![Обозреватель данных: Редактор запроса: выбор пространственной агрегации](https://dt-cdn.net/images/aggregation-select-579-2c3184b61a.png)

Каждая метрика предоставляет те же возможные пространственные агрегации: `Auto`, `Average`, `Count`, `Maximum`, `Minimum`, `Sum`, `Median`, `Percentile 10th`, `Percentile 75th` и `Percentile 90th`.

### Разделить по

По умолчанию запрос не разделяется по каким-либо измерениям с помощью агрегации метрики. Когда вы разделяете по измерению, такое как хост, агрегация используется для каждого хоста.

Чтобы разделить по измерению

1. Если **Разделить по** не отображается в редакторе запроса, выберите  и затем выберите `Разделить по` из списка.
2. Установите **Разделить по** на измерение, по которому вы хотите разделить запрос.

#### Пример

Если метрика `CPU usage %`, `Host` — единственное доступное измерение. В **Разделить по** выберите `Host`.

### Сортировать по

По умолчанию результаты сортируются в порядке убывания на основе выбранной агрегации.

Чтобы установить порядок сортировки

1. Если **Сортировать по** не отображается в редакторе запроса, выберите  и затем выберите `Сортировать по` из списка.
2. Установите **Сортировать по** на измерение, по которому вы хотите сортировать.
3. Выберите порядок сортировки: `ASC` (по возрастанию) или `DESC` (по убыванию).

### Скорость

Чтобы установить скорость

1. Если **Скорость** не отображается в редакторе запроса, выберите  и затем выберите `Скорость` из списка.
2. Установите **Скорость** на `None`, `Per second`, `Per minute` или `Per hour`.

### Фильтровать по

Область определяется любым фильтром, который вы устанавливаете. По умолчанию область — `(включить все)`.

Чтобы отфильтровать запрос (изменить область)

1. Если **Фильтровать по** не отображается в редакторе запроса, выберите  и затем выберите `Фильтровать по` из списка.
2. В **Фильтровать по**:

   * Выберите доступное измерение
   * Укажите атрибут
   * Укажите значение атрибута

Вы можете добавить несколько фильтров.

#### Пример

Если метрика **Action count (by Apdex category) [web]** (`builtin:apps.web.actionCount.category`) и вы хотите отфильтровать для конкретного веб-приложения с именем `My web application`

1. Если **Фильтровать по** не отображается, отобразите его.
2. В **Фильтровать по** выберите `Web application`, затем выберите `Name`, и затем выберите `My web application`

см. также [Автоматически расширенный фильтр](#автоматически-расширенный-фильтр)

### Ограничение

По умолчанию количество метрик, которые вы видите, если они разделены по измерению, равно 20.

Чтобы установить явное ограничение

1. Если **Ограничение** не отображается в редакторе запроса, выберите  и затем выберите `Ограничение` из списка.
2. Установите **Ограничение** на `1`, `10`, `20` или `100`.

Чтобы удалить ограничение, включите **Расширенный режим** и удалите компонент `:limit(n)` запроса.

### Глобальное ограничение

**Глобальное ограничение** выравнивает записи по нескольким метрикам с одинаковой размерностью (**Разделить по** преобразование). Если **Глобальное ограничение** установлено для метрики, только записи, соответствующие измерениям этой метрики, включаются в результат.

**Глобальное ограничение** отображается автоматически, если выполнены все следующие условия:

* Выбрана визуализация **Таблица**.
* Добавлено не менее двух метрик в таблицу.
* Не менее двух метрик имеют одинаковое преобразование **Разделить по**.

Только одна метрика может быть помечена как **Глобальное ограничение**. Метрика, помеченная как **Глобальное ограничение**, переопределяет преобразование **Ограничение** для всех других метрик с одинаковым преобразованием **Разделить по**. В этом случае **Ограничение** для этих метрик будет отображаться как недоступное.

В **Расширенном режиме** **Глобальное ограничение** всегда отображается, независимо от условий.

### По умолчанию

Чтобы установить значение по умолчанию

1. Если **По умолчанию** не отображается в редакторе запроса, выберите  и затем выберите `По умолчанию` из списка.
2. Установите **По умолчанию** на желаемое значение по умолчанию.

### Сдвиг во времени

Чтобы установить значение сдвига во времени

1. Если **Сдвиг во времени** не отображается в редакторе запроса, выберите  и затем выберите `Сдвиг во времени` из списка.
2. Установите **Сдвиг во времени** на число (положительное или отрицательное).
3. Выберите единицу (секунда, минута, час, день, неделя) из соседнего списка.

#### Пример

Чтобы сдвинуть назад на две минуты:

1. Установите **Сдвиг во времени** на `-2`
2. Установите единицу на `минуту`

## Команды запроса

Используйте эти команды в редакторе запроса, чтобы выбрать компоненты запроса и установить значения.

### Визуализация

По умолчанию используется визуализация в виде графика. Чтобы изменить визуализацию, выберите одну из вариантов в верхнем левом углу определения запроса.

![Выбор визуализации](https://dt-cdn.net/images/visualization-select-285-c06615cee7.png)

Доступны следующие типы визуализаций:

* [График](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-graph "Настройте и используйте визуализацию графика в Data Explorer и прикрепите ее к вашим панелям управления в виде плитки графика.")
* [Столбчатая диаграмма](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-stacked-column "Настройте и используйте визуализацию столбчатой диаграммы в Data Explorer и отобразите ее на ваших панелях управления.")
* [Диаграмма площадей](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-stacked-area "Настройте и используйте визуализацию диаграммы площадей в Data Explorer и отобразите ее на ваших панелях управления.")
* [Круговая диаграмма](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-pie "Настройте и используйте визуализацию круговой диаграммы/торта в Data Explorer и отобразите ее на ваших панелях управления.")
* [Одиночное значение](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-single-value "Настройте и используйте визуализацию одиночного значения в Data Explorer и отобразите ее на ваших панелях управления.")
* [Таблица](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-table "Настройте и используйте визуализацию таблицы в Data Explorer и отобразите ее на ваших панелях управления.")
* [Список лучших](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-top-list "Настройте визуализацию списка лучших в Data Explorer и отобразите ее на ваших панелях управления.")
* [Тепловая карта](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-heatmap "Настройте и используйте визуализацию тепловой карты в Data Explorer и прикрепите ее к вашим панелям управления в виде плитки тепловой карты.")
* [Пчелиные соты](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-honeycomb "Настройте и используйте визуализацию пчелиных сот в Data Explorer и отобразите ее на ваших панелях управления.")

### Плюс

Чтобы добавить или удалить преобразования метрик для строки в редакторе запросов, выберите  и затем выберите или очистите флажки по мере необходимости.

![Кнопка Плюс метрики](https://dt-cdn.net/images/data-explorer-metric-plus-button-46-3104fd992d.png)

* **Все** — отображать все доступные поля (см. ниже)
* [По умолчанию](#default)
* [Фильтр по](#filter-by)
* [Ограничение](#limit)
* [Скорость](#rate)
* [Сортировка по](#sort-by)
* [Разделение по](#split-by)
* [Сдвиг во времени](#timeshift)

### Добавить метрику

Чтобы добавить новую пустую строку, выберите **Добавить метрику** и затем определите запрос для этой строки.

### Дублировать метрику

Чтобы создать копию метрики, которую вы уже добавили в запрос, выберите  > **Дублировать** и затем отредактируйте копию по мере необходимости.

![Меню Дополнительно для метрики ](https://dt-cdn.net/images/data-explorer-metric-more-menu-74-1b3f17af8b.png)

### Добавить событие метрики

Если вы видите что-то в диаграмме Data Explorer, что вы хотите продолжать наблюдать, легко создать событие метрики.

Чтобы создать событие метрики из Data Explorer

1. Выберите  > **Добавить событие метрики** в редакторе запросов.

   ![Меню Дополнительно для метрики ](https://dt-cdn.net/images/data-explorer-metric-more-menu-74-1b3f17af8b.png)

   Открывается страница **Настройки** > **Обнаружение аномалий** > **События метрик** в новом окне браузера (чтобы вы не потеряли свою работу в Data Explorer) с выбранным **Добавить событие метрики** и уже заполненными полями метрик, где это возможно, из вашего запроса.
2. Завершите определение события метрики и сохраните изменения.
3. Закройте это окно браузера и вернитесь в первое окно браузера, чтобы продолжить то, что вы делали в Data Explorer.

Для получения подробной информации о событиях метрик см. [События метрик](/docs/dynatrace-intelligence/anomaly-detection/metric-events "Узнайте о событиях метрик в Dynatrace").

### Переставить метрики

Порядок, в котором перечислены метрики в вашем запросе, влияет на следующее:

* Порядок отрисовки элементов рисунка: метрики запроса отрисовываются в порядке сверху вниз, поэтому последняя из них отрисовывается поверх остальных
* Порядок столбцов в визуализации таблицы
* Порядок отображения настроек в панели **Настройки**

Чтобы изменить порядок метрик в вашем запросе, выберите и перетащите метрику в новое положение в списке метрик.

![Перетащить метрику, чтобы переставить список](https://dt-cdn.net/images/data-explorer-drag-metric-69-84144c5cd2.png)

Перезапустите запрос, чтобы увидеть ваши изменения.

### Переключить метрику

Чтобы включить или выключить метрики, вы можете выбрать букву рядом с метрикой, которую вы хотите включить в ваш запрос, или выбрать иконку глаза .

![Data Explorer: Переключить метрику](https://dt-cdn.net/images/eye-toggle-metric-1238-d343b9cc0e.png)

### Удалить метрику

Чтобы удалить метрику, выберите  > **Удалить**.

![Меню Дополнительно для метрики ](https://dt-cdn.net/images/data-explorer-metric-more-menu-74-1b3f17af8b.png)

### Запустить запрос

Выберите **Запустить запрос**, чтобы запустить текущий конфигурированный запрос и отобразить визуализацию результатов. Текст рядом с кнопкой **Запустить запрос** отображает статус последнего запуска.

![Data Explorer: Статус запуска запроса](https://dt-cdn.net/images/query-run-status-596-20a651d897.png)

### Расширенный режим

Чтобы полностью использовать возможности запросов [Metrics API v2](/docs/dynatrace-api/environment-api/metric-v2 "Получить информацию о метриках через Metrics v2 API.") из веб-интерфейса, включите **Расширенный режим** для запроса.

![Расширенный режим: переключатель](https://dt-cdn.net/images/query-advanced-turn-on-185-dda5887b1a.png)

**Расширенный режим** позволяет создавать [выражения метрик](/docs/dynatrace-api/environment-api/metric-v2/metric-expressions "Используйте выражения метрик, чтобы применить арифметические операции в запросе данных через Metrics API v2."), сдвиги во времени и многое другое直接 в веб-интерфейсе и, конечно же, использовать эту силу, чтобы создать визуализации для ваших панелей управления. Начните с проверки [примеров выражений метрик](/docs/dynatrace-api/environment-api/metric-v2/metric-expressions#examples "Используйте выражения метрик, чтобы применить арифметические операции в запросе данных через Metrics API v2.").

Для получения подробной информации о **Расширенном режиме** см. [Редактор расширенного запроса Data Explorer](/docs/analyze-explore-automate/explorer/explorer-advanced-query-editor "Создайте расширенные запросы, используя редактор расширенного запроса Data Explorer").

## Базовые значения

Чтобы помочь вам выявить аномалии, вы можете использовать базовые значения, чтобы добавить полосу доверия к линии метрики на диаграмме. Затем вы можете увидеть, когда значение выходит за пределы полосы доверия.
Расчет базового значения основан на модели [Сезонное базовое значение](/docs/dynatrace-intelligence/reference/ai-models/seasonal-baseline "Как Dynatrace Intelligence предлагает пороговые значения сезонного базового значения для области сущностей.") которая используется для создания [событий метрик](/docs/dynatrace-intelligence/anomaly-detection/metric-events "Узнайте о событиях метрик в Dynatrace.") для обнаружения аномалий.

* Базовые значения применяются только к визуализации **График**.
* Базовые значения не добавляются к плитке панели управления, когда вы прикрепляете диаграмму к панели управления.
* Временной интервал, используемый для определения базового значения, определяется текущим разрешением:

  Диапазон разрешения

  Примеры разрешения

  Временной интервал базового значения

  разрешение < 5 минут

  + 1 минута

  **предыдущие 14 дней**

  5 минут ≤ разрешение < 1 час

  + 5 минут
  + 10 минут
  + 30 минут

  **предыдущие 28 дней**

  1 час ≤ разрешение < 1 день

  + 1 час
  + 6 часов
  + 12 часов

  **400 дней**

  разрешение ≥ 1 день

  + 1 день
  + 1 неделя
  + 1 месяц

  **5 лет**

### Добавить базовое значение

1. На графике выберите линию для метрики, которую вы хотите базировать.
2. В всплывающем окне выберите **Добавить базовое значение**.
3. Подождите немного, пока базовое значение будет рассчитано (`Loading`). Затем график перерисовывается с отображением базового значения для выбранной метрики.

### Скрыть или отобразить базовое значение

Базовые значения перечислены отдельно в легенде диаграммы. Например, если вы добавите базовое значение к метрике `CPU usage %` в визуализации **График**, легенда перечисляет `CPU usage %` и `CPU usage % - базовое значение`. Выберите записи легенды, чтобы переключить их отображение на или выключить.

### Удалить базовое значение

1. На графике выберите линию для метрики, от которой вы хотите удалить базовое значение.
2. В всплывающем окне выберите **Удалить базовое значение**. График перерисовывается с удаленным базовым значением.

### Сравнение с базовыми значениями событий метрик

Вы можете заметить различия между базовыми значениями в Data Explorer и событиями метрик. Эти функции предлагают разные подходы, подходящие для их разных контекстов. В целом, конфигурация Data Explorer фиксирована, а конфигурация событий метрик настраиваема.

**Data Explorer**

**События метрик**

**Примеры**

`5`

Настроить

**Примеры нарушения**

`3`

Настроить

**Примеры снятия сигнала**

`5`

Настроить

**Сигнал при отсутствии данных**

`false`

Настроить

**Толерантность** (влияет на ширину полосы доверия)

`4`

Настроить (диапазон: `0.1` до `10`)

**Разрешение** (влияет на детализацию)

Настроить

`1` минута

**Время обучения**

Мгновенное

Ежедневное

Для получения подробной информации о сезонном базовом значении см. [Сезонное базовое значение](/docs/dynatrace-intelligence/reference/ai-models/seasonal-baseline "Как Dynatrace Intelligence предлагает пороговые значения сезонного базового значения для области сущностей.").

### Часто задаваемые вопросы о базовых значениях

# Как рассчитывается базовая линия?

Расчет базовой линии основан на сезонной модели базовой линии, используемой для создания [событий метрик](/docs/dynatrace-intelligence/anomaly-detection/metric-events "Узнайте о событиях метрик в Dynatrace") для обнаружения аномалий. Для получения подробной информации о внутренней работе модели см. [Сезонная базовая линия](/docs/dynatrace-intelligence/reference/ai-models/seasonal-baseline "Как Dynatrace Intelligence предлагает пороги сезонной базовой линии для области сущностей.").

# Почему базовая линия отличается от предварительного просмотра сезонной базовой линии модели?

Хотя модель базовой линии основана на [сезонной базовой линии](/docs/dynatrace-intelligence/reference/ai-models/seasonal-baseline "Как Dynatrace Intelligence предлагает пороги сезонной базовой линии для области сущностей."), есть несколько причин, почему результирующие базовые линии могут различаться:

* **Разрешение**: Базовая линия в Data Explorer получается из данных в зависимости от текущего выбранного разрешения, как описано выше. Сезонная базовая линия модели событий метрик всегда учитывает поведение из данных с разрешением 1 минута. Если разрешения различаются, результирующая базовая линия различается, поскольку значения метрик также различаются.
* **Временной интервал базовой линии**: Временной интервал, используемый для определения базовой линии, определяется текущим выбранным разрешением, как описано выше. Поскольку конфигурации событий метрик всегда используют данные с разрешением 1 минута, временной интервал обучения может различаться, что также может привести к различным базовым линиям.
* **Параметры модели**: Базовая линия в Data Explorer использует фиксированные параметры по умолчанию для обучения модели базовой линии:
  + Толерантность = 4
  + Условие оповещения = 'Оповещать, если метрика находится вне'
  + Без оповещения о пропущенных данных
    Если параметры различаются в конфигурации события метрики, результирующая базовая линия может различаться.

## Коррелированные метрики

Dynatrace Davis учитывает доменное знание и топологию при вычислении связанных сигналов наблюдаемости. Davis ранжирует наиболее релевантные сигналы вверху, а балл Davis для каждого обнаруженного сигнала указывает, насколько близко сигнал соответствует поведению сигнала-эталона в течение выбранного временного интервала. [Больше о Davis](/docs/dynatrace-intelligence "Ознакомьтесь с возможностями Dynatrace Intelligence.").

### Добавление коррелированных метрик

Обратите внимание, что эта опция доступна только если вы **Разделили** запрос по размеру.

1. Перейдите в **Data Explorer** (стандартный или расширенный режим), создайте запрос серии метрик, разделенной по связанному размеру, и отобразите его в визуализации `График`.
   
   Коррелированные метрики доступны *только*, если вы:
   
   * Выберите визуализацию `График`
   * Укажите запрос, который **Разделен** по размеру, связанному с выбранной серией данных

   Попробуйте этот пример:
   
   ![Коррелированные метрики: запрос: стандартный режим](https://dt-cdn.net/images/query-cpu-usage-1217-d0a8083c84.png)
   
   Это выглядит так в **Расширенном режиме**:
   
   ![Коррелированные метрики: запрос: расширенный режим](https://dt-cdn.net/images/query-cpu-usage-advanced-mode-1220-9fb8efd9b1.png)
   
   ```
   builtin:host.cpu.usage:splitBy("dt.entity.host"):sort(value(auto,descending)):limit(20)
   ```
2. Выберите **Выполнить запрос**, чтобы построить график запроса.
3. Выберите (нажмите на) линию на графике, чтобы отобразить всплывающее окно связанных опций.
4. В всплывающем окне выберите **Посмотреть коррелированные метрики**.

   Панель **Davis для корреляционного анализа** перечисляет метрики, которые, на основе анализа корреляции Davis AI, коррелируют с выбранной серией. Эта корреляция определяется формой серии, а не значениями.

   Что отображает анализатор?

   * **Сигнал-эталон** представляет собой серию данных, которую вы выбрали на графике. Формы других серий метрик сравниваются с формой этой серии.
   * **Связанные сигналы** — это другие серии метрик, которые имеют подобную форму, отсортированные от наиболее подобной до наименее подобной. Чем более подобна форма, тем ближе корреляция.

     Для каждой коррелированной метрики анализатор отображает:
     
     + Имя метрики
     + Размер
     + ID сущности

     Корреляции иногда группируются.
5. В панели выберите любую перечисленную метрику, чтобы автоматически добавить ее в ваш текущий запрос.

   * Вы можете добавить несколько коррелированных метрик в ваш запрос
   * Вы можете добавить одну и ту же метрику несколько раз, а затем отредактировать запрос
6. После добавления коррелированных метрик выберите **Выполнить запрос**, чтобы обновить график.

### Коррелированные метрики: Часто задаваемые вопросы

Что означает "корреляция" в этом контексте?

Для определения корреляции анализатор проверяет форму серии данных, а не значения. Две серии с очень подобными формами коррелируют.

Почему опция "Посмотреть коррелированные метрики" недоступна?

Возможные причины, почему вы не видите опцию "Посмотреть коррелированные метрики", включают:

* Вы не выбрали визуализацию `График`
* Вы не **Разделили** запрос по размеру
* Вы не выполнили запрос, чтобы построить график
* Вы не выбрали (нажали на) линию на графике

Что означает "Не найдены связанные сигналы"?

Если отображается "Не найдены связанные сигналы", возможные причины включают:

* Слишком мало вариации в выборке (например, метрика, представляющая собой прямую линию)
* Слишком мало точек данных в выборке (например, в очень коротком временном интервале)

## Фокус

Чтобы временно удалить потенциальный мусор с вашего графика и сосредоточиться на одной метрике, вы можете скрыть все, кроме выбранной серии метрик.

* Фокус применяется только к визуализации `График`.
* Фокус не меняет ваш запрос и не влияет на плитку панели мониторинга, когда вы прикрепляете график к панели мониторинга.

### Сосредоточьтесь на серии метрик

1. На линейном графике выберите линию для метрики, на которую вы хотите сосредоточиться.
2. Во всплывающем окне выберите **Фокус**.

   График перерисовывается с отображением только выбранной метрики.

### Удалить фокус

1. На графике выберите линию для метрики, на которую вы сосредоточились.
2. Во всплывающем окне выберите **Удалить фокус**.

   График перерисовывается для отображения всех метрик.

## Результат

Раздел **Результат** отображает выбранную визуализацию результатов вашего запроса.

### Взаимодействие с визуализацией

Вы можете навести курсор и выбрать элементы визуализации, чтобы просмотреть подробности, углубиться в соответствующие страницы Dynatrace и изменить визуализацию, чтобы помочь вам выявить проблемы.

В этом примере — визуализация `График`, показывающая линейный график метрики `CPU usage %` для хостов — визуализация показывала хост, который вел себя нестабильно, поэтому мы выбрали его, чтобы просмотреть подробности о хосте во всплывающем окне.

![Data Explorer линейный график всплывающее окно](https://dt-cdn.net/images/graph-pop-up-options-391-827a7747d3.png)

В этом примере у вас есть следующие опции:

* Выберите **Фокус**, чтобы временно сосредоточиться на одной метрике. Для получения подробной информации см. [Фокус](#focus).
* Выберите **Добавить базовую линию**, чтобы добавить базовую линию для выбранной метрики. Для получения подробной информации см. [Базовые линии](#baselines).
* Выберите **Посмотреть коррелированные метрики**, чтобы перечислить коррелированные метрики и опционально добавить некоторые из них в ваш запрос. Для получения подробной информации см. [Коррелированные метрики](#correlated-metrics).
* Выберите **Просмотреть хост**, чтобы перейти на страницу подробностей этого хоста.
* Выберите **Просмотреть список хостов**, чтобы перейти на страницу **Хосты**.

Опции, доступные во всплывающем окне, зависят от запроса и визуализации, которую вы настроили.

### Прикрепить к панели мониторинга

Когда вы удовлетворены вашим запросом, вы можете добавить его на панель мониторинга.

1. Выберите **Прикрепить к панели мониторинга**.
2. Выберите панель мониторинга, для которой у вас есть разрешение на редактирование.
3. Выберите **Прикрепить**.

Для получения подробной информации см. [Прикрепить плитки к вашей панели мониторинга](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/pin-tiles-to-your-dashboard "Узнайте, как прикрепить плитки к вашим панелям мониторинга.").

### Поделиться результатами

Если вы выполняете анализ в Data Explorer и находитесь некоторые интересные результаты, которые вы хотите поделиться с другими аутентифицированными пользователями, или если вы хотите иметь возможность вернуться к одним и тем же результатам позже с помощью более позднего временного интервала

1. Перейдите в **Data Explorer** и, в разделе **Результат**, выберите  > **Поделиться ссылкой**.
2. Определите временной интервал, который следует связать с ссылкой:
   
   * Чтобы поделиться ссылкой с текущим временным интервалом, включите **Использовать текущий временной интервал**.
   * В противном случае ссылка на запрос будет указывать текущий запрос и настройки, за исключением временного интервала.
3. Выберите **Скопировать**, чтобы скопировать ссылку в ваш буфер обмена.
4. Поделитесь ссылкой с любым другим аутентифицированным пользователем Dynatrace или сохраните копию для вашего собственного использования.

### Экспорт в файл CSV

Чтобы экспортировать в файл с разделителями-запятыми (CSV)

1. Перейдите в **Data Explorer** и, в разделе **Результат**, выберите  > **Экспорт CSV**.

   * Экспорт CSV доступен для всех визуализаций, за исключением [сотовой](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-honeycomb "Настройте и используйте визуализацию сотовой в Data Explorer и отобразите ее на ваших панелях мониторинга.") и [одно значение](/docs/analyze-explore-automate/dashboards-classic/charts-and-tiles/visualization-single-value "Настройте и используйте визуализацию одно значение в Data Explorer и отобразите ее на ваших панелях мониторинга.")
   * Значения, экспортированные в файл CSV, отражают форматирование, указанное с помощью настроек **Единица** и **Формат** в разделе **Настройки**.
2. Файл CSV результатов сохраняется на вашем локальном компьютере.

Имя файла указывает на метрики, дату и временной интервал.

Например:

* `CPU usage % (24 мая 2022 г., 11:41 - 13:41).csv` — содержит результаты из метрики `CPU usage %`, выполненной 24 мая 2022 г. для временного интервала 2 часов с 11:41 до 13:41.
* `CPU usage % +1 (24 мая 2022 г., 13:19 - 13:49).csv` — содержит результаты из метрики `CPU usage %` и еще одной метрики, выполненной 24 мая 2022 г. для временного интервала 30 минут с 13:19 до 13:49.

### Использование в API

После выполнения запроса у вас есть возможность скопировать запрос для использования в запросе API.

1. Перейдите в **Data Explorer** и в разделе **Result** выберите  > **Copy request**.
2. Выберите, использовать ли временной интервал результата.
3. Выберите формат ответа: JSON или CSV.
4. Выберите **Copy**, чтобы скопировать запрос в буфер обмена, или просто выберите и скопируйте части запроса, которые вы хотите использовать.
5. Необязательно выберите **Get a token**, чтобы перейти на страницу **Generate access token** и получить токен для запроса.

## Примеры

### Таблица с двумя метриками (разделение)

В этом примере мы выбираем метрики `CPU usage %` и `Memory used %`, разбиваем их по хостам для обоих, и отображаем их в виде таблицы, чтобы строки были хостами, а столбцы показывали значения метрик для каждого хоста.

* **A:** `CPU usage %` (`builtin:host.cpu.usage`), `Average`, Разделить по `Host`
* **B:** `Memory used %` (`builtin:host.mem.usage`), `Average`, Разделить по `Host`
* **Visualization:** `Table`

Вы можете использовать **Global limit**, чтобы выровнять записи по этим двум метрикам. Например, если **Global limit** задан для метрики **A**, в результат будут включены только записи, которые соответствуют размерности метрики **A**.

Полный запрос должен выглядеть следующим образом:

![Data Explorer: Таблица с двумя метриками (разделение)](https://dt-cdn.net/images/visualization-example-table-two-metrics-split-1590-45fa100eb8.png)

Пример плитки:

![Пример таблицы плитки](https://dt-cdn.net/images/example-tile-table-342-b738cc1b64.png)

### График с двумя метриками

В этом примере мы выбираем те же метрики и отображаем их в виде графика.

Когда вы устанавливаете **Visualization** в `Graph`, отображаются **Settings**, где вы можете выбрать, как график каждой метрики. В этом случае `CPU usage %` является графиком области (область между 0 и значением метрики заполнена), а `Memory used %` является графиком линии (одна линия, представляющая значение метрики во времени).

* **A:** `CPU usage %` (`builtin:host.cpu.usage`), `Average`, Разделить по `Host`
* **B:** `Memory used %` (`builtin:host.mem.usage`), `Average`, Разделить по `Host`
* **Visualization:** `Graph`
* **Visual settings:**

  + **A** = `Area`
  + **B** = `Line`

Вы можете использовать **Global limit**, чтобы выровнять записи по этим двум метрикам. Например, если **Global limit** задан для метрики **A**, в результат будут включены только записи, которые соответствуют размерности метрики **A**.

Полный запрос должен выглядеть следующим образом:

![График с двумя метриками: Data Explorer](https://dt-cdn.net/images/visualization-example-graph-area-and-line-1586-2d9ef73a87.png)

Пример плитки:

![График с двумя метриками: плитка панели](https://dt-cdn.net/images/graph-tile-870-488b205898.png)

## Автоматическое расширение фильтров

Автоматические расширения фильтров используют Dynatrace топологию (модель сущностей), чтобы предложить дополнительные размерности фильтров, недоступные в исходной метрике. Они работают как на уровне плитки, так и на уровне панели.

* На уровне плитки выберите их, когда задаете **Filter by** в Data Explorer, просто выбрав исходную размерность метрики, которой назначено отношение. Например, метрика, которая захватывает производительность для событий Synthetic, имеет отношение к Synthetic-монитору. Используя топологию, вы можете сначала выбрать связанное событие Synthetic в фильтре, а затем, кроме имени, тега, идентификатора или состояния здоровья, вы также получаете дополнительную возможность выбрать связанный монитор.
* На уровне панели, хотя вы не можете выбрать желаемые отношения, Dynatrace автоматически расширяет метрики, где это возможно, поэтому, когда вы передаете динамический фильтр, он может применяться к плитке с этой метрикой.

### Пример 1: Метрика Synthetic шага, расширенная Synthetic-монитором

Некоторые метрики производительности для событий Synthetic не имеют возможности фильтровать их по монитору. Однако одно и то же событие может произойти в нескольких мониторах, и чтобы посмотреть на производительность одного монитора, вам нужно возможность фильтровать их.

С автоматически расширенными фильтрами вы можете теперь фильтровать по Synthetic-тестовому шагу.

1. Выберите метрику (например, `Action duration - load action (by event) [browser monitor]`). Она имеет тип сущности `SYNTHETIC_TEST_STEP`.

![Выберите метрику](https://dt-cdn.net/images/example2a-974-d735f4540c.png)

2. Добавьте фильтр.

![Выберите фильтр](https://dt-cdn.net/images/example2b-242-030d352107.png)

3. Выберите автоматически расширенную размерность.

![Выберите размерность](https://dt-cdn.net/images/example2c-423-ccc78806c5.png)

4. Результирующий фильтр.

![Окончательный фильтр](https://dt-cdn.net/images/example2d-828-13b6907765.png)

Кроме того, вы можете теперь использовать автоматически расширенные фильтры на вашей панели, поэтому нет необходимости настраивать несколько плиток, чтобы увидеть одну и ту же метрику для разных мониторов или разных хостов.

5. На вкладке **Dynamic filters** страницы настроек вашей панели добавьте фильтр для `Custom dimension`.

![Панель фильтров - добавить фильтр для Custom dimension](https://dt-cdn.net/images/example2e-949-6467cdaee6.png)

6. Выберите `Synthetic monitor`.

![Панель фильтров - выберите Synthetic monitor](https://dt-cdn.net/images/example2f-607-ccff44de90.png)

7. Сохраните изменения и отобразите панель. Теперь вы можете фильтровать все плитки на панели по Synthetic-монитору. Панель автоматически проверит для каждой плитки, существует ли такое отношение. Итак, каждая плитка (без фильтров, установленных на уровне плитки) с метрикой Synthetic-события будет фильтроваться в момент, когда отношение существует между шагом в плитке и монитором, который вы выбрали.

![Панель фильтров - теперь вы можете фильтровать плитки на панели по Synthetic-монитору](https://dt-cdn.net/images/example2g-600-455cccbf4c.png)

### Пример 2: Метрика хоста, расширенная

Здесь мы расширяем метрику хоста по экземпляру EC2.

1. Создайте плитку, связанную с хостом, с метрикой хоста (например, `CPU usage %` - `builtin:host.cpu.usage`).
2. Примените связанный фильтр, такой как `EC2 instance (runsOn)`.

   Теперь плитка со всеми хостами фильтруется только для хостов, работающих на этом экземпляре EC2. Это возможно даже в том случае, если размерность `EC2 instance` не существует на исходной метрике хоста. Используя топологию (модель сущностей), Dynatrace может фильтровать хосты на основе этого отношения.

![Пример автоматически расширенного фильтра](https://dt-cdn.net/images/ec2-instance-1299-33a6e9da4e.png)

В этом варианте метрика хоста расширяется хост-группой.

1. Установите фильтр для `Host.Host Group (isInstanceOf)` и закрепите плитку на вашей панели.

   ![Метрика хоста расширяется хост-группой.](https://dt-cdn.net/images/example2h-779-0e1e452a5a.png)
2. Теперь вы можете фильтровать плитки панели по хост-группе.

   ![Фильтруйте плитки панели по хост-группе.](https://dt-cdn.net/images/example2i-598-212748528d.png)

## Примечания и ограничения

* 10 метрик максимум на одну визуализацию
* До 100 рядов на одну метрику

  Для визуализации Honeycomb вы можете обойти это ограничение: включите **Advanced mode** и удалите `:limit(100)` из запроса.
* В отличие от многомерного анализа, Data Explorer использует долгосрочные метрические данные, а не [данные трассировки и запроса](/docs/observe/application-observability/multidimensional-analysis#data-source "Настройте представление многомерного анализа и сохраните его как рассчитанную метрику."), поэтому значения на визуализациях могут отличаться от значений в многомерном анализе.
* Чтобы предотвратить проблемы с производительностью на плитках панели, созданных с помощью Data Explorer, максимальное количество точек данных для запроса на плитке панели составляет 4 000. На основе выбранного временного интервала и примененного пользовательского разрешения Dynatrace проектирует количество точек данных для результата запроса. Если проектируемое количество точек данных превышает 4 000, Dynatrace автоматически переключает разрешение на достаточно высокое, чтобы поддерживать количество точек данных ниже 4 000.

  Обратите внимание, что это не применяется к визуализациям в Data Explorer, где вы можете иметь более 4 000 точек данных. Это применяется только к плиткам панели, созданным с помощью Data Explorer, где комбинация разрешения/временного интервала, выбранная на панели, приводит к более чем 4 000 точкам данных.
* Примеры нотации порядка величины в Dynatrace:

  Нотация

  Коэффициент

  Значение

  k

  10^3

  кило, тысяча

  M

  10^6

  мега, миллион

  G

  10^9

  гига, миллиард

  T

  10^12

  тера, триллион

  Для подробностей см. [Нотация порядка величины](/docs/discover-dynatrace/get-started/dynatrace-ui/order-of-magnitude-notation "Dynatrace нотация порядка величины для отображения значений метрик").

### Преобразование Fold и разрешение

Обратите внимание, что настройка **Преобразование Fold** влияет на разрешение.

* Если **Преобразование Fold** установлено в `Auto` для визуализации `Table`, `Single value`, `Top list` или `Honeycomb`, используется разрешение `Inf` (бесконечность), чтобы сохранить обратную совместимость. Если выбранный селектор метрики не поддерживает разрешение `Inf`, преобразование `fold` автоматически добавляется в конец запроса.
* Если **Преобразование Fold** установлено в значение, отличное от `Auto`, используется `fold`.

Поскольку все селекторы метрик запрашиваются с помощью одного и того же общего механизма (либо `fold`, либо `Inf`), добавление нового селектора, требующего `fold`, может изменить результат других селекторов.

Чтобы осмотреть фактический запрос, используемый Data Explorer, перейдите в раздел **Result** в Data Explorer и выберите  > **Copy request**.

## Связанные темы

* [Метрики API - Селектор метрик](/docs/dynatrace-api/environment-api/metric-v2/metric-selector "Настройте селектор метрик для метрики v2 API.")