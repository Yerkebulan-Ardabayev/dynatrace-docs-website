---
title: Query and filter logs
source: https://www.dynatrace.com/docs/analyze-explore-automate/logs/lma-logs-app/query-and-filter
scraped: 2026-02-06T16:00:13.052335
---

# Журналы запросов и фильтров

# Журналы запросов и фильтров

* Последняя версия Dynatrace
* Практическое руководство
* 4-минутное чтение
* Опубликовано 2 июля 2025 г.

В ![Журналы](https://dt-cdn.net/images/logs-256-ae0a9ca67f.png "Logs") **Журналы** вы можете создавать запросы, использовать фильтры, искать определенные строки журнала и многое другое.

## Создайте запрос в журналах **Logs**

Запросите журналы, указав оператор сегмента и фильтра с ключами и значениями с вашими условиями поиска, компараторами и логическими операторами.

* **Сегмент**: общий фильтр для данных наблюдения в приложениях на платформе Dynatrace.
* **Ключ**: поле или атрибут, по которому требуется фильтровать.
* **Значение**: конкретное значение, которое вы ищете.
* **Логический оператор**: соединяет несколько операторов фильтра.

По умолчанию все операторы фильтра подключены к `AND`.
* **Компаратор**: определяет тип сравнения.

![Поле фильтра в приложении «Журналы»](https://dt-cdn.net/images/untitled-001-1835-80e79a2919.png)

[Фильтр с гранями](/docs/analyze-explore-automate/logs/lma-logs-app/facets "Filter with facets in the Dynatrace Logs app."), чтобы автоматически добавлять ключи и значения в фильтр.

Используйте средство выбора даты, чтобы применить правильный временной интервал для вашего запроса.

Выберите **Выполнить запрос**, чтобы выполнить запрос.

После того как ваш запрос вернет записи в таблицу результатов, вы можете выполнить поиск по ключевым словам в этих данных.Используйте поле **Искать в результатах**, чтобы отфильтровать таблицу по ключевому слову.Эта фильтрация не выполняет новый запрос, а только показывает уже возвращенные и загруженные результаты в вашем браузере.

## Использовать сегменты **Сегменты**

По возможности применяйте сегментный фильтр к вашему запросу.

* Сегменты позволяют фильтровать журналы и другие наблюдаемые данные с помощью единого фильтра.
* Сегменты удобны для ограничения ваших запросов только определенными сегментами Grail, что уменьшает объем данных, которые необходимо сканировать для получения релевантных результатов.

Дополнительные сведения см. в [Сегментировать журналы по сегментам](/docs/manage/segments/use-cases/segments-use-cases-logs-by-bucket "Segment logs by bucket with segments") и [лучшие практики для журналов](/docs/analyze-explore-automate/logs/lma-best-practices#use-bucket-filters "Best practices for setting up Log Management and Analytics with Dynatrace.").
* Сегменты позволяют сохранять и повторно использовать часто используемые фильтры, которые применимы в ![Журналы](https://dt-cdn.net/images/logs-256-ae0a9ca67f.png "Logs") **Журналах** и в других приложениях Dynatrace.

## Изучите последние фильтры и фильтры-штифты

![Журналы](https://dt-cdn.net/images/logs-256-ae0a9ca67f.png "Logs") **Журналы** сохраняют недавно использованные фильтры, чтобы вы могли повторно применить их одним щелчком мыши.Вы также можете сохранить фильтры, закрепив их.

Выберите поле фильтра и проверьте раздел **Недавно использованные фильтры**.В этом разделе отображаются недавно примененные вами фильтры, причем самые последние находятся вверху.Когда вы вводите новый оператор фильтра, этот список сокращается до аналогичных операторов из недавно использованных фильтров.

Выберите (**Закрепить фильтр**), чтобы закрепить любой созданный вами фильтр.Если поле фильтра пусто, выберите его и прокрутите вниз до раздела **Закрепленные фильтры**, чтобы просмотреть ранее закрепленные фильтры.Открепите фильтр, снова выбрав (**Закрепить фильтр**).

## Поиск фразы в логах

Если вам нужно найти журналы, содержащие определенную фразу, у вас есть несколько вариантов: от самой широкой до более узкой фильтрации.

### Поиск по всем полям

Используйте `*` вместо ключевого имени и `~` в качестве компаратора для поиска вашей фразы во всех полях записи журнала, соответствующих вашим фильтрам.

Например, фильтр `* ~ "failed to charge card"` соответствует журналам, которые содержат эту фразу в любом поле.

Это эквивалентно использованию команды DQL [`search`](/docs/platform/grail/dynatrace-query-language/commands/filtering-commands#search «Команды фильтрации и поиска DQL»).

### Поиск по `content`

Обычно исходные полезные данные журнала сохраняются в поле `content` записи журнала.Ограничьте поиск этим полем, чтобы повысить производительность запроса.

Например, фильтр `content ~ "failed to charge card"` соответствует журналам, которые содержат эту фразу в поле `content`.

Это эквивалентно использованию строковой функции [`matchesPhrase`](/docs/platform/grail/dynatrace-query-language/functions/string-functions#matchesPhrase «Список строковых функций DQL.») DQL.

### Подстановочный знак в значении

Вы также можете указать только часть значения с помощью подстановочного знака, используя `*` в поисковом запросе.

Например, фильтр `content = "*card*"` соответствует журналам, содержащим фразу `card` в поле `content`.

Это эквивалентно использованию строковой функции [`matchesValue`](/docs/platform/grail/dynatrace-query-language/functions/string-functions#matchesValue «Список строковых функций DQL.»).

Полную информацию см. в [Поле фильтра](/docs/discover-dynatrace/get-started/dynatrace-ui/ui-filter-field "The filter field is a powerful tool that allows you to quickly find relevant information or narrow down results within apps.").

## Фильтрация по полю с несколькими значениями

По умолчанию все операторы фильтра связаны с логическим оператором `AND`.Например, `status = ERROR` `status = WARN` не возвращает результатов, поскольку одна запись журнала не может иметь два статуса.

Для запроса по полю с разными значениями используйте оператор `in`.Например, `status in (ERROR, WARN)` возвращает журналы со статусом `ERROR` или `WARN`.Альтернативно вы можете использовать `OR` для объединения нескольких операторов фильтра.

## Используйте автоматические предложения для фильтров журналов

![Журналы](https://dt-cdn.net/images/logs-256-ae0a9ca67f.png "Logs") **Журналы** предоставляют предложения по автозаполнению ключей, компараторов и значений.

* Выберите поле фильтра, чтобы получить список предложений для наиболее распространенных или релевантных полей для фильтрации.
* После выбора поля вы получаете список предложений для компараторов.
* После выбора компаратора вы получаете список предлагаемых значений для этого поля.Это не поддерживается для поля `content`.

Обратите внимание, что предложения представлены на основе фактических значений, запрошенных в фоновом режиме из данных журнала, но стоимость запроса для контекстно релевантных предложений не взимается.

## Похожие темы

* [Поле фильтра](/docs/discover-dynatrace/get-started/dynatrace-ui/ui-filter-field "The filter field is a powerful tool that allows you to quickly find relevant information or narrow down results within apps.")
* [Фильтр с гранями](/docs/analyze-explore-automate/logs/lma-logs-app/facets "Filter with facets in the Dynatrace Logs app.")
* [Сегментировать журналы по сегментам](/docs/manage/segments/use-cases/segments-use-cases-logs-by-bucket "Segment logs by bucket with segments")
* [Лучшие практики управления журналами и аналитики](/docs/analyze-explore-automate/logs/lma-best-practices "Best practices for setting up Log Management and Analytics with Dynatrace.")